# ­Ъџђ CREATE_MODULE.PY - рЃљрЃ«рЃљрЃџрЃў рЃЏрЃЮрЃЊрЃБрЃџрЃўрЃА рЃљрЃЋрЃбрЃЮрЃЏрЃљрЃбрЃБрЃарЃў рЃњрЃћрЃюрЃћрЃарЃљрЃбрЃЮрЃарЃў

## ­ЪЊІ рЃарЃљ рЃљрЃарЃўрЃА create_module.py?

`create_module.py` рЃљрЃарЃўрЃА **рЃљрЃЋрЃбрЃЮрЃЏрЃљрЃбрЃБрЃарЃў рЃАрЃЎрЃарЃўрЃърЃбрЃў**, рЃарЃЮрЃЏрЃћрЃџрЃўрЃф **рЃАрЃарЃБрЃџрЃљрЃЊ рЃцрЃБрЃюрЃЦрЃфрЃўрЃЮрЃюрЃљрЃџрЃБрЃа рЃЏрЃЮрЃЊрЃБрЃџрЃА** рЃЦрЃЏрЃюрЃўрЃА Synapse Framework-рЃўрЃАрЃЌрЃЋрЃўрЃА. рЃўрЃА рЃњрЃћрЃюрЃћрЃарЃўрЃарЃћрЃЉрЃА рЃДрЃЋрЃћрЃџрЃљ рЃАрЃљрЃГрЃўрЃарЃЮ рЃцрЃљрЃўрЃџрЃА рЃАрЃгрЃЮрЃарЃў рЃАрЃбрЃарЃБрЃЦрЃбрЃБрЃарЃўрЃЌ, рЃўрЃюрЃбрЃћрЃарЃцрЃћрЃўрЃАрЃћрЃЉрЃўрЃЌ рЃЊрЃљ рЃЎрЃЮрЃюрЃЊрЃўрЃфрЃўрЃБрЃарЃў рЃЎрЃЮрЃЏрЃърЃўрЃџрЃљрЃфрЃўрЃўрЃА рЃЏрЃ«рЃљрЃарЃЊрЃљрЃГрЃћрЃарЃўрЃЌ.

## ­Ъј» рЃарЃљрЃА рЃљрЃЎрЃћрЃЌрЃћрЃЉрЃА?

### РюЁ рЃерЃћрЃЦрЃЏрЃюрЃўрЃџрЃў рЃцрЃљрЃўрЃџрЃћрЃЉрЃў (5 рЃцрЃљрЃўрЃџрЃў):
1. **`module.json`** - рЃЏрЃЮрЃЊрЃБрЃџрЃўрЃА рЃЏрЃћрЃбрЃљрЃЏрЃЮрЃюрЃљрЃфрЃћрЃЏрЃћрЃЉрЃў
2. **`CMakeLists.txt`** - рЃЎрЃЮрЃюрЃЊрЃўрЃфрЃўрЃБрЃарЃў рЃЎрЃЮрЃЏрЃърЃўрЃџрЃљрЃфрЃўрЃўрЃА рЃџрЃЮрЃњрЃўрЃЎрЃљ
3. **`Kconfig`** - рЃЎрЃЮрЃюрЃцрЃўрЃњрЃБрЃарЃљрЃфрЃўрЃўрЃА рЃърЃљрЃарЃљрЃЏрЃћрЃбрЃарЃћрЃЉрЃў
4. **`include/{module_name}.h`** - Header рЃцрЃљрЃўрЃџрЃў
5. **`src/{module_name}.c`** - Source рЃцрЃљрЃўрЃџрЃў (рЃАрЃарЃБрЃџрЃў interface implementation)

### РюЁ рЃљрЃЋрЃбрЃЮрЃЏрЃљрЃбрЃБрЃарЃў рЃўрЃюрЃбрЃћрЃњрЃарЃљрЃфрЃўрЃљ:

- ­ЪћД **CMake-рЃўрЃЌ рЃљрЃЋрЃбрЃЮрЃЏрЃљрЃбрЃБрЃарЃљрЃЊ рЃљрЃдрЃЏрЃЮрЃљрЃЕрЃћрЃюрЃА** - `collect_modules.cmake`
- ­ЪћД **Kconfig-рЃерЃў рЃћрЃЏрЃљрЃбрЃћрЃЉрЃљ** - рЃљрЃЋрЃбрЃЮрЃЏрЃљрЃбрЃБрЃарЃў Kconfig.projbuild рЃњрЃћрЃюрЃћрЃарЃљрЃфрЃўрЃљ
- ­ЪћД **Factory-рЃерЃў рЃарЃћрЃњрЃўрЃАрЃбрЃарЃўрЃарЃЊрЃћрЃЉрЃљ** - рЃЎрЃЮрЃюрЃЊрЃўрЃфрЃўрЃБрЃарЃў include-рЃћрЃЉрЃўрЃЌ
- ­ЪћД **Build-рЃерЃў рЃЏрЃЮрЃюрЃљрЃгрЃўрЃџрЃћрЃЮрЃЉрЃА** - рЃЏрЃ«рЃЮрЃџрЃЮрЃЊ рЃЕрЃљрЃарЃЌрЃЋрЃўрЃАрЃљрЃА

## ­ЪЏа№ИЈ рЃњрЃљрЃЏрЃЮрЃДрЃћрЃюрЃћрЃЉрЃљ

### 1. рЃФрЃўрЃарЃўрЃЌрЃљрЃЊрЃў рЃАрЃўрЃюрЃбрЃљрЃЦрЃАрЃў:
```bash
python3 tools/create_module.py <module_name> [options]
```

### 2. рЃЏрЃљрЃњрЃљрЃџрЃўрЃЌрЃћрЃЉрЃў:

#### ­ЪЊА WiFi рЃЏрЃЮрЃЊрЃБрЃџрЃў:
```bash
python3 tools/create_module.py wifi_manager --type networking --description "WiFi рЃЎрЃљрЃЋрЃерЃўрЃарЃўрЃА рЃЏрЃћрЃюрЃћрЃ»рЃћрЃарЃў"
```

#### ­ЪїА№ИЈ рЃбрЃћрЃЏрЃърЃћрЃарЃљрЃбрЃБрЃарЃўрЃА рЃАрЃћрЃюрЃАрЃЮрЃарЃў:
```bash
python3 tools/create_module.py temperature_sensor --type sensors --description "рЃбрЃћрЃЏрЃърЃћрЃарЃљрЃбрЃБрЃарЃўрЃА рЃАрЃћрЃюрЃАрЃЮрЃарЃўрЃА рЃўрЃюрЃбрЃћрЃарЃцрЃћрЃўрЃАрЃў"
```

#### ­ЪЊ║ рЃЊрЃўрЃАрЃърЃџрЃћрЃўрЃА рЃЊрЃарЃљрЃўрЃЋрЃћрЃарЃў:
```bash
python3 tools/create_module.py oled_display --type displays --description "OLED рЃЊрЃўрЃАрЃърЃџрЃћрЃўрЃА рЃЊрЃарЃљрЃўрЃЋрЃћрЃарЃў" --author "Your Name"
```

#### ­ЪњЙ рЃЏрЃћрЃ«рЃАрЃўрЃћрЃарЃћрЃЉрЃўрЃА рЃЏрЃћрЃюрЃћрЃ»рЃћрЃарЃў:
```bash
python3 tools/create_module.py flash_storage --type storage --description "Flash рЃЏрЃћрЃ«рЃАрЃўрЃћрЃарЃћрЃЉрЃўрЃА рЃЏрЃћрЃюрЃћрЃ»рЃћрЃарЃў"
```

### 3. рЃърЃљрЃарЃљрЃЏрЃћрЃбрЃарЃћрЃЉрЃў:

| рЃърЃљрЃарЃљрЃЏрЃћрЃбрЃарЃў | рЃљрЃдрЃгрЃћрЃарЃљ | рЃЏрЃљрЃњрЃљрЃџрЃўрЃЌрЃў | рЃљрЃБрЃфрЃўрЃџрЃћрЃЉрЃћрЃџрЃў |
|-----------|---------|----------|-------------|
| `module_name` | рЃЏрЃЮрЃЊрЃБрЃџрЃўрЃА рЃАрЃљрЃ«рЃћрЃџрЃў | `wifi_manager` | РюЁ |
| `--type` | рЃЏрЃЮрЃЊрЃБрЃџрЃўрЃА рЃбрЃўрЃърЃў | `networking` | РЮї (default: utilities) |
| `--description` | рЃљрЃдрЃгрЃћрЃарЃљ | `"WiFi connection manager"` | РЮї (auto-generated) |
| `--author` | рЃљрЃЋрЃбрЃЮрЃарЃў | `"Your Name"` | РЮї (default: "Giorgi Magradze") |

### 4. рЃ«рЃћрЃџрЃЏрЃўрЃАрЃљрЃгрЃЋрЃЊрЃЮрЃЏрЃў рЃбрЃўрЃърЃћрЃЉрЃў:
- `utilities` (default)
- `networking` 
- `sensors`
- `displays`  
- `storage`
- `communication`
- `security`
- `testing`

## ­ЪЈЌ№ИЈ рЃљрЃарЃЦрЃўрЃбрЃћрЃЦрЃбрЃБрЃарЃљ рЃЊрЃљ рЃџрЃЮрЃњрЃўрЃЎрЃљ

### 1. ­ЪДа рЃЎрЃЮрЃюрЃЊрЃўрЃфрЃўрЃБрЃарЃў рЃЎрЃЮрЃЏрЃърЃўрЃџрЃљрЃфрЃўрЃљ (SMART SYSTEM):

```cmake
# 3 рЃћрЃбрЃљрЃърЃўрЃљрЃюрЃў рЃАрЃўрЃАрЃбрЃћрЃЏрЃљ:

if(DEFINED CONFIG_MODULE_WIFI_MANAGER_ENABLED)
    if(CONFIG_MODULE_WIFI_MANAGER_ENABLED)
        # РюЁ рЃЏрЃЮрЃЊрЃБрЃџрЃў рЃЕрЃљрЃарЃЌрЃБрЃџрЃўрЃљ - рЃАрЃарЃБрЃџрЃў рЃЎрЃЮрЃЏрЃърЃўрЃџрЃљрЃфрЃўрЃљ
        idf_component_register(SRCS "src/wifi_manager.c" ...)
    else()
        # РЮї рЃЏрЃЮрЃЊрЃБрЃџрЃў рЃњрЃљрЃЏрЃЮрЃарЃЌрЃБрЃџрЃўрЃљ - рЃфрЃљрЃарЃўрЃћрЃџрЃў placeholder
        idf_component_register(SRCS "empty_placeholder.c" ...)
    endif()
else()
    # ­ЪћД Configure рЃћрЃбрЃљрЃърЃў - рЃЊрЃарЃЮрЃћрЃЉрЃўрЃЌрЃў рЃарЃћрЃњрЃўрЃАрЃбрЃарЃљрЃфрЃўрЃљ
    idf_component_register(SRCS "src/wifi_manager.c" ...)
endif()
```

### 2. ­ЪЊЂ рЃерЃћрЃЦрЃЏрЃюрЃўрЃџрЃў рЃАрЃбрЃарЃБрЃЦрЃбрЃБрЃарЃљ:

```
components/modules/{type}/{module_name}/
РћюРћђРћђ CMakeLists.txt        # рЃЎрЃЮрЃюрЃЊрЃўрЃфрЃўрЃБрЃарЃў рЃЎрЃЮрЃЏрЃърЃўрЃџрЃљрЃфрЃўрЃљ
РћюРћђРћђ Kconfig              # рЃЎрЃЮрЃюрЃцрЃўрЃњрЃБрЃарЃљрЃфрЃўрЃўрЃА рЃърЃљрЃарЃљрЃЏрЃћрЃбрЃарЃћрЃЉрЃў  
РћюРћђРћђ module.json          # рЃЏрЃћрЃбрЃљрЃЏрЃЮрЃюрЃљрЃфрЃћрЃЏрЃћрЃЉрЃў
РћюРћђРћђ include/
Рћѓ   РћћРћђРћђ {module_name}.h  # Public API
РћћРћђРћђ src/
    РћћРћђРћђ {module_name}.c  # Implementation
```

### 3. ­ЪћЌ Base Module Interface:

рЃЌрЃўрЃЌрЃЮрЃћрЃБрЃџрЃў рЃЏрЃЮрЃЊрЃБрЃџрЃў рЃўрЃЏрЃърЃџрЃћрЃЏрЃћрЃюрЃбрЃўрЃарЃћрЃЉрЃА рЃАрЃарЃБрЃџ `base_module.h` interface-рЃА:

```c
// рЃФрЃўрЃарЃўрЃЌрЃљрЃЊрЃў рЃцрЃБрЃюрЃЦрЃфрЃўрЃћрЃЉрЃў:
module_t *{module_name}_create(const cJSON *config);
static esp_err_t {module_name}_init(module_t *self);
static esp_err_t {module_name}_start(module_t *self);  
static esp_err_t {module_name}_enable(module_t *self);
static esp_err_t {module_name}_disable(module_t *self);
static esp_err_t {module_name}_reconfigure(module_t *self, const cJSON *new_config);
static module_status_t {module_name}_get_status(module_t *self);
static void {module_name}_handle_event(module_t *self, core_framework_event_id_t event_id, void *event_data);
```

## ­Ъћё рЃАрЃарЃБрЃџрЃў Workflow

### 1. рЃЏрЃЮрЃЊрЃБрЃџрЃўрЃА рЃерЃћрЃЦрЃЏрЃюрЃљ:
```bash
python3 tools/create_module.py new_module --type sensors
```

### 2. рЃАрЃўрЃАрЃбрЃћрЃЏрЃўрЃА reconfigure:
```bash
idf.py reconfigure
```
**рЃарЃљрЃА рЃ«рЃЊрЃћрЃЉрЃљ:** 
- `collect_modules.cmake` рЃћрЃФрЃћрЃЉрЃА рЃљрЃ«рЃљрЃџ рЃЏрЃЮрЃЊрЃБрЃџрЃћрЃЉрЃА
- рЃљрЃњрЃћрЃюрЃћрЃарЃўрЃарЃћрЃЉрЃА factory рЃцрЃљрЃўрЃџрЃћрЃЉрЃА рЃЎрЃЮрЃюрЃЊрЃўрЃфрЃўрЃБрЃарЃў include-рЃћрЃЉрЃўрЃЌ
- рЃљрЃюрЃљрЃ«рЃџрЃћрЃЉрЃА Kconfig.projbuild-рЃА

### 3. рЃЎрЃЮрЃюрЃцрЃўрЃњрЃБрЃарЃљрЃфрЃўрЃљ:
```bash  
idf.py menuconfig
```
**рЃАрЃљрЃЊ рЃюрЃљрЃ«рЃљрЃЋрЃЌ:** `Component config Рєњ Synapse Framework Modules Рєњ New_Module Module Configuration`

### 4. Build:
```bash
idf.py build
```
**рЃарЃљрЃА рЃ«рЃЊрЃћрЃЉрЃљ:**
- рЃЌрЃБ рЃЏрЃЮрЃЊрЃБрЃџрЃў рЃЕрЃљрЃарЃЌрЃБрЃџрЃўрЃљ: рЃЎрЃЮрЃЏрЃърЃўрЃџрЃўрЃарЃЊрЃћрЃЉрЃљ рЃАрЃарЃБрЃџрЃў рЃЎрЃЮрЃЊрЃў
- рЃЌрЃБ рЃњрЃљрЃЏрЃЮрЃарЃЌрЃБрЃџрЃўрЃљ: placeholder рЃЎрЃЮрЃЊрЃў (firmware-рЃерЃў рЃљрЃа рЃ«рЃЋрЃЊрЃћрЃЉрЃљ)

## ­ЪјЏ№ИЈ рЃЎрЃЮрЃюрЃцрЃўрЃњрЃБрЃарЃљрЃфрЃўрЃўрЃА рЃърЃљрЃарЃљрЃЏрЃћрЃбрЃарЃћрЃЉрЃў

рЃЌрЃўрЃЌрЃЮрЃћрЃБрЃџрЃў рЃЏрЃЮрЃЊрЃБрЃџрЃўрЃАрЃЌрЃЋрЃўрЃА рЃљрЃЋрЃбрЃЮрЃЏрЃљрЃбрЃБрЃарЃљрЃЊ рЃўрЃЦрЃЏрЃюрЃћрЃЉрЃљ:

```kconfig
menu "New_Module Module Configuration"
    config MODULE_NEW_MODULE_ENABLED
        bool "Enable New_Module Module"
        default y
        
    config NEW_MODULE_DEFAULT_INSTANCE_NAME  
        string "Default Instance Name"
        default "main_new_module"
        depends on MODULE_NEW_MODULE_ENABLED
        
    config NEW_MODULE_INSTANCE_NAME_MAX_LEN
        int "Maximum Instance Name Length"  
        default 32
        range 8 64
        depends on MODULE_NEW_MODULE_ENABLED
endmenu
```

## ­ЪћЇ рЃ«рЃћрЃџрЃўрЃЌ рЃЏрЃЮрЃарЃњрЃћрЃЉрЃљ

### 1. рЃЎрЃЮрЃюрЃцрЃўрЃњрЃБрЃарЃљрЃфрЃўрЃўрЃА рЃњрЃљрЃцрЃљрЃарЃЌрЃЮрЃћрЃЉрЃљ:
```c
// рЃЎрЃЮрЃюрЃцрЃўрЃњрЃБрЃарЃљрЃфрЃўрЃўрЃА рЃАрЃбрЃарЃБрЃЦрЃбрЃБрЃарЃљрЃерЃў:
typedef struct {
    char instance_name[CONFIG_FMW_MODULE_NAME_MAX_LENGTH];
    bool auto_start;
    
    // TODO: рЃЊрЃљрЃљрЃЏрЃљрЃбрЃћрЃЌ рЃЏрЃЮрЃЊрЃБрЃџрЃўрЃА рЃАрЃърЃћрЃфрЃўрЃцрЃўрЃБрЃарЃў рЃцрЃўрЃџрЃЊрЃћрЃЉрЃў:
    int sensor_pin;
    float calibration_factor;
    uint32_t update_interval_ms;
} sensor_config_t;
```

### 2. Private рЃЊрЃљрЃбрЃўрЃА рЃњрЃљрЃцрЃљрЃарЃЌрЃЮрЃћрЃЉрЃљ:
```c
typedef struct {
    module_t base;
    sensor_config_t config;
    bool is_initialized;
    bool is_enabled;
    
    // TODO: рЃЊрЃљрЃљрЃЏрЃљрЃбрЃћрЃЌ рЃерЃўрЃЊрЃљ рЃЏрЃЮрЃюрЃљрЃфрЃћрЃЏрЃћрЃЉрЃў:
    TaskHandle_t sensor_task;
    float last_reading;
    uint64_t last_update_time;
} sensor_module_t;
```

### 3. рЃўрЃЋрЃћрЃюрЃЌрЃћрЃЉрЃўрЃА рЃЊрЃљрЃЏрЃБрЃерЃљрЃЋрЃћрЃЉрЃљ:
```c
static void sensor_handle_event(module_t *self, core_framework_event_id_t event_id, void *event_data) {
    switch (event_id) {
        case FMW_EVENT_SYSTEM_INIT:
            // рЃАрЃўрЃАрЃбрЃћрЃЏрЃўрЃА рЃўрЃюрЃўрЃфрЃўрЃљрЃџрЃўрЃќрЃљрЃфрЃўрЃљ
            break;
        case FMW_EVENT_SYSTEM_START:
            // рЃАрЃўрЃАрЃбрЃћрЃЏрЃўрЃА рЃњрЃљрЃерЃЋрЃћрЃЉрЃљ
            break;
        case FMW_EVENT_SENSOR_READ_REQUEST:
            // рЃАрЃћрЃюрЃАрЃЮрЃарЃўрЃА рЃгрЃљрЃЎрЃўрЃЌрЃ«рЃЋрЃўрЃА рЃЏрЃЮрЃЌрЃ«рЃЮрЃЋрЃюрЃљ
            break;
        default:
            ESP_LOGD(TAG, "Unhandled event: %d", event_id);
            break;
    }
}
```

## ­Ъџе рЃЏрЃюрЃўрЃерЃЋрЃюрЃћрЃџрЃЮрЃЋрЃљрЃюрЃў рЃерЃћрЃюрЃўрЃерЃЋрЃюрЃћрЃЉрЃў

### РюЁ рЃарЃљрЃф рЃБрЃюрЃЊрЃљ рЃњрЃљрЃ«рЃАрЃЮрЃЋрЃЊрЃћрЃЌ:
1. **module_name рЃљрЃа рЃБрЃюрЃЊрЃљ рЃерЃћрЃўрЃфрЃљрЃЋрЃЊрЃћрЃА SPACE-рЃћрЃЉрЃА** - рЃњрЃљрЃЏрЃЮрЃўрЃДрЃћрЃюрЃћрЃЌ underscore
2. **рЃДрЃЮрЃЋрЃћрЃџрЃЌрЃЋрЃўрЃА рЃБрЃюрЃЊрЃљ рЃњрЃљрЃБрЃерЃЋрЃљрЃЌ idf.py reconfigure** рЃљрЃ«рЃљрЃџрЃў рЃЏрЃЮрЃЊрЃБрЃџрЃўрЃА рЃерЃћрЃЦрЃЏрЃюрЃўрЃА рЃерЃћрЃЏрЃЊрЃћрЃњ
3. **рЃЏрЃЮрЃЊрЃБрЃџрЃў рЃАрЃгрЃЮрЃарЃљрЃЊ рЃљрЃа рЃўрЃарЃЌрЃЋрЃћрЃЉрЃљ рЃЌрЃБ CONFIG variables рЃљрЃарЃљрЃАрЃгрЃЮрЃарЃўрЃљ**
4. **Header рЃцрЃљрЃўрЃџрЃў рЃДрЃЮрЃЋрЃћрЃџрЃЌрЃЋрЃўрЃА рЃ«рЃћрЃџрЃЏрЃўрЃАрЃљрЃгрЃЋрЃЊрЃЮрЃЏрЃўрЃљ** - Factory-рЃўрЃАрЃЌрЃЋрЃўрЃА
5. **Source рЃЎрЃЮрЃЊрЃў рЃЎрЃЮрЃЏрЃърЃўрЃџрЃўрЃарЃЊрЃћрЃЉрЃљ рЃЏрЃ«рЃЮрЃџрЃЮрЃЊ рЃЕрЃљрЃарЃЌрЃЋрЃўрЃАрЃљрЃА** - Kconfig-рЃўрЃЌ

### РЮї рЃЕрЃЋрЃћрЃБрЃџрЃў рЃерЃћрЃфрЃЊрЃЮрЃЏрЃћрЃЉрЃў:
1. **рЃљрЃа рЃњрЃљрЃБрЃерЃЋрЃўрЃЌ reconfigure** Рєњ рЃЏрЃЮрЃЊрЃБрЃџрЃў рЃљрЃа рЃљрЃдрЃЏрЃЮрЃЕрЃћрЃюрЃўрЃџрЃљ  
2. **рЃ«рЃћрЃџрЃўрЃЌ рЃерЃћрЃфрЃЋрЃљрЃџрЃўрЃЌ CMakeLists.txt** Рєњ рЃЎрЃЮрЃюрЃЊрЃўрЃфрЃўрЃБрЃарЃў рЃџрЃЮрЃњрЃўрЃЎрЃљ рЃњрЃљрЃцрЃБрЃГрЃЊрЃљ
3. **module.json рЃљрЃа рЃерЃћрЃЦрЃЏрЃюрЃўрЃЌ** Рєњ collect_modules.cmake рЃЋрЃћрЃа рЃюрЃљрЃ«рЃљрЃЋрЃА
4. **CONFIG_ рЃфрЃЋрЃџрЃљрЃЊрЃА рЃ«рЃћрЃџрЃўрЃЌ рЃерЃћрЃфрЃЋрЃљрЃџрЃўрЃЌ** Рєњ рЃљрЃдрЃљрЃа рЃЏрЃБрЃерЃљрЃЮрЃЉрЃА рЃЎрЃЮрЃюрЃЊрЃўрЃфрЃўрЃБрЃарЃў рЃЎрЃЮрЃЏрЃърЃўрЃџрЃљрЃфрЃўрЃљ

## ­ЪДф рЃбрЃћрЃАрЃбрЃўрЃарЃћрЃЉрЃўрЃА рЃЏрЃћрЃЌрЃЮрЃЊрЃћрЃЉрЃў

### 1. рЃарЃЮрЃЏ рЃЊрЃљрЃарЃгрЃЏрЃБрЃюрЃЊрЃћрЃЌ рЃЏрЃЮрЃЊрЃБрЃџрЃў рЃАрЃгрЃЮрЃарЃљрЃЊ рЃўрЃЦрЃЏрЃюрЃћрЃЉрЃљ:
```bash
# рЃерЃћрЃЦрЃЏрЃюрЃљ
python3 tools/create_module.py test_module --type testing

# рЃерЃћрЃЏрЃЮрЃгрЃЏрЃћрЃЉрЃљ
ls -la components/modules/testing/test_module/
# рЃБрЃюрЃЊрЃљ рЃЕрЃљрЃюрЃЊрЃћрЃА: CMakeLists.txt, Kconfig, module.json, include/, src/
```

### 2. рЃарЃЮрЃЏ рЃЊрЃљрЃарЃгрЃЏрЃБрЃюрЃЊрЃћрЃЌ рЃАрЃўрЃАрЃбрЃћрЃЏрЃљ рЃљрЃдрЃЏрЃЮрЃљрЃЕрЃћрЃюрЃА:
```bash
idf.py reconfigure 2>&1 | grep -i "test_module"
# рЃБрЃюрЃЊрЃљ рЃЕрЃљрЃюрЃЊрЃћрЃА: "Test_Module Module: CONFIGURE STAGE" рЃљрЃю "ENABLED"
```

### 3. рЃарЃЮрЃЏ рЃЊрЃљрЃарЃгрЃЏрЃБрЃюрЃЊрЃћрЃЌ рЃЎрЃЮрЃюрЃцрЃўрЃњрЃБрЃарЃљрЃфрЃўрЃљ рЃЏрЃБрЃерЃљрЃЮрЃЉрЃА:
```bash
idf.py menuconfig
# Navigate: Component config Рєњ Synapse Framework Modules Рєњ Test_Module Module Configuration
```  

### 4. рЃарЃЮрЃЏ рЃЊрЃљрЃарЃгрЃЏрЃБрЃюрЃЊрЃћрЃЌ build рЃЏрЃБрЃерЃљрЃЮрЃЉрЃА:
```bash
idf.py build 2>&1 | grep -A 5 -B 5 "Test_Module Module"
# рЃБрЃюрЃЊрЃљ рЃЕрЃљрЃюрЃЊрЃћрЃА: "ENABLED - рЃЎрЃЮрЃЏрЃърЃўрЃџрЃўрЃарЃЊрЃћрЃЉрЃљ рЃАрЃарЃБрЃџрЃў рЃцрЃБрЃюрЃЦрЃфрЃўрЃЮрЃюрЃљрЃџрЃўрЃЌ" рЃљрЃю "DISABLED"
```

## ­ЪЊі рЃњрЃљрЃюрЃАрЃ«рЃЋрЃљрЃЋрЃћрЃЉрЃљ рЃАрЃ«рЃЋрЃљ рЃАрЃўрЃАрЃбрЃћрЃЏрЃћрЃЉрЃўрЃАрЃњрЃљрЃю

| рЃцрЃБрЃюрЃЦрЃфрЃўрЃљ | Manual | create_module.py |
|---------|---------|------------------|
| рЃцрЃљрЃўрЃџрЃћрЃЉрЃўрЃА рЃерЃћрЃЦрЃЏрЃюрЃљ | рЃ«рЃћрЃџрЃўрЃЌ 5 рЃцрЃљрЃўрЃџрЃў | РюЁ рЃљрЃЋрЃбрЃЮрЃЏрЃљрЃбрЃБрЃарЃў |
| Interface рЃўрЃЏрЃърЃџрЃћрЃЏрЃћрЃюрЃбрЃљрЃфрЃўрЃљ | рЃ«рЃћрЃџрЃўрЃЌ рЃЎрЃЮрЃЊрЃў | РюЁ рЃЏрЃќрЃљ template |
| рЃЎрЃЮрЃюрЃЊрЃўрЃфрЃўрЃБрЃарЃў рЃЎрЃЮрЃЏрЃърЃўрЃџрЃљрЃфрЃўрЃљ | рЃ«рЃћрЃџрЃўрЃЌ CMake | РюЁ рЃљрЃЋрЃбрЃЮрЃЏрЃљрЃбрЃБрЃарЃў |
| Kconfig рЃўрЃюрЃбрЃћрЃњрЃарЃљрЃфрЃўрЃљ | рЃ«рЃћрЃџрЃўрЃЌ рЃарЃћрЃЊрЃљрЃЦрЃбрЃўрЃарЃћрЃЉрЃљ | РюЁ рЃљрЃЋрЃбрЃЮрЃЏрЃљрЃбрЃБрЃарЃў |
| рЃерЃћрЃфрЃЊрЃЮрЃЏрЃћрЃЉрЃўрЃА рЃарЃљрЃЮрЃЊрЃћрЃюрЃЮрЃЉрЃљ | рЃЏрЃљрЃдрЃљрЃџрЃў | РюЁ рЃЏрЃўрЃюрЃўрЃЏрЃљрЃџрЃБрЃарЃў |
| рЃЊрЃарЃЮ | 30-60 рЃгрЃБрЃЌрЃў | РюЁ 10 рЃгрЃљрЃЏрЃў |

## ­ЪјЊ Best Practices

### 1. рЃАрЃљрЃ«рЃћрЃџрЃћрЃЉрЃўрЃА рЃЎрЃЮрЃюрЃЋрЃћрЃюрЃфрЃўрЃљ:
- **рЃЏрЃЮрЃЊрЃБрЃџрЃўрЃА рЃАрЃљрЃ«рЃћрЃџрЃў**: `snake_case` (рЃЏрЃљрЃњ. `wifi_manager`, `temperature_sensor`)
- **рЃбрЃўрЃърЃў**: `lowercase` (рЃЏрЃљрЃњ. `networking`, `sensors`) 
- **рЃљрЃдрЃгрЃћрЃарЃљ**: рЃфрЃ«рЃљрЃЊрЃў рЃЊрЃљ рЃЎрЃЮрЃюрЃЎрЃарЃћрЃбрЃБрЃџрЃў

### 2. рЃњрЃљрЃюрЃЋрЃўрЃЌрЃљрЃарЃћрЃЉрЃўрЃА workflow:
1. **рЃерЃћрЃЦрЃЏрЃћрЃюрЃўрЃЌ рЃЏрЃЮрЃЊрЃБрЃџрЃў** create_module.py-рЃўрЃЌ
2. **рЃЊрЃљрЃљрЃЎрЃЮрЃюрЃцрЃўрЃњрЃБрЃарЃўрЃарЃћрЃЌ** menuconfig-рЃўрЃЌ  
3. **рЃЊрЃљрЃгрЃДрЃћрЃЌ рЃърЃарЃЮрЃњрЃарЃљрЃЏрЃўрЃарЃћрЃЉрЃљ** TODO рЃЎрЃЮрЃЏрЃћрЃюрЃбрЃљрЃарЃћрЃЉрЃўрЃЊрЃљрЃю
4. **рЃерЃћрЃАрЃљрЃЏрЃЮрЃгрЃЏрЃћрЃЉрЃџрЃљрЃЊ рЃњрЃљрЃЏрЃЮрЃарЃЌрЃћрЃЌ/рЃЕрЃљрЃарЃЌрЃћрЃЌ** Kconfig-рЃўрЃЌ

### 3. рЃЎрЃЮрЃЊрЃўрЃА рЃ«рЃљрЃарЃўрЃАрЃ«рЃў:
- **рЃДрЃЮрЃЋрЃћрЃџрЃЌрЃЋрЃўрЃА рЃљрЃЏрЃЮрЃгрЃЏрЃћрЃЉрЃЊрЃўрЃЌ** NULL pointers-рЃА
- **рЃўрЃДрЃћрЃюрЃћрЃЉрЃЊрЃўрЃЌ ESP_LOG** debugging-рЃўрЃАрЃЌрЃЋрЃўрЃА
- **рЃўрЃюрЃљрЃ«рЃљрЃЋрЃЊрЃўрЃЌ** рЃЎрЃЮрЃюрЃАрЃўрЃАрЃбрЃћрЃюрЃбрЃБрЃа рЃАрЃбрЃўрЃџрЃА рЃАрЃ«рЃЋрЃљ рЃЏрЃЮрЃЊрЃБрЃџрЃћрЃЉрЃЌрЃљрЃю

---

## ­Ъј» рЃерЃћрЃ»рЃљрЃЏрЃћрЃЉрЃљ

**create_module.py** рЃљрЃарЃўрЃА **рЃАрЃарЃБрЃџрЃў рЃљрЃЋрЃбрЃЮрЃЏрЃљрЃбрЃБрЃарЃў рЃ«рЃћрЃџрЃАрЃљрЃгрЃДрЃЮ** Synapse Framework рЃЏрЃЮрЃЊрЃБрЃџрЃћрЃЉрЃўрЃА рЃерЃћрЃЦрЃЏрЃюрЃўрЃАрЃЌрЃЋрЃўрЃА. рЃўрЃА:

РюЁ **рЃљрЃЕрЃЦрЃљрЃарЃћрЃЉрЃА рЃЊрЃћрЃЋрЃћрЃџрЃЮрЃърЃЏрЃћрЃюрЃбрЃА** - 30 рЃгрЃБрЃЌрЃўрЃЊрЃљрЃю 10 рЃгрЃљрЃЏрЃљрЃЏрЃЊрЃћ  
РюЁ **рЃњрЃљрЃЋрЃљрЃарЃФрЃЮрЃЉрЃА рЃерЃћрЃфрЃЊрЃЮрЃЏрЃћрЃЉрЃА** - template-based generation  
РюЁ **рЃБрЃќрЃарЃБрЃюрЃЋрЃћрЃџрЃДрЃЮрЃцрЃА рЃЎрЃЮрЃюрЃАрЃўрЃАрЃбрЃћрЃюрЃбрЃЮрЃЉрЃљрЃА** - рЃћрЃарЃЌрЃўрЃљрЃюрЃў рЃАрЃбрЃарЃБрЃЦрЃбрЃБрЃарЃљ  
РюЁ **рЃЏрЃ«рЃљрЃарЃА рЃБрЃГрЃћрЃарЃА рЃЎрЃЮрЃюрЃЊрЃўрЃфрЃўрЃБрЃа рЃЎрЃЮрЃЏрЃърЃўрЃџрЃљрЃфрЃўрЃљрЃА** - memory optimization  
РюЁ **рЃљрЃЋрЃбрЃЮрЃЏрЃљрЃбрЃБрЃарЃљрЃЊ рЃўрЃюрЃбрЃћрЃњрЃарЃўрЃарЃЊрЃћрЃЉрЃљ** - рЃ«рЃћрЃџрЃўрЃА рЃЕрЃљрЃарЃћрЃЋрЃўрЃА рЃњрЃљрЃарЃћрЃерЃћ  

**рЃўрЃДрЃћрЃюрЃћрЃЌ рЃДрЃЮрЃЋрЃћрЃџрЃЌрЃЋрЃўрЃА** рЃљрЃ«рЃљрЃџрЃў рЃЏрЃЮрЃЊрЃБрЃџрЃўрЃА рЃерЃћрЃЦрЃЏрЃюрЃўрЃАрЃљрЃА! ­Ъџђ
