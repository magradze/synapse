# საქაღალდეებისა და ფაილების სტრუქტურა (Directory Structure)

## ძირითადი სტრუქტურა

```
project_root/
├── main/                  # მთავარი აპლიკაცია (app_main და ძირითადი ლოგიკა)
│   └── main.c
├── components/            # ყველა კომპონენტი და მოდული
│   ├── core/              # ბირთვი: service locator, event bus, module register და სხვა
│   ├── interfaces/        # გლობალური ინტერფეისები
│   └── modules/           # კატეგორიებად დაყოფილი მოდულები
│       ├── sensors/
│       ├── actuators/
│       └── ...
├── configs/               # ბაზისური კონფიგურაციის ფაილები
│   └── system_config.json # მხოლოდ გლობალური პარამეტრები
├── docs/                  # დოკუმენტაცია და სტანდარტები
│   ├── convention/
│   └── structure/
├── CMakeLists.txt         # მთავარი ბილდის სკრიპტი
├── Kconfig                # მთავარი კონფიგურაცია
└── ...                    # სხვა ფაილები და საქაღალდეები
```

## ძირითადი საქაღალდეების აღწერა

- **main/** — მთავარი აპლიკაციის საწყისი წერტილი (`app_main`), სადაც ხდება სისტემის ინიციალიზაცია და გაშვება.
- **components/core/** — ფრეიმვორქის ბირთვი: `Service Locator`, `Event Bus`, `Module Registry`, `Config Manager` და სხვა ინფრასტრუქტურული კომპონენტები.
- **components/interfaces/** — გლობალური ინტერფეისები, რომლებიც უზრუნველყოფს მოდულებს შორის "კონტრაქტებს".
- **components/modules/** — კატეგორიებად დაყოფილი, დამოუკიდებელი ფუნქციონალური მოდულები.
- **configs/** — **(განახლებულია)** შეიცავს ბაზისურ `system_config.json` ფაილს, რომელიც განსაზღვრავს მხოლოდ გლობალურ პარამეტრებს (`firmware`, `global_config`) და ცარიელ `modules` მასივს.
- **docs/** — დოკუმენტაცია, სტანდარტები და არქიტექტურული აღწერები.
- **CMakeLists.txt** — მთავარი build-სკრიპტი, რომელიც აღმოაჩენს და აერთიანებს ყველა კომპონენტს.
- **Kconfig** — მთავარი კონფიგურაციის ფაილი, სადაც ხდება მოდულების ჩართვა/გამორთვა build-დროში.

## `modules` საქაღალდის სტრუქტურა

```
components/modules/
├── sensors/
│   └── dht22_module/
├── actuators/
│   └── relay_actuator/
├── communications/
│   ├── wifi_manager/
│   └── mqtt_manager/
└── ... (სხვა კატეგორიები)
```

## თითოეული მოდულის სტრუქტურა

**(განახლებულია `config.json`-ის დასამატებლად)**

```
components/modules/{category}/{module_name}/
├── CMakeLists.txt
├── Kconfig
├── module.json
├── config.json         # <--- ახალი ფაილი
├── README.md
├── include/
│   └── {module_name}.h
└── src/
    └── {module_name}.c
```

- **CMakeLists.txt** — მოდულის build-სკრიპტი.
- **Kconfig** — მოდულის build-დროის კონფიგურაციის პარამეტრები (`menuconfig`-ისთვის).
- **module.json** — მოდულის მეტამონაცემები (`name`, `init_function`, `init_level` და ა.შ.).
- **config.json** — **(ახალი)** მოდულის default runtime კონფიგურაცია. ეს ფაილი შეიცავს JSON ობიექტს ან ობიექტების მასივს, რომელიც აღწერს მოდულის ერთ ან მეტ ინსტანციას.
- **README.md** — მოკლე აღწერა და გამოყენების მაგალითები.
- **include/** — ჰედერ ფაილები (public API).
- **src/** — წყარო კოდი (implementation).

## აკრძალული და რეკომენდებული პრაქტიკები

❌ **არასდროს:**

- პირდაპირი `#include` სხვა მოდულის ჰედერების.
- არასტანდარტული ან არათანმიმდევრული საქაღალდეების შექმნა.
- მოდულის ფაილების არასწორი განლაგება.
- Runtime პარამეტრების hardcode-ირება კოდში.

✅ **ყოველთვის:**

- დაიცავით სტანდარტული სტრუქტურა.
- გამოიყენეთ მკაფიო და დესკრიპტიული სახელები.
- ყველა მოდულს ჰქონდეს თავისი `include/` და `src/` ქვედირექტორიები.
- ყველა მოდულს ჰქონდეს `README.md`, `module.json` და `config.json`.

---

შემდეგი ნაბიჯი: დეტალურად განვიხილოთ მოდულების არქიტექტურა და მათი ურთიერთქმედება.
