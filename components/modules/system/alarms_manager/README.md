# ­Ъџе рЃЏрЃЮрЃЊрЃБрЃџрЃў: System Alarms Manager

**­ЪЌѓ№ИЈ рЃЎрЃљрЃбрЃћрЃњрЃЮрЃарЃўрЃљ:** `system`  
**Рюњ№ИЈ рЃљрЃЋрЃбрЃЮрЃарЃў:** Synapse Framework Team  
**­Ъћќ рЃЋрЃћрЃарЃАрЃўрЃљ:** 1.0.0

## 1. ­ЪЊю рЃЏрЃўрЃЏрЃЮрЃ«рЃўрЃџрЃЋрЃљ

`Alarms Manager` рЃљрЃарЃўрЃА Synapse Framework-рЃўрЃА **рЃфрЃћрЃюрЃбрЃарЃљрЃџрЃўрЃќрЃћрЃЉрЃБрЃџрЃў, рЃгрЃћрЃАрЃћрЃЉрЃќрЃћ-рЃЊрЃљрЃцрЃБрЃФрЃюрЃћрЃЉрЃБрЃџрЃў рЃарЃћрЃљрЃњрЃўрЃарЃћрЃЉрЃўрЃА рЃАрЃўрЃАрЃбрЃћрЃЏрЃљ**. рЃЏрЃўрЃАрЃў рЃЏрЃЌрЃљрЃЋрЃљрЃарЃў рЃљрЃЏрЃЮрЃфрЃљрЃюрЃљрЃљ, рЃЏрЃЮрЃБрЃАрЃЏрЃўрЃюрЃЮрЃА рЃАрЃўрЃАрЃбрЃћрЃЏрЃљрЃерЃў рЃЏрЃўрЃЏрЃЊрЃўрЃюрЃљрЃарЃћ рЃЎрЃарЃўрЃбрЃўрЃЎрЃБрЃџ рЃўрЃЋрЃћрЃюрЃЌрЃћрЃЉрЃА, рЃњрЃљрЃљрЃљрЃюрЃљрЃџрЃўрЃќрЃЮрЃА рЃўрЃАрЃўрЃюрЃў рЃгрЃўрЃюрЃљрЃАрЃгрЃљрЃа рЃњрЃљрЃюрЃАрЃљрЃќрЃдрЃЋрЃарЃБрЃџрЃў рЃгрЃћрЃАрЃћрЃЉрЃўрЃА рЃЏрЃўрЃ«рЃћрЃЊрЃЋрЃўрЃЌ рЃЊрЃљ рЃерЃћрЃљрЃАрЃарЃБрЃџрЃЮрЃА рЃерЃћрЃАрЃљрЃЉрЃљрЃЏрЃўрЃАрЃў, рЃЎрЃЮрЃюрЃцрЃўрЃњрЃБрЃарЃўрЃарЃћрЃЉрЃљрЃЊрЃў рЃЏрЃЮрЃЦрЃЏрЃћрЃЊрЃћрЃЉрЃћрЃЉрЃў Рђћ рЃўрЃЦрЃюрЃћрЃЉрЃљ рЃћрЃА рЃЋрЃўрЃќрЃБрЃљрЃџрЃБрЃарЃў рЃерЃћрЃбрЃДрЃЮрЃЉрЃўрЃюрЃћрЃЉрЃљ, рЃЎрЃарЃўрЃбрЃўрЃЎрЃБрЃџрЃў рЃџрЃЮрЃњрЃўрЃА рЃЕрЃљрЃгрЃћрЃарЃљ рЃЌрЃБ рЃАрЃўрЃАрЃбрЃћрЃЏрЃўрЃА рЃБрЃАрЃљрЃцрЃарЃЌрЃ«рЃЮ рЃњрЃљрЃЊрЃљрЃбрЃЋрЃўрЃарЃЌрЃЋрЃљ.

рЃћрЃА рЃЏрЃЮрЃЊрЃБрЃџрЃў рЃљрЃњрЃЋрЃљрЃарЃћрЃЉрЃА рЃцрЃБрЃюрЃЊрЃљрЃЏрЃћрЃюрЃбрЃБрЃа рЃърЃарЃЮрЃЉрЃџрЃћрЃЏрЃљрЃА: рЃўрЃЏрЃўрЃА рЃюрЃљрЃфрЃЋрЃџрЃљрЃЊ, рЃарЃЮрЃЏ рЃерЃћрЃфрЃЊрЃЮрЃЏрЃћрЃЉрЃќрЃћ рЃарЃћрЃљрЃњрЃўрЃарЃћрЃЉрЃўрЃА рЃџрЃЮрЃњрЃўрЃЎрЃљ рЃњрЃљрЃўрЃЉрЃюрЃћрЃА рЃЏрЃарЃљрЃЋрЃљрЃџ рЃАрЃ«рЃЋрЃљрЃЊрЃљрЃАрЃ«рЃЋрЃљ рЃЏрЃЮрЃЊрЃБрЃџрЃерЃў, рЃўрЃА рЃЌрЃљрЃЋрЃЏрЃЮрЃДрЃарЃўрЃџрЃўрЃљ рЃћрЃарЃЌ, рЃЏрЃљрЃарЃЌрЃЋрЃљрЃЊ рЃЊрЃљ рЃЏрЃЮрЃЦрЃюрЃўрЃџ рЃЎрЃЮрЃЏрЃърЃЮрЃюрЃћрЃюрЃбрЃерЃў.

## 2. ­ЪЈЏ№ИЈ рЃљрЃарЃЦрЃўрЃбрЃћрЃЦрЃбрЃБрЃарЃБрЃџрЃў рЃърЃарЃўрЃюрЃфрЃўрЃърЃћрЃЉрЃў

- **Rule-Based Engine (рЃгрЃћрЃАрЃћрЃЉрЃќрЃћ-рЃЊрЃљрЃцрЃБрЃФрЃюрЃћрЃЉрЃБрЃџрЃў рЃФрЃарЃљрЃЋрЃў):** рЃЏрЃЮрЃЊрЃБрЃџрЃўрЃА рЃџрЃЮрЃњрЃўрЃЎрЃљ рЃАрЃарЃБрЃџрЃљрЃЊ рЃўрЃЏрЃљрЃарЃЌрЃћрЃЉрЃљ `system_config.json`-рЃерЃў рЃљрЃдрЃгрЃћрЃарЃўрЃџрЃў "рЃњрЃљрЃюрЃњрЃљрЃерЃўрЃА рЃгрЃћрЃАрЃћрЃЉрЃўрЃЌ". рЃЌрЃўрЃЌрЃЮрЃћрЃБрЃџрЃў рЃгрЃћрЃАрЃў рЃњрЃљрЃюрЃАрЃљрЃќрЃдрЃЋрЃарЃљрЃЋрЃА, рЃЌрЃБ **рЃарЃЮрЃЏрЃћрЃџ рЃўрЃЋрЃћрЃюрЃЌрЃќрЃћ**, **рЃарЃљ рЃърЃўрЃарЃЮрЃЉрЃўрЃЌ** рЃЊрЃљ **рЃарЃљ рЃАрЃўрЃ«рЃерЃўрЃарЃўрЃЌ** рЃБрЃюрЃЊрЃљ рЃерЃћрЃАрЃарЃБрЃџрЃЊрЃћрЃА **рЃарЃљ рЃЏрЃЮрЃЦрЃЏрЃћрЃЊрЃћрЃЉрЃћрЃЉрЃў**.
- **Event-driven (рЃўрЃЋрЃћрЃюрЃЌрЃћрЃЉрЃќрЃћ-рЃЊрЃљрЃцрЃБрЃФрЃюрЃћрЃЉрЃБрЃџрЃў):** рЃЏрЃЮрЃЊрЃБрЃџрЃў рЃљрЃарЃўрЃА рЃАрЃБрЃцрЃЌрЃљ "рЃЏрЃАрЃЏрЃћрЃюрЃћрЃџрЃў". рЃўрЃА рЃњрЃљрЃЏрЃЮрЃўрЃгрЃћрЃарЃА рЃЏрЃ«рЃЮрЃџрЃЮрЃЊ рЃўрЃЏ рЃўрЃЋрЃћрЃюрЃЌрЃћрЃЉрЃА, рЃарЃЮрЃЏрЃџрЃћрЃЉрЃўрЃф рЃЏрЃўрЃАрЃЌрЃЋрЃўрЃА рЃАрЃљрЃўрЃюрЃбрЃћрЃарЃћрЃАрЃЮрЃљ (рЃЎрЃЮрЃюрЃцрЃўрЃњрЃБрЃарЃљрЃфрЃўрЃўрЃА рЃЏрЃўрЃ«рЃћрЃЊрЃЋрЃўрЃЌ) рЃЊрЃљ рЃљрЃа рЃћрЃарЃћрЃЋрЃљ рЃАрЃ«рЃЋрЃљ рЃЏрЃЮрЃЊрЃБрЃџрЃћрЃЉрЃўрЃА рЃЏрЃБрЃерЃљрЃЮрЃЉрЃљрЃерЃў, рЃАрЃљрЃюрЃљрЃЏ рЃњрЃљрЃюрЃњрЃљрЃерЃўрЃА рЃърЃўрЃарЃЮрЃЉрЃљ рЃљрЃа рЃерЃћрЃАрЃарЃБрЃџрЃЊрЃћрЃЉрЃљ.
- **Service Consumer (рЃАрЃћрЃарЃЋрЃўрЃАрЃћрЃЉрЃўрЃА рЃЏрЃЮрЃЏрЃ«рЃЏрЃљрЃарЃћрЃЉрЃћрЃџрЃў):** `Alarms Manager` рЃЌрЃљрЃЋрЃљрЃЊ рЃљрЃа рЃљрЃгрЃЋрЃЊрЃўрЃА рЃАрЃћрЃарЃЋрЃўрЃАрЃА. рЃўрЃА рЃљрЃарЃўрЃА рЃАрЃ«рЃЋрЃљ рЃАрЃўрЃАрЃбрЃћрЃЏрЃБрЃарЃў рЃАрЃћрЃарЃЋрЃўрЃАрЃћрЃЉрЃўрЃА рЃљрЃЦрЃбрЃўрЃБрЃарЃў рЃЏрЃЮрЃЏрЃ«рЃЏрЃљрЃарЃћрЃЉрЃћрЃџрЃў (`Service Consumer`), рЃарЃЮрЃњрЃЮрЃарЃўрЃфрЃљрЃљ:
  - `rgb_led_indicator` (рЃЋрЃўрЃќрЃБрЃљрЃџрЃБрЃарЃў рЃерЃћрЃбрЃДрЃЮрЃЉрЃўрЃюрЃћрЃЉрЃўрЃАрЃЌрЃЋрЃўрЃА).
  - `system_manager` (рЃАрЃўрЃАрЃбрЃћрЃЏрЃўрЃА рЃњрЃљрЃЊрЃљрЃбрЃЋрЃўрЃарЃЌрЃЋрЃўрЃАрЃЌрЃЋрЃўрЃА).
- **рЃфрЃћрЃюрЃбрЃарЃљрЃџрЃўрЃќрЃћрЃЉрЃБрЃџрЃў рЃарЃћрЃљрЃњрЃўрЃарЃћрЃЉрЃљ:** рЃћрЃА рЃЏрЃўрЃЊрЃњрЃЮрЃЏрЃљ рЃљрЃЏрЃљрЃарЃбрЃўрЃЋрЃћрЃЉрЃА рЃАрЃўрЃАрЃбрЃћрЃЏрЃўрЃА рЃЦрЃфрЃћрЃЋрЃўрЃА рЃърЃарЃЮрЃњрЃюрЃЮрЃќрЃўрЃарЃћрЃЉрЃљрЃА рЃЊрЃљ рЃЏрЃљрЃарЃЌрЃЋрЃљрЃА. рЃЌрЃБ рЃАрЃљрЃГрЃўрЃарЃЮрЃљ рЃерЃћрЃфрЃЊрЃЮрЃЏрЃљрЃќрЃћ рЃарЃћрЃљрЃњрЃўрЃарЃћрЃЉрЃўрЃА рЃџрЃЮрЃњрЃўрЃЎрЃўрЃА рЃерЃћрЃфрЃЋрЃџрЃљ, рЃфрЃЋрЃџрЃўрЃџрЃћрЃЉрЃљ рЃ«рЃЊрЃћрЃЉрЃљ рЃЏрЃ«рЃЮрЃџрЃЮрЃЊ рЃћрЃарЃЌ рЃљрЃЊрЃњрЃўрЃџрЃљрЃА Рђћ `system_config.json`-рЃерЃў.
- **рЃЏрЃЊрЃњрЃарЃљрЃЊрЃЮрЃЉрЃљ (Resilience):** рЃЏрЃЮрЃЊрЃБрЃџрЃў рЃерЃћрЃЦрЃЏрЃюрЃўрЃџрЃўрЃљ рЃўрЃАрЃћрЃЌрЃў рЃАрЃфрЃћрЃюрЃљрЃарЃћрЃЉрЃўрЃА рЃАрЃљрЃЏрЃљрЃарЃЌрЃљрЃЋрЃљрЃЊ, рЃарЃЮрЃњрЃЮрЃарЃўрЃфрЃљрЃљ рЃњрЃљрЃюрЃЏрЃћрЃЮрЃарЃћрЃЉрЃўрЃЌрЃў рЃерЃћрЃфрЃЊрЃЮрЃЏрЃћрЃЉрЃў (`threshold_count` рЃЊрЃљ `time_window_sec`), рЃарЃљрЃф рЃўрЃфрЃљрЃЋрЃА рЃАрЃўрЃАрЃбрЃћрЃЏрЃљрЃА рЃњрЃљрЃЊрЃљрЃбрЃЋрЃўрЃарЃЌрЃЋрЃўрЃА рЃфрЃўрЃЎрЃџрЃћрЃЉрЃўрЃАрЃњрЃљрЃю (reboot loops).

## 3. РџЎ№ИЈ рЃЎрЃЮрЃюрЃцрЃўрЃњрЃБрЃарЃљрЃфрЃўрЃљ

рЃЏрЃЮрЃЊрЃБрЃџрЃўрЃА рЃАрЃарЃБрЃџрЃў рЃЦрЃфрЃћрЃЋрЃљ рЃўрЃЏрЃљрЃарЃЌрЃћрЃЉрЃљ `system_config.json` рЃцрЃљрЃўрЃџрЃерЃў `alarms` рЃЏрЃљрЃАрЃўрЃЋрЃўрЃА рЃАрЃљрЃерЃБрЃљрЃџрЃћрЃЉрЃўрЃЌ.

**рЃЎрЃЮрЃюрЃцрЃўрЃњрЃБрЃарЃљрЃфрЃўрЃўрЃА рЃЏрЃљрЃњрЃљрЃџрЃўрЃЌрЃў:**

```json
{
    "type": "alarms_manager",
    "enabled": true,
    "config": {
        "instance_name": "main_alarms_manager",
        "alarms": [
            {
                "name": "LowMemoryAlert",
                "trigger_event": "SYSTEM_HEALTH_ALERT",
                "condition_payload_key": "alert_type",
                "condition_payload_value": "LOW_HEAP_MEMORY",
                "threshold_count": 1,
                "time_window_sec": 0,
                "actions": [
                    { "type": "log_critical", "message": "CRITICAL: Low heap memory detected!" },
                    { "type": "set_led", "service_name": "status_led", "r": 255, "g": 0, "b": 0 }
                ]
            },
            {
                "name": "WiFiDisconnectLoop",
                "trigger_event": "WIFI_EVENT_DISCONNECTED",
                "threshold_count": 5,
                "time_window_sec": 300,
                "actions": [
                    { "type": "log_critical", "message": "WiFi disconnected 5 times in 5 minutes. Rebooting system." },
                    { "type": "reboot_system", "delay_ms": 2000 }
                ]
            }
        ]
    }
}
```

### 3.1. рЃњрЃљрЃюрЃњрЃљрЃерЃўрЃА рЃгрЃћрЃАрЃўрЃА рЃърЃљрЃарЃљрЃЏрЃћрЃбрЃарЃћрЃЉрЃў (`alarms` рЃЮрЃЉрЃўрЃћрЃЦрЃбрЃў)

| рЃърЃљрЃарЃљрЃЏрЃћрЃбрЃарЃў | рЃбрЃўрЃърЃў | рЃљрЃдрЃгрЃћрЃарЃљ | рЃАрЃљрЃЋрЃљрЃџрЃЊрЃћрЃЉрЃБрЃџрЃЮ |
| :--- | :--- | :--- | :---: |
| `name` | рЃАрЃбрЃарЃўрЃЦрЃЮрЃюрЃў | рЃњрЃљрЃюрЃњрЃљрЃерЃўрЃА рЃБрЃюрЃўрЃЎрЃљрЃџрЃБрЃарЃў, рЃљрЃЊрЃљрЃЏрЃўрЃљрЃюрЃўрЃАрЃЌрЃЋрЃўрЃА рЃњрЃљрЃАрЃљрЃњрЃћрЃЉрЃў рЃАрЃљрЃ«рЃћрЃџрЃў. | РюЁ |
| `trigger_event` | рЃАрЃбрЃарЃўрЃЦрЃЮрЃюрЃў | рЃўрЃЏ рЃўрЃЋрЃћрЃюрЃЌрЃўрЃА рЃАрЃљрЃ«рЃћрЃџрЃў, рЃарЃЮрЃЏрЃћрЃџрЃўрЃф рЃљрЃЏ рЃгрЃћрЃАрЃА рЃљрЃљрЃЦрЃбрЃўрЃБрЃарЃћрЃЉрЃА. | РюЁ |
| `condition_payload_key` | рЃАрЃбрЃарЃўрЃЦрЃЮрЃюрЃў | (рЃљрЃарЃљрЃАрЃљрЃЋрЃљрЃџрЃЊрЃћрЃЉрЃБрЃџрЃЮ) JSON payload-рЃўрЃА рЃњрЃљрЃАрЃљрЃдрЃћрЃЉрЃў, рЃарЃЮрЃЏрЃџрЃўрЃА рЃЏрЃюрЃўрЃерЃЋрЃюрЃћрЃџрЃЮрЃЉрЃљрЃф рЃБрЃюрЃЊрЃљ рЃерЃћрЃЏрЃЮрЃгрЃЏрЃЊрЃћрЃА. | РЮї |
| `condition_payload_value` | рЃАрЃбрЃарЃўрЃЦрЃЮрЃюрЃў | (рЃљрЃарЃљрЃАрЃљрЃЋрЃљрЃџрЃЊрЃћрЃЉрЃБрЃџрЃЮ) рЃњрЃљрЃАрЃљрЃдрЃћрЃЉрЃўрЃА рЃерЃћрЃАрЃљрЃЉрЃљрЃЏрЃўрЃАрЃў рЃЏрЃюрЃўрЃерЃЋрЃюрЃћрЃџрЃЮрЃЉрЃљ, рЃарЃЮрЃЏрЃћрЃџрЃўрЃф рЃБрЃюрЃЊрЃљ рЃЊрЃљрЃЎрЃЏрЃљрЃДрЃЮрЃцрЃўрЃџрЃЊрЃћрЃА. | РЮї |
| `threshold_count` | рЃарЃўрЃфрЃ«рЃЋрЃў | рЃарЃљрЃЏрЃЊрЃћрЃюрЃ»рЃћрЃа рЃБрЃюрЃЊрЃљ рЃњрЃљрЃюрЃЏрЃћрЃЮрЃарЃЊрЃћрЃА рЃўрЃЋрЃћрЃюрЃЌрЃў, рЃарЃЮрЃЏ рЃњрЃљрЃюрЃњрЃљрЃерЃў рЃљрЃЏрЃЮрЃЦрЃЏрЃћрЃЊрЃЊрЃћрЃА. | РЮї (Default: 1) |
| `time_window_sec` | рЃарЃўрЃфрЃ«рЃЋрЃў | рЃЊрЃарЃЮрЃўрЃА рЃцрЃљрЃюрЃ»рЃљрЃарЃљ (рЃгрЃљрЃЏрЃћрЃЉрЃерЃў), рЃарЃЮрЃЏрЃџрЃўрЃА рЃњрЃљрЃюрЃЏрЃљрЃЋрЃџрЃЮрЃЉрЃљрЃерЃўрЃф рЃБрЃюрЃЊрЃљ рЃЏрЃЮрЃ«рЃЊрЃћрЃА `threshold_count` рЃарЃљрЃЮрЃЊрЃћрЃюрЃЮрЃЉрЃўрЃА рЃўрЃЋрЃћрЃюрЃЌрЃў. | РЮї (Default: 0) |
| `actions` | рЃЏрЃљрЃАрЃўрЃЋрЃў | рЃЏрЃЮрЃЦрЃЏрЃћрЃЊрЃћрЃЉрЃћрЃЉрЃўрЃА рЃАрЃўрЃљ, рЃарЃЮрЃЏрЃџрЃћрЃЉрЃўрЃф рЃБрЃюрЃЊрЃљ рЃерЃћрЃАрЃарЃБрЃџрЃЊрЃћрЃА рЃњрЃљрЃюрЃњрЃљрЃерЃўрЃА рЃљрЃЏрЃЮрЃЦрЃЏрЃћрЃЊрЃћрЃЉрЃўрЃАрЃљрЃА. | РюЁ |

### 3.2. рЃЏрЃЮрЃЦрЃЏрЃћрЃЊрЃћрЃЉрЃћрЃЉрЃўрЃА рЃърЃљрЃарЃљрЃЏрЃћрЃбрЃарЃћрЃЉрЃў (`actions` рЃЮрЃЉрЃўрЃћрЃЦрЃбрЃў)

| `type` | рЃърЃљрЃарЃљрЃЏрЃћрЃбрЃарЃћрЃЉрЃў | рЃљрЃдрЃгрЃћрЃарЃљ |
| :--- | :--- | :--- |
| `log_critical` | `message` (рЃАрЃбрЃарЃўрЃЦрЃЮрЃюрЃў) | ­ЪЊЮ рЃгрЃћрЃарЃА рЃЎрЃарЃўрЃбрЃўрЃЎрЃБрЃџ рЃерЃћрЃфрЃЊрЃЮрЃЏрЃљрЃА рЃџрЃЮрЃњрЃерЃў `ESP_LOGE`-рЃА рЃњрЃљрЃЏрЃЮрЃДрЃћрЃюрЃћрЃЉрЃўрЃЌ. |
| `set_led` | `service_name`, `r`, `g`, `b` | ­ЪњА рЃљрЃДрЃћрЃюрЃћрЃЉрЃА рЃЏрЃўрЃЌрЃўрЃЌрЃћрЃЉрЃБрЃџрЃў RGB LED рЃўрЃюрЃЊрЃўрЃЎрЃљрЃбрЃЮрЃарЃўрЃА рЃцрЃћрЃарЃА. |
| `reboot_system` | `delay_ms` (рЃарЃўрЃфрЃ«рЃЋрЃў) | ­Ъћё рЃњрЃљрЃЊрЃљрЃбрЃЋрЃўрЃарЃЌрЃљрЃЋрЃА рЃЏрЃЮрЃгрЃДрЃЮрЃЉрЃўрЃџрЃЮрЃЉрЃљрЃА рЃЏрЃўрЃЌрЃўрЃЌрЃћрЃЉрЃБрЃџрЃў рЃЊрЃљрЃДрЃЮрЃЋрЃюрЃћрЃЉрЃўрЃА рЃерЃћрЃЏрЃЊрЃћрЃњ. |

## 4. ­Ъћї Service API

`Alarms Manager` рЃљрЃарЃўрЃА рЃАрЃБрЃцрЃЌрЃљ **Service Consumer** рЃЊрЃљ рЃљрЃа рЃљрЃгрЃЋрЃЊрЃўрЃА рЃАрЃљрЃЎрЃБрЃЌрЃљрЃа Service API-рЃА рЃАрЃ«рЃЋрЃљ рЃЏрЃЮрЃЊрЃБрЃџрЃћрЃЉрЃА. рЃЏрЃўрЃАрЃў рЃЏрЃљрЃарЃЌрЃЋрЃљ рЃ«рЃЊрЃћрЃЉрЃљ рЃЏрЃ«рЃЮрЃџрЃЮрЃЊ рЃЎрЃЮрЃюрЃцрЃўрЃњрЃБрЃарЃљрЃфрЃўрЃўрЃЌ.

## 5. ­ЪЊб рЃўрЃЋрЃћрЃюрЃЌрЃћрЃЉрЃўрЃА рЃЊрЃљрЃЏрЃБрЃерЃљрЃЋрЃћрЃЉрЃљ

рЃЏрЃЮрЃЊрЃБрЃџрЃў рЃњрЃљрЃЏрЃЮрЃўрЃгрЃћрЃарЃА рЃЏрЃ«рЃЮрЃџрЃЮрЃЊ рЃўрЃЏ рЃўрЃЋрЃћрЃюрЃЌрЃћрЃЉрЃА, рЃарЃЮрЃЏрЃџрЃћрЃЉрЃўрЃф рЃљрЃдрЃгрЃћрЃарЃўрЃџрЃўрЃљ рЃЏрЃўрЃА рЃЎрЃЮрЃюрЃцрЃўрЃњрЃБрЃарЃљрЃфрЃўрЃљрЃерЃў `trigger_event` рЃЋрЃћрЃџрЃерЃў. рЃћрЃА рЃБрЃќрЃарЃБрЃюрЃЋрЃћрЃџрЃДрЃЮрЃцрЃА, рЃарЃЮрЃЏ рЃўрЃА рЃљрЃа рЃљрЃЏрЃБрЃерЃљрЃЋрЃћрЃЉрЃА рЃљрЃарЃљрЃАрЃљрЃГрЃўрЃарЃЮ рЃўрЃюрЃцрЃЮрЃарЃЏрЃљрЃфрЃўрЃљрЃА рЃЊрЃљ рЃћрЃцрЃћрЃЦрЃбрЃБрЃарЃљрЃЊ рЃўрЃДрЃћрЃюрЃћрЃЉрЃА рЃарЃћрЃАрЃБрЃарЃАрЃћрЃЉрЃА.

## 6. ­ЪњА рЃњрЃљрЃЏрЃЮрЃДрЃћрЃюрЃћрЃЉрЃўрЃА рЃАрЃфрЃћрЃюрЃљрЃарЃћрЃЉрЃў

- **рЃАрЃфрЃћрЃюрЃљрЃарЃў 1: рЃЏрЃћрЃ«рЃАрЃўрЃћрЃарЃћрЃЉрЃўрЃА рЃЎрЃарЃўрЃбрЃўрЃЎрЃБрЃџрЃў рЃерЃћрЃЏрЃфрЃўрЃарЃћрЃЉрЃљ**
  - **рЃўрЃЋрЃћрЃюрЃЌрЃў:** `SYSTEM_HEALTH_ALERT` (payload-рЃўрЃЌ `{"alert_type":"LOW_HEAP_MEMORY"}`)
  - **рЃарЃћрЃљрЃЦрЃфрЃўрЃљ:** LED рЃўрЃюрЃЊрЃўрЃЎрЃљрЃбрЃЮрЃарЃў рЃўрЃюрЃЌрЃћрЃЉрЃљ рЃЏрЃБрЃЊрЃЏрЃўрЃЋ рЃгрЃўрЃЌрЃћрЃџ рЃцрЃћрЃарЃљрЃЊ, рЃџрЃЮрЃњрЃерЃў рЃўрЃгрЃћрЃарЃћрЃЉрЃљ рЃЎрЃарЃўрЃбрЃўрЃЎрЃБрЃџрЃў рЃерЃћрЃфрЃЊрЃЮрЃЏрЃљ.

- **рЃАрЃфрЃћрЃюрЃљрЃарЃў 2: WiFi-рЃАрЃЌрЃљрЃю рЃЎрЃљрЃЋрЃерЃўрЃарЃўрЃА рЃЏрЃБрЃЊрЃЏрЃўрЃЋрЃў рЃЊрЃљрЃЎрЃљрЃарЃњрЃЋрЃљ**
  - **рЃўрЃЋрЃћрЃюрЃЌрЃў:** `WIFI_EVENT_DISCONNECTED`
  - **рЃърЃўрЃарЃЮрЃЉрЃљ:** рЃЌрЃБ 5 рЃгрЃБрЃЌрЃўрЃА рЃњрЃљрЃюрЃЏрЃљрЃЋрЃџрЃЮрЃЉрЃљрЃерЃў 5-рЃ»рЃћрЃа рЃњрЃљрЃюрЃЏрЃћрЃЮрЃарЃЊрЃљ.
  - **рЃарЃћрЃљрЃЦрЃфрЃўрЃљ:** рЃАрЃўрЃАрЃбрЃћрЃЏрЃљ 2 рЃгрЃљрЃЏрЃўрЃА рЃерЃћрЃЏрЃЊрЃћрЃњ рЃњрЃљрЃЊрЃљрЃўрЃбрЃЋрЃўрЃарЃЌрЃћрЃЉрЃљ.

- **рЃАрЃфрЃћрЃюрЃљрЃарЃў 3: рЃбрЃљрЃАрЃЎрЃўрЃА рЃАрЃбрЃћрЃЎрЃўрЃА рЃњрЃљрЃЊрЃљрЃЋрЃАрЃћрЃЉрЃўрЃА рЃАрЃљрЃцрЃарЃЌрЃ«рЃћ**
  - **рЃўрЃЋрЃћрЃюрЃЌрЃў:** `SYSTEM_HEALTH_ALERT` (payload-рЃўрЃЌ `{"alert_type":"LOW_STACK_SPACE"}`)
  - **рЃарЃћрЃљрЃЦрЃфрЃўрЃљ:** рЃџрЃЮрЃњрЃерЃў рЃўрЃгрЃћрЃарЃћрЃЉрЃљ рЃерЃћрЃбрЃДрЃЮрЃЉрЃўрЃюрЃћрЃЉрЃљ, рЃАрЃљрЃЊрЃљрЃф рЃЏрЃўрЃЌрЃўрЃЌрЃћрЃЉрЃБрЃџрЃўрЃљ рЃърЃарЃЮрЃЉрЃџрЃћрЃЏрЃБрЃарЃў рЃбрЃљрЃАрЃЎрЃўрЃА рЃАрЃљрЃ«рЃћрЃџрЃў.

## 7. РЮЌ рЃЏрЃюрЃўрЃерЃЋрЃюрЃћрЃџрЃЮрЃЋрЃљрЃюрЃў рЃерЃћрЃюрЃўрЃерЃЋрЃюрЃћрЃЉрЃў

- **`init_level`:** рЃЏрЃЮрЃЊрЃБрЃџрЃўрЃА `init_level` (`38`) рЃерЃћрЃарЃЕрЃћрЃБрЃџрЃўрЃљ рЃўрЃАрЃћ, рЃарЃЮрЃЏ рЃЏрЃўрЃАрЃў рЃўрЃюрЃўрЃфрЃўрЃљрЃџрЃўрЃќрЃљрЃфрЃўрЃљ рЃЏрЃЮрЃ«рЃЊрЃћрЃА `core` рЃАрЃћрЃарЃЋрЃўрЃАрЃћрЃЉрЃўрЃА рЃерЃћрЃЏрЃЊрЃћрЃњ, рЃЏрЃљрЃњрЃарЃљрЃЏ рЃўрЃЏ рЃЏрЃЮрЃЊрЃБрЃџрЃћрЃЉрЃљрЃЏрЃЊрЃћ, рЃарЃЮрЃЏрЃћрЃџрЃЌрЃљ рЃАрЃћрЃарЃЋрЃўрЃАрЃћрЃЉрЃАрЃљрЃф рЃўрЃА рЃўрЃДрЃћрЃюрЃћрЃЉрЃА (рЃЏрЃљрЃњ., `rgb_led_indicator`, `system_manager`).
- **рЃЊрЃљрЃЏрЃЮрЃЎрЃўрЃЊрЃћрЃЉрЃБрЃџрЃћрЃЉрЃћрЃЉрЃў:** рЃЏрЃЮрЃЊрЃБрЃџрЃўрЃА `CMakeLists.txt` рЃцрЃљрЃўрЃџрЃерЃў, `REQUIRES` рЃАрЃћрЃЦрЃфрЃўрЃљрЃерЃў рЃБрЃюрЃЊрЃљ рЃўрЃДрЃЮрЃА рЃЏрЃўрЃЌрЃўрЃЌрЃћрЃЉрЃБрЃџрЃў `interfaces`, рЃарЃљрЃЌрЃљ рЃЏрЃљрЃА рЃ░рЃЦрЃЮрЃюрЃЊрЃћрЃА рЃгрЃЋрЃЊрЃЮрЃЏрЃљ рЃАрЃ«рЃЋрЃљ рЃАрЃћрЃарЃЋрЃўрЃАрЃћрЃЉрЃўрЃА API рЃЎрЃЮрЃюрЃбрЃарЃљрЃЦрЃбрЃћрЃЉрЃќрЃћ.
- **рЃБрЃАрЃљрЃцрЃарЃЌрЃ«рЃЮрЃћрЃЉрЃљ:** `reboot_system` рЃЏрЃЮрЃЦрЃЏрЃћрЃЊрЃћрЃЉрЃљ рЃБрЃюрЃЊрЃљ рЃњрЃљрЃЏрЃЮрЃўрЃДрЃћрЃюрЃЮрЃЌ рЃАрЃўрЃцрЃарЃЌрЃ«рЃўрЃџрЃўрЃЌ. рЃЊрЃљрЃарЃгрЃЏрЃБрЃюрЃЊрЃўрЃЌ, рЃарЃЮрЃЏ `threshold_count` рЃЊрЃљ `time_window_sec` рЃърЃљрЃарЃљрЃЏрЃћрЃбрЃарЃћрЃЉрЃў рЃАрЃгрЃЮрЃарЃљрЃЊ рЃљрЃарЃўрЃА рЃерЃћрЃарЃЕрЃћрЃБрЃџрЃў, рЃарЃљрЃЌрЃљ рЃЌрЃљрЃЋрЃўрЃЊрЃљрЃю рЃљрЃўрЃфрЃўрЃџрЃЮрЃЌ рЃљрЃарЃљрЃАрЃљрЃАрЃБрЃарЃЋрЃћрЃџрЃў рЃњрЃљрЃЊрЃљрЃбрЃЋрЃўрЃарЃЌрЃЋрЃўрЃА рЃфрЃўрЃЎрЃџрЃћрЃЉрЃў.
