# Advanced Usage (გაფართოებული გამოყენება)

## მიზანი

ეს სახელმძღვანელო გაჩვენებთ, როგორ გამოიყენოთ Synapse Framework-ის გაფართოებული შესაძლებლობები, როგორ დააკონფიგურიროთ რთული სცენარები და როგორ მოახდინოთ სისტემის ოპტიმიზაცია.

## 1. მრავალმოდულიანი კონფიგურაცია

- ერთზე მეტი ერთი და იმავე ტიპის მოდულის დამატება (მაგ: რამდენიმე რელე, რამდენიმე სენსორი)
- მაგალითი:

  ```json
  {
      "type": "relay_module",
      "enabled": true,
      "config": {
          "instance_name": "relay1",
          "pin": 23
      }
  },
  {
      "type": "relay_module",
      "enabled": true,
      "config": {
          "instance_name": "relay2",
          "pin": 25
      }
  }
  ```

## 2. მოდულის დინამიური ჩართვა/გამორთვა

- მოდულის enable/disable ფუნქციების გამოყენება runtime-ზე
- მაგალითი:

  ```c
  // მოდულის ჩართვა
  ssd1306_api_enable();
  // მოდულის გამორთვა
  ssd1306_api_disable();
  ```

## 3. Runtime Reconfiguration

- მოდულის კონფიგურაციის შეცვლა მუშაობის დროს
- გამოიყენეთ module_reconfigure API
- მაგალითი:

  ```c
  cJSON *new_config = ...; // ახალი კონფიგურაცია
  module_reconfigure(module, new_config);
  ```

## 4. Custom Event-ების გამოყენება

სისტემური ივენთების გარდა, შეგიძლიათ შექმნათ და გამოიყენოთ საკუთარი, აპლიკაციისთვის სპეციფიური ივენთები.

**ნაბიჯი 1: ივენთის სახელის განსაზღვრა**

შექმენით უნიკალური სტრიქონი თქვენი ივენთისთვის. რეკომენდებულია მისი `#define`-ით განსაზღვრა ცალკე ჰედერ ფაილში.

```c
// file: my_app_events.h
#define MY_COOL_EVENT "MyCoolEvent"
#define ANOTHER_EVENT "DeviceStateChanged"
```

**ნაბიჯი 2: ივენთის გამოქვეყნება (Posting)**

გამოიყენეთ `fmw_event_bus_post` ფუნქცია თქვენი ივენთის გასაგზავნად.

```c
#include "my_app_events.h"
#include "event_bus.h"

void do_something_and_notify() {
    // ... რაიმე ლოგიკა ...
    ESP_LOGI(TAG, "Posting my cool event!");
    // მეორე პარამეტრი (payload) არის NULL, რადგან მონაცემებს არ ვაგზავნით.
    fmw_event_bus_post(MY_COOL_EVENT, NULL);
}
```

**ნაბიჯი 3: ივენთის გამოწერა და დამუშავება**

სხვა მოდულს შეუძლია გამოიწეროს ეს ივენთი და დაამუშავოს ის `handle_event` ფუნქციაში, როგორც ეს "პირველი მოდულის შექმნის" გაკვეთილშია ნაჩვენები.

## 5. მოდულის სტატუსის მონიტორინგი

- გამოიყენეთ get_status API მოდულის მდგომარეობის მისაღებად
- მაგალითი:

  ```c
  module_status_t status = ssd1306_get_status(module);
  if (status == MODULE_STATUS_ENABLED) {
      // ...
  }
  ```

## 6. ოპტიმიზაცია და რესურსების მართვა

- გამოიყენეთ ლოგირება და performance monitoring
- ყურადღება მიაქციეთ მეხსიერების გამოყენებას და task-ების რაოდენობას

## 7. Best Practices

- გამოიყენეთ მხოლოდ public API-ები
- დაიცავით naming და structure კონვენციები
- ჩაატარეთ ტესტირება რთულ სცენარებზე
- გამოიყენეთ დეტალური ლოგირება

---

თუ გაქვთ კითხვები ან გჭირდებათ დახმარება, იხილეთ [faq.md](../structure/faq.md) ან მიმართეთ გუნდის დოკუმენტაციის პასუხისმგებელ პირს.
