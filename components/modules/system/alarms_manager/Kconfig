menu "Alarms Manager"

    config MODULE_ALARMS_MANAGER_ENABLED
        bool "Enable Alarms Manager Module"
        default y
        help
            Enables the Alarms Manager module. This module provides a centralized,
            rule-based system for reacting to critical framework events.

    # --- General Configuration ---
    # ეს სექცია უკვე არსებობდა, ვტოვებთ უცვლელად
    config ALARMS_MANAGER_DEFAULT_INSTANCE_NAME
        string "Default Instance Name"
        default "main_alarms_manager"
        depends on MODULE_ALARMS_MANAGER_ENABLED
        help
            Default instance name for the alarms_manager module.

    config ALARMS_MANAGER_INSTANCE_NAME_MAX_LEN
        int "Maximum Instance Name Length"
        default 32
        range 8 64
        depends on MODULE_ALARMS_MANAGER_ENABLED
        help
            Maximum length for the alarms_manager module instance name string.

    # --- Resource and Buffer Configuration ---
    # ★★★ აქედან იწყება ახალი, დამატებული პარამეტრები ★★★
    menu "Resource and Buffer Sizing"
        depends on MODULE_ALARMS_MANAGER_ENABLED

        config ALARMS_MANAGER_MAX_RULES
            int "Maximum number of alarm rules"
            default 10
            range 1 32
            help
                Defines the maximum number of alarm rules that can be configured
                in system_config.json. This directly affects the static memory
                usage of the module.

        config ALARMS_MANAGER_MAX_ACTIONS_PER_RULE
            int "Maximum number of actions per alarm rule"
            default 5
            range 1 10
            help
                Defines the maximum number of actions that can be specified for a
                single alarm rule.

        config ALARMS_MANAGER_MAX_EVENT_NAME_LEN
            int "Maximum length for event names"
            default 32
            range 16 64
            help
                Buffer size for storing event names specified in alarm rules.

        config ALARMS_MANAGER_MAX_CONDITION_KEY_LEN
            int "Maximum length for condition keys"
            default 32
            range 16 64
            help
                Buffer size for storing the 'condition_payload_key' string from
                the alarm rule configuration.

        config ALARMS_MANAGER_MAX_CONDITION_VALUE_LEN
            int "Maximum length for condition values"
            default 32
            range 16 64
            help
                Buffer size for storing the 'condition_payload_value' string from
                the alarm rule configuration.

        config ALARMS_MANAGER_MAX_LOG_MESSAGE_LEN
            int "Maximum length for log messages in actions"
            default 128
            range 32 256
            help
                Buffer size for storing the 'message' string for 'log_critical' actions.

    endmenu # End of Resource and Buffer Sizing

endmenu # End of Alarms Manager