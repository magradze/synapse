<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Synapse ESP Framework: рЃЏрЃЮрЃЊрЃБрЃџрЃўрЃА рЃАрЃбрЃарЃБрЃЦрЃбрЃБрЃарЃўрЃА рЃЎрЃЮрЃюрЃЋрЃћрЃюрЃфрЃўрЃљ</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript" src="darkmode_toggle.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Synapse ESP Framework
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('md_docs_2convention_2module__structure.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">рЃЏрЃЮрЃЊрЃБрЃџрЃўрЃА рЃАрЃбрЃарЃБрЃЦрЃбрЃБрЃарЃўрЃА рЃЎрЃЮрЃюрЃЋрЃћрЃюрЃфрЃўрЃљ</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md1361"></a> <b>рЃАрЃбрЃљрЃбрЃБрЃАрЃў:</b> рЃБрЃЏрЃЎрЃљрЃфрЃарЃћрЃАрЃў рЃЏрЃЮрЃЌрЃ«рЃЮрЃЋрЃюрЃљ (Mandatory) <b>рЃЋрЃћрЃарЃАрЃўрЃљ:</b> 2.0.0</p>
<h1><a class="anchor" id="autotoc_md1362"></a>
1. ­ЪЊю рЃЏрЃўрЃЏрЃЮрЃ«рЃўрЃџрЃЋрЃљ</h1>
<p>рЃћрЃА рЃЊрЃЮрЃЎрЃБрЃЏрЃћрЃюрЃбрЃў рЃњрЃљрЃюрЃАрЃљрЃќрЃдрЃЋрЃарЃљрЃЋрЃА Synapse Framework-рЃўрЃА рЃЏрЃЮрЃЊрЃБрЃџрЃћрЃЉрЃўрЃА рЃцрЃљрЃўрЃџрЃБрЃарЃў рЃЊрЃљ рЃЎрЃЮрЃЊрЃўрЃА рЃАрЃбрЃарЃБрЃЦрЃбрЃБрЃарЃўрЃА <b>рЃћрЃарЃЌрЃўрЃљрЃю, рЃАрЃљрЃЋрЃљрЃџрЃЊрЃћрЃЉрЃБрЃџрЃЮ рЃАрЃбрЃљрЃюрЃЊрЃљрЃарЃбрЃА</b>. рЃљрЃЏ рЃЎрЃЮрЃюрЃЋрЃћрЃюрЃфрЃўрЃўрЃА рЃќрЃћрЃЊрЃЏрЃўрЃгрЃћрЃЋрЃюрЃўрЃЌ рЃЊрЃљрЃфрЃЋрЃљ рЃБрЃќрЃарЃБрЃюрЃЋрЃћрЃџрЃДрЃЮрЃцрЃА рЃЎрЃЮрЃЊрЃўрЃА рЃћрЃарЃЌрЃњрЃЋрЃљрЃарЃЮрЃЋрЃюрЃћрЃЉрЃљрЃА, рЃљрЃЏрЃљрЃарЃбрЃўрЃЋрЃћрЃЉрЃА рЃљрЃЋрЃбрЃЮрЃЏрЃљрЃбрЃБрЃарЃў рЃўрЃюрЃАрЃбрЃарЃБрЃЏрЃћрЃюрЃбрЃћрЃЉрЃўрЃА (<code>create_module.py</code>, CMake рЃАрЃЎрЃарЃўрЃърЃбрЃћрЃЉрЃў) рЃЏрЃБрЃерЃљрЃЮрЃЉрЃљрЃА рЃЊрЃљ рЃљрЃЕрЃЦрЃљрЃарЃћрЃЉрЃА рЃљрЃ«рЃљрЃџрЃў рЃЊрЃћрЃЋрЃћрЃџрЃЮрЃърЃћрЃарЃћрЃЉрЃўрЃА рЃљрЃЊрЃљрЃърЃбрЃљрЃфрЃўрЃљрЃА.</p>
<h1><a class="anchor" id="autotoc_md1363"></a>
2. ­ЪЊѓ рЃАрЃљрЃЦрЃљрЃдрЃљрЃџрЃЊрЃўрЃА рЃАрЃбрЃарЃБрЃЦрЃбрЃБрЃарЃљ</h1>
<h2><a class="anchor" id="autotoc_md1364"></a>
2.1. рЃАрЃбрЃљрЃюрЃЊрЃљрЃарЃбрЃБрЃџрЃў рЃЏрЃЮрЃЊрЃБрЃџрЃўрЃА рЃАрЃбрЃарЃБрЃЦрЃбрЃБрЃарЃљ</h2>
<p>рЃДрЃЋрЃћрЃџрЃљ рЃЏрЃЮрЃЊрЃБрЃџрЃў рЃБрЃюрЃЊрЃљ рЃЏрЃўрЃАрЃЊрЃћрЃЋрЃЊрЃћрЃА рЃерЃћрЃЏрЃЊрЃћрЃњ рЃўрЃћрЃарЃљрЃарЃЦрЃўрЃљрЃА. рЃцрЃљрЃўрЃџрЃћрЃЉрЃў, рЃарЃЮрЃЏрЃџрЃћрЃЉрЃўрЃф рЃЏрЃЮрЃюрЃўрЃерЃюрЃБрЃџрЃўрЃљ <code>(рЃљрЃарЃљрЃАрЃљрЃЋрЃљрЃџрЃЊрЃћрЃЉрЃБрЃџрЃЮ)</code>-рЃЌрЃў, рЃўрЃЦрЃЏрЃюрЃћрЃЉрЃљ рЃЏрЃ«рЃЮрЃџрЃЮрЃЊ рЃАрЃљрЃГрЃўрЃарЃЮрЃћрЃЉрЃўрЃА рЃерЃћрЃЏрЃЌрЃ«рЃЋрЃћрЃЋрЃљрЃерЃў, рЃЏрЃЮрЃЊрЃБрЃџрЃўрЃА рЃљрЃарЃЦрЃћрЃбрЃўрЃърЃўрЃЊрЃљрЃю рЃњрЃљрЃЏрЃЮрЃЏрЃЊрЃўрЃюрЃљрЃарЃћ.</p>
<div class="fragment"><div class="line">components/modules/{category}/{module_name}/</div>
<div class="line">РћюРћђРћђ CMakeLists.txt</div>
<div class="line">РћюРћђРћђ Kconfig</div>
<div class="line">РћюРћђРћђ module.json</div>
<div class="line">РћюРћђРћђ config.json</div>
<div class="line">РћюРћђРћђ README.md</div>
<div class="line">РћюРћђРћђ include/</div>
<div class="line">Рћѓ   РћћРћђРћђ {module_name}.h</div>
<div class="line">РћћРћђРћђ src/</div>
<div class="line">    РћюРћђРћђ {module_name}_internal.h</div>
<div class="line">    РћюРћђРћђ {module_name}.c</div>
<div class="line">    РћюРћђРћђ {module_name}_api.c      # (рЃљрЃарЃљрЃАрЃљрЃЋрЃљрЃџрЃЊрЃћрЃЉрЃБрЃџрЃЮ, рЃЌрЃБ рЃљрЃЦрЃЋрЃА Service API)</div>
<div class="line">    РћюРћђРћђ {module_name}_cmd.c      # (рЃљрЃарЃљрЃАрЃљрЃЋрЃљрЃџрЃЊрЃћрЃЉрЃБрЃџрЃЮ, рЃЌрЃБ рЃљрЃЦрЃЋрЃА CLI рЃЉрЃарЃФрЃљрЃюрЃћрЃЉрЃћрЃЉрЃў)</div>
<div class="line">    РћћРћђРћђ {module_name}_events.c   # (рЃљрЃарЃљрЃАрЃљрЃЋрЃљрЃџрЃЊрЃћрЃЉрЃБрЃџрЃЮ, рЃЌрЃБ рЃљрЃЏрЃБрЃерЃљрЃЋрЃћрЃЉрЃА рЃўрЃЋрЃћрЃюрЃЌрЃћрЃЉрЃА)</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md1365"></a>
2.2. рЃЎрЃљрЃбрЃћрЃњрЃЮрЃарЃўрЃћрЃЉрЃў</h2>
<p>рЃЏрЃЮрЃЊрЃБрЃџрЃћрЃЉрЃў рЃБрЃюрЃЊрЃљ рЃњрЃљрЃюрЃЌрЃљрЃЋрЃАрЃЊрЃћрЃА рЃерЃћрЃАрЃљрЃЉрЃљрЃЏрЃўрЃА рЃЎрЃљрЃбрЃћрЃњрЃЮрЃарЃўрЃўрЃА рЃЊрЃўрЃарЃћрЃЦрЃбрЃЮрЃарЃўрЃљрЃерЃў <code>components/modules/</code>-рЃўрЃА рЃЦрЃЋрЃћрЃе:</p>
<div class="fragment"><div class="line">actuators/ communications/ displays/ drivers/ provisioning/ security/ sensors/ storage/ system/ testing/ utilities/</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md1366"></a>
3. ­ЪЊё рЃцрЃљрЃўрЃџрЃћрЃЉрЃўрЃА рЃЊрЃљрЃюрЃўрЃерЃюрЃБрЃџрЃћрЃЉрЃљ рЃЊрЃљ рЃерЃўрЃюрЃљрЃљрЃарЃАрЃў</h1>
<h2><a class="anchor" id="autotoc_md1367"></a>
3.1. &lt;tt&gt;src/&lt;/tt&gt; рЃЊрЃўрЃарЃћрЃЦрЃбрЃЮрЃарЃўрЃўрЃА рЃЊрЃљрЃюрЃљрЃгрЃћрЃЋрЃарЃћрЃЉрЃљ</h2>
<p>рЃЏрЃЮрЃЊрЃБрЃџрЃўрЃА рЃЎрЃЮрЃЊрЃўрЃА рЃгрЃљрЃЎрЃўрЃЌрЃ«рЃЋрЃљрЃЊрЃЮрЃЉрЃўрЃАрЃљ рЃЊрЃљ рЃЏрЃљрЃарЃЌрЃЋрЃљрЃЊрЃЮрЃЉрЃўрЃА рЃњрЃљрЃАрЃљрЃБрЃЏрЃ»рЃЮрЃЉрЃћрЃАрЃћрЃЉрЃџрЃљрЃЊ, <code>src</code> рЃЊрЃўрЃарЃћрЃЦрЃбрЃЮрЃарЃўрЃљрЃерЃў рЃЎрЃЮрЃЊрЃў рЃўрЃДрЃЮрЃцрЃљ рЃџрЃЮрЃњрЃўрЃЎрЃБрЃарЃў рЃърЃљрЃАрЃБрЃ«рЃўрЃАрЃЏрЃњрЃћрЃЉрЃџрЃЮрЃЉрЃћрЃЉрЃўрЃА рЃЏрЃўрЃ«рЃћрЃЊрЃЋрЃўрЃЌ:</p>
<ul>
<li>**<code>{module_name}.c</code> (рЃЊрЃўрЃарЃўрЃЪрЃЮрЃарЃў):** рЃЏрЃЌрЃљрЃЋрЃљрЃарЃў рЃцрЃљрЃўрЃџрЃў. рЃўрЃА рЃърЃљрЃАрЃБрЃ«рЃўрЃАрЃЏрЃњрЃћрЃЉрЃћрЃџрЃўрЃљ рЃЏрЃЮрЃЊрЃБрЃџрЃўрЃА рЃАрЃўрЃфрЃЮрЃфрЃ«рЃџрЃўрЃА рЃфрЃўрЃЎрЃџрЃќрЃћ (<code>_create</code>, <code>_init</code>, <code>_start</code>, <code>_deinit</code>) рЃЊрЃљ, рЃарЃЮрЃњрЃЮрЃарЃф рЃгрЃћрЃАрЃў, рЃерЃћрЃўрЃфрЃљрЃЋрЃА рЃЏрЃЮрЃЊрЃБрЃџрЃўрЃА рЃЏрЃЌрЃљрЃЋрЃљрЃа рЃбрЃљрЃАрЃЎрЃА.</li>
<li>**<code>{module_name}_internal.h</code> (рЃерЃўрЃЊрЃљ рЃЎрЃЮрЃюрЃбрЃарЃљрЃЦрЃбрЃў):** <b>рЃЎрЃарЃўрЃбрЃўрЃЎрЃБрЃџрЃљрЃЊ рЃЏрЃюрЃўрЃерЃЋрЃюрЃћрЃџрЃЮрЃЋрЃљрЃюрЃў рЃцрЃљрЃўрЃџрЃў.</b> рЃћрЃА рЃљрЃарЃўрЃА рЃЏрЃЮрЃЊрЃБрЃџрЃўрЃА <b>рЃърЃарЃўрЃЋрЃљрЃбрЃБрЃџрЃў рЃ░рЃћрЃЊрЃћрЃарЃў</b>. рЃўрЃА рЃерЃћрЃўрЃфрЃљрЃЋрЃА <code>private_data</code> рЃАрЃбрЃарЃБрЃЦрЃбрЃБрЃарЃўрЃА рЃЊрЃћрЃЎрЃџрЃљрЃарЃљрЃфрЃўрЃљрЃА рЃЊрЃљ рЃДрЃЋрЃћрЃџрЃљ рЃўрЃЏ рЃцрЃБрЃюрЃЦрЃфрЃўрЃўрЃА <code>Forward Declaration</code>-рЃА, рЃарЃЮрЃЏрЃџрЃћрЃЉрЃўрЃф <code>src</code> рЃЊрЃўрЃарЃћрЃЦрЃбрЃЮрЃарЃўрЃўрЃА рЃАрЃ«рЃЋрЃљрЃЊрЃљрЃАрЃ«рЃЋрЃљ <code>.c</code> рЃцрЃљрЃўрЃџрЃћрЃЉрЃА рЃерЃЮрЃарЃўрЃА рЃБрЃюрЃЊрЃљ рЃњрЃљрЃќрЃўрЃљрЃарЃЊрЃћрЃА.</li>
<li>**<code>{module_name}_api.c</code>:** (рЃљрЃарЃљрЃАрЃљрЃЋрЃљрЃџрЃЊрЃћрЃЉрЃБрЃџрЃЮ) рЃерЃћрЃўрЃфрЃљрЃЋрЃА рЃЏрЃЮрЃЊрЃБрЃџрЃўрЃА рЃЏрЃўрЃћрЃа рЃЏрЃЮрЃгрЃЮрЃЊрЃћрЃЉрЃБрЃџрЃў <code>Service API</code>-рЃА рЃцрЃБрЃюрЃЦрЃфрЃўрЃћрЃЉрЃўрЃА рЃўрЃЏрЃърЃџрЃћрЃЏрЃћрЃюрЃбрЃљрЃфрЃўрЃљрЃА.</li>
<li>**<code>{module_name}_cmd.c</code>:** (рЃљрЃарЃљрЃАрЃљрЃЋрЃљрЃџрЃЊрЃћрЃЉрЃБрЃџрЃЮ) рЃерЃћрЃўрЃфрЃљрЃЋрЃА <code>Command Router</code>-рЃўрЃАрЃЌрЃЋрЃўрЃА рЃњрЃљрЃюрЃЎрЃБрЃЌрЃЋрЃюрЃўрЃџрЃў CLI рЃЉрЃарЃФрЃљрЃюрЃћрЃЉрЃћрЃЉрЃўрЃА <code>handler</code> рЃцрЃБрЃюрЃЦрЃфрЃўрЃћрЃЉрЃўрЃА рЃўрЃЏрЃърЃџрЃћрЃЏрЃћрЃюрЃбрЃљрЃфрЃўрЃљрЃА.</li>
<li>**<code>{module_name}_events.c</code>:** (рЃљрЃарЃљрЃАрЃљрЃЋрЃљрЃџрЃЊрЃћрЃЉрЃБрЃџрЃЮ) рЃерЃћрЃўрЃфрЃљрЃЋрЃА <code>Event Bus</code>-рЃўрЃЊрЃљрЃю рЃЏрЃўрЃдрЃћрЃЉрЃБрЃџрЃў рЃўрЃЋрЃћрЃюрЃЌрЃћрЃЉрЃўрЃА рЃЊрЃљ/рЃљрЃю ESP-IDF-рЃўрЃА рЃАрЃўрЃАрЃбрЃћрЃЏрЃБрЃарЃў рЃўрЃЋрЃћрЃюрЃЌрЃћрЃЉрЃўрЃА рЃЊрЃљрЃЏрЃЏрЃБрЃерЃљрЃЋрЃћрЃЉрЃћрЃџ рЃцрЃБрЃюрЃЦрЃфрЃўрЃћрЃЉрЃА.</li>
</ul>
<h2><a class="anchor" id="autotoc_md1368"></a>
3.2. рЃЎрЃЮрЃюрЃцрЃўрЃњрЃБрЃарЃљрЃфрЃўрЃўрЃА рЃцрЃљрЃўрЃџрЃћрЃЉрЃў</h2>
<ul>
<li>**<code>config.json</code>:** рЃњрЃљрЃюрЃАрЃљрЃќрЃдрЃЋрЃарЃљрЃЋрЃА рЃЏрЃЮрЃЊрЃБрЃџрЃўрЃА <b>default runtime рЃЎрЃЮрЃюрЃцрЃўрЃњрЃБрЃарЃљрЃфрЃўрЃљрЃА</b>. рЃўрЃА рЃБрЃюрЃЊрЃљ рЃерЃћрЃўрЃфрЃљрЃЋрЃЊрЃћрЃА JSON рЃЏрЃљрЃАрЃўрЃЋрЃА, рЃарЃЮрЃЏрЃџрЃўрЃА рЃЌрЃўрЃЌрЃЮрЃћрЃБрЃџрЃў рЃћрЃџрЃћрЃЏрЃћрЃюрЃбрЃў рЃљрЃдрЃгрЃћрЃарЃА рЃЏрЃЮрЃЊрЃБрЃџрЃўрЃА рЃћрЃарЃЌ рЃўрЃюрЃАрЃбрЃљрЃюрЃфрЃўрЃљрЃА. рЃћрЃА рЃцрЃљрЃўрЃџрЃў рЃљрЃЋрЃбрЃЮрЃЏрЃљрЃбрЃБрЃарЃљрЃЊ рЃћрЃарЃЌрЃўрЃљрЃюрЃЊрЃћрЃЉрЃљ рЃАрЃўрЃАрЃбрЃћрЃЏрЃўрЃА рЃАрЃљрЃћрЃарЃЌрЃЮ рЃЎрЃЮрЃюрЃцрЃўрЃњрЃБрЃарЃљрЃфрЃўрЃљрЃерЃў.</li>
<li>**<code>module.json</code>:** рЃерЃћрЃўрЃфрЃљрЃЋрЃА рЃЏрЃЮрЃЊрЃБрЃџрЃўрЃА рЃЏрЃћрЃбрЃљрЃЏрЃЮрЃюрЃљрЃфрЃћрЃЏрЃћрЃЉрЃА build-рЃАрЃўрЃАрЃбрЃћрЃЏрЃўрЃАрЃЌрЃЋрЃўрЃА (<code>name</code>, <code>version</code>, <code>init_function</code>, <code>init_level</code> рЃЊрЃљ рЃљ.рЃе.).</li>
<li>**<code>Kconfig</code>:** рЃњрЃљрЃюрЃАрЃљрЃќрЃдрЃЋрЃарЃљрЃЋрЃА build-рЃЊрЃарЃЮрЃўрЃА рЃЎрЃЮрЃюрЃцрЃўрЃњрЃБрЃарЃљрЃфрЃўрЃўрЃА рЃърЃљрЃарЃљрЃЏрЃћрЃбрЃарЃћрЃЉрЃА, рЃарЃЮрЃЏрЃџрЃћрЃЉрЃўрЃф рЃ«рЃћрЃџрЃЏрЃўрЃАрЃљрЃгрЃЋрЃЊрЃЮрЃЏрЃўрЃљ <code>idf.py menuconfig</code>-рЃерЃў. рЃЏрЃЌрЃљрЃЋрЃљрЃарЃў рЃърЃљрЃарЃљрЃЏрЃћрЃбрЃарЃўрЃљ <code>CONFIG_MODULE_{MODULE_NAME_UPPER}_ENABLED</code>, рЃарЃЮрЃЏрЃћрЃџрЃўрЃф рЃарЃЌрЃљрЃЋрЃА рЃљрЃю рЃЌрЃўрЃерЃљрЃЋрЃА рЃЏрЃЮрЃЊрЃБрЃџрЃўрЃА рЃЎрЃЮрЃЏрЃърЃўрЃџрЃљрЃфрЃўрЃљрЃА.</li>
</ul>
<h2><a class="anchor" id="autotoc_md1369"></a>
3.3. рЃЊрЃЮрЃЎрЃБрЃЏрЃћрЃюрЃбрЃљрЃфрЃўрЃљ</h2>
<ul>
<li>**<code>README.md</code>:** рЃЏрЃЮрЃЊрЃБрЃџрЃўрЃА рЃЊрЃћрЃбрЃљрЃџрЃБрЃарЃў рЃЊрЃЮрЃЎрЃБрЃЏрЃћрЃюрЃбрЃљрЃфрЃўрЃљ. рЃБрЃюрЃЊрЃљ рЃерЃћрЃўрЃфрЃљрЃЋрЃЊрЃћрЃА рЃЏрЃўрЃЏрЃЮрЃ«рЃўрЃџрЃЋрЃљрЃА, рЃљрЃарЃЦрЃўрЃбрЃћрЃЦрЃбрЃБрЃарЃБрЃџ рЃърЃарЃўрЃюрЃфрЃўрЃърЃћрЃЉрЃА, рЃЎрЃЮрЃюрЃцрЃўрЃњрЃБрЃарЃљрЃфрЃўрЃўрЃА рЃърЃљрЃарЃљрЃЏрЃћрЃбрЃарЃћрЃЉрЃўрЃА рЃљрЃдрЃгрЃћрЃарЃљрЃА, Service API-рЃА, рЃўрЃЋрЃћрЃюрЃЌрЃћрЃЉрЃўрЃА, CLI рЃЉрЃарЃФрЃљрЃюрЃћрЃЉрЃћрЃЉрЃўрЃА рЃЊрЃљ рЃњрЃљрЃЏрЃЮрЃДрЃћрЃюрЃћрЃЉрЃўрЃА рЃЏрЃљрЃњрЃљрЃџрЃўрЃЌрЃћрЃЉрЃўрЃА рЃАрЃћрЃЦрЃфрЃўрЃћрЃЉрЃА.</li>
<li>**<code>include/{module_name}.h</code>:** рЃАрЃљрЃ»рЃљрЃарЃЮ рЃ░рЃћрЃЊрЃћрЃарЃў. рЃБрЃюрЃЊрЃљ рЃерЃћрЃўрЃфрЃљрЃЋрЃЊрЃћрЃА рЃЏрЃ«рЃЮрЃџрЃЮрЃЊ <code>_create</code> factory рЃцрЃБрЃюрЃЦрЃфрЃўрЃўрЃА рЃЊрЃћрЃЎрЃџрЃљрЃарЃљрЃфрЃўрЃљрЃА рЃЊрЃљ Doxygen-рЃўрЃА рЃАрЃбрЃўрЃџрЃўрЃА рЃЊрЃЮрЃЎрЃБрЃЏрЃћрЃюрЃбрЃљрЃфрЃўрЃљрЃА.</li>
</ul>
<h2><a class="anchor" id="autotoc_md1370"></a>
3.4. рЃЎрЃЮрЃЊрЃўрЃА рЃАрЃбрЃарЃБрЃЦрЃбрЃБрЃарЃљ (&lt;tt&gt;_create&lt;/tt&gt; рЃцрЃБрЃюрЃЦрЃфрЃўрЃљ)</h2>
<p>рЃЏрЃЮрЃЊрЃБрЃџрЃўрЃА <code>_create</code> рЃцрЃБрЃюрЃЦрЃфрЃўрЃљ рЃљрЃарЃўрЃА рЃЏрЃўрЃАрЃў рЃЏрЃЌрЃљрЃЋрЃљрЃарЃў "рЃерЃћрЃАрЃљрЃАрЃЋрЃџрЃћрЃџрЃў рЃгрЃћрЃарЃбрЃўрЃџрЃў". рЃЏрЃљрЃю рЃБрЃюрЃЊрЃљ рЃЊрЃљрЃўрЃфрЃЋрЃљрЃА рЃерЃћрЃЏрЃЊрЃћрЃњрЃў рЃџрЃЮрЃњрЃўрЃЎрЃБрЃарЃў рЃЌрЃљрЃюрЃЏрЃўрЃЏрЃЊрЃћрЃЋрЃарЃЮрЃЉрЃљ:</p>
<ol type="1">
<li><b>рЃЏрЃћрЃ«рЃАрЃўрЃћрЃарЃћрЃЉрЃўрЃА рЃњрЃљрЃЏрЃЮрЃДрЃЮрЃцрЃљ:</b> <code>calloc</code>-рЃўрЃЌ рЃњрЃљрЃЏрЃЮрЃўрЃДрЃЮрЃцрЃљ рЃЏрЃћрЃ«рЃАрЃўрЃћрЃарЃћрЃЉрЃљ <code><a class="el" href="structmodule__t.html" title="The primary structure defining a framework module.">module_t</a></code> рЃЊрЃљ <code>private_data_t</code> рЃАрЃбрЃарЃБрЃЦрЃбрЃБрЃарЃћрЃЉрЃўрЃАрЃЌрЃЋрЃўрЃА.</li>
<li><b>рЃЎрЃЮрЃюрЃцрЃўрЃњрЃБрЃарЃљрЃфрЃўрЃўрЃА рЃЊрЃБрЃЉрЃџрЃўрЃарЃћрЃЉрЃљ:</b> <code>cJSON_Duplicate</code>-рЃўрЃЌ рЃўрЃЦрЃЏрЃюрЃћрЃЉрЃљ рЃњрЃљрЃЊрЃљрЃфрЃћрЃЏрЃБрЃџрЃў рЃЎрЃЮрЃюрЃцрЃўрЃњрЃБрЃарЃљрЃфрЃўрЃўрЃА рЃЊрЃљрЃЏрЃЮрЃБрЃЎрЃўрЃЊрЃћрЃЉрЃћрЃџрЃў рЃљрЃАрЃџрЃў.</li>
<li><b>рЃЊрЃљрЃЏрЃЮрЃЎрЃўрЃЊрЃћрЃЉрЃБрЃџрЃћрЃЉрЃћрЃЉрЃўрЃА рЃарЃБрЃЎрЃўрЃА рЃЏрЃўрЃюрЃўрЃГрЃћрЃЉрЃљ:</b> <code>module-&gt;dependency_map</code>-рЃА рЃћрЃюрЃўрЃГрЃћрЃЉрЃљ <code>static const <a class="el" href="structmodule__dependency__t.html" title="Describes a single service dependency for a module.">module_dependency_t</a></code> рЃЏрЃљрЃАрЃўрЃЋрЃўрЃА рЃЏрЃўрЃАрЃљрЃЏрЃљрЃарЃЌрЃў.</li>
<li><b>рЃЎрЃЮрЃюрЃцрЃўрЃњрЃБрЃарЃљрЃфрЃўрЃўрЃА рЃърЃљрЃарЃАрЃўрЃюрЃњрЃў:</b> рЃњрЃљрЃЏрЃЮрЃўрЃФрЃљрЃ«рЃћрЃЉрЃљ <code>parse_config</code> рЃцрЃБрЃюрЃЦрЃфрЃўрЃљ.</li>
<li><b>рЃАрЃљрЃ«рЃћрЃџрЃўрЃА рЃЏрЃўрЃюрЃўрЃГрЃћрЃЉрЃљ:</b> <code>snprintf</code>-рЃўрЃЌ <code>module-&gt;name</code>-рЃА рЃћрЃюрЃўрЃГрЃћрЃЉрЃљ <code>instance_name</code>.</li>
<li><b>рЃАрЃћрЃарЃЋрЃўрЃАрЃўрЃА рЃарЃћрЃњрЃўрЃАрЃбрЃарЃљрЃфрЃўрЃљ:</b> (рЃЌрЃБ рЃЏрЃЮрЃЊрЃБрЃџрЃў <code>Service Provider</code>-рЃўрЃљ) <code>synapse_service_register_with_status</code>-рЃўрЃЌ рЃ«рЃЊрЃћрЃЉрЃљ рЃАрЃћрЃарЃЋрЃўрЃАрЃўрЃА рЃарЃћрЃњрЃўрЃАрЃбрЃарЃљрЃфрЃўрЃљ.</li>
<li>**<code>base</code> рЃцрЃБрЃюрЃЦрЃфрЃўрЃћрЃЉрЃўрЃА рЃЏрЃўрЃюрЃўрЃГрЃћрЃЉрЃљ:** <code>module-&gt;base</code> рЃАрЃбрЃарЃБрЃЦрЃбрЃБрЃарЃўрЃА рЃЋрЃћрЃџрЃћрЃЉрЃА рЃћрЃюрЃўрЃГрЃћрЃЉрЃљ рЃерЃћрЃАрЃљрЃЉрЃљрЃЏрЃўрЃАрЃў <code>lifecycle</code> рЃцрЃБрЃюрЃЦрЃфрЃўрЃћрЃЉрЃўрЃА рЃЏрЃўрЃАрЃљрЃЏрЃљрЃарЃЌрЃћрЃЉрЃў.</li>
</ol>
<p><b>рЃљрЃ«рЃљрЃџрЃў, рЃљрЃарЃљрЃАрЃљрЃЋрЃљрЃџрЃЊрЃћрЃЉрЃБрЃџрЃЮ <code>debug_print</code> рЃцрЃБрЃюрЃЦрЃфрЃўрЃљ:</b></p>
<ul>
<li><code>base</code> рЃАрЃбрЃарЃБрЃЦрЃбрЃБрЃарЃљрЃА рЃЊрЃљрЃћрЃЏрЃљрЃбрЃљ <code>debug_print</code> рЃцрЃБрЃюрЃЦрЃфрЃўрЃўрЃА рЃЏрЃљрЃЕрЃЋрЃћрЃюрЃћрЃЉрЃћрЃџрЃў.</li>
<li>рЃЌрЃБ рЃЏрЃЮрЃЊрЃБрЃџрЃА рЃАрЃБрЃарЃА, рЃ░рЃЦрЃЮрЃюрЃЊрЃћрЃА <code>modules --info</code> рЃЉрЃарЃФрЃљрЃюрЃћрЃЉрЃўрЃА рЃЏрЃ«рЃљрЃарЃЊрЃљрЃГрЃћрЃарЃљ, рЃЏрЃљрЃю рЃБрЃюрЃЊрЃљ рЃЏрЃЮрЃљрЃ«рЃЊрЃўрЃюрЃЮрЃА рЃљрЃЏ рЃцрЃБрЃюрЃЦрЃфрЃўрЃўрЃА рЃўрЃЏрЃърЃџрЃћрЃЏрЃћрЃюрЃбрЃљрЃфрЃўрЃљ рЃЊрЃљ рЃЏрЃўрЃљрЃюрЃўрЃГрЃЮрЃА рЃўрЃА <code>_create</code> рЃцрЃБрЃюрЃЦрЃфрЃўрЃљрЃерЃў.</li>
</ul>
<h1><a class="anchor" id="autotoc_md1371"></a>
4. &lt;tt&gt;CMakeLists.txt&lt;/tt&gt;-рЃўрЃА рЃАрЃбрЃарЃБрЃЦрЃбрЃБрЃарЃљ</h1>
<p>Synapse Framework-рЃў рЃўрЃДрЃћрЃюрЃћрЃЉрЃА **"рЃГрЃЎрЃЋрЃўрЃљрЃюрЃў" рЃърЃўрЃарЃЮрЃЉрЃўрЃЌрЃў рЃЎрЃЮрЃЏрЃърЃўрЃџрЃљрЃфрЃўрЃўрЃА** рЃЏрЃћрЃЦрЃљрЃюрЃўрЃќрЃЏрЃА, рЃарЃљрЃЌрЃљ рЃБрЃќрЃарЃБрЃюрЃЋрЃћрЃџрЃДрЃЮрЃА, рЃарЃЮрЃЏ <code>menuconfig</code>-рЃерЃў рЃњрЃљрЃЏрЃЮрЃарЃЌрЃБрЃџрЃў рЃЏрЃЮрЃЊрЃБрЃџрЃћрЃЉрЃў рЃљрЃа рЃЏрЃЮрЃ«рЃЋрЃЊрЃюрЃћрЃю рЃАрЃљрЃЉрЃЮрЃџрЃЮрЃЮ firmware-рЃерЃў. рЃДрЃЋрЃћрЃџрЃљ рЃЏрЃЮрЃЊрЃБрЃџрЃўрЃА <code>CMakeLists.txt</code> рЃцрЃљрЃўрЃџрЃў рЃБрЃюрЃЊрЃљ рЃЏрЃўрЃАрЃЊрЃћрЃЋрЃЊрЃћрЃА рЃљрЃЏ рЃАрЃбрЃљрЃюрЃЊрЃљрЃарЃбрЃБрЃџ рЃерЃљрЃЉрЃџрЃЮрЃюрЃА.</p>
<div class="fragment"><div class="line"># {Module Name} CMake Configuration</div>
<div class="line"># Author: {Author Name}</div>
<div class="line"># Version: {Version}</div>
<div class="line"> </div>
<div class="line"># SMART CONDITIONAL COMPILATION SYSTEM:</div>
<div class="line"># 1. If the CONFIG variable does not exist yet (configure stage), register with a placeholder.</div>
<div class="line"># 2. If the CONFIG variable exists and is enabled, register with full functionality.</div>
<div class="line"># 3. If the CONFIG variable exists and is disabled, register an empty placeholder.</div>
<div class="line"> </div>
<div class="line">if(DEFINED CONFIG_MODULE_{MODULE_NAME_UPPER}_ENABLED)</div>
<div class="line">    # CONFIG variable exists - check its value</div>
<div class="line">    if(CONFIG_MODULE_{MODULE_NAME_UPPER}_ENABLED)</div>
<div class="line">        # Module is ENABLED - full registration</div>
<div class="line">        message(STATUS &quot;{Module Name}: ENABLED - Compiling with full functionality&quot;)</div>
<div class="line">        idf_component_register(</div>
<div class="line">            SRCS</div>
<div class="line">                &quot;src/{module_name}.c&quot;</div>
<div class="line">                &quot;src/{module_name}_api.c&quot;    # Add/remove files as needed</div>
<div class="line">                &quot;src/{module_name}_cmd.c&quot;</div>
<div class="line">                &quot;src/{module_name}_events.c&quot;</div>
<div class="line">            INCLUDE_DIRS &quot;include&quot;</div>
<div class="line">            REQUIRES</div>
<div class="line">                synapse # Provides all core framework APIs</div>
<div class="line">                # Add other public interface dependencies here (e.g., storage_interface)</div>
<div class="line">            PRIV_REQUIRES</div>
<div class="line">                json</div>
<div class="line">                # Add other private dependencies here (e.g., esp_wifi)</div>
<div class="line">        )</div>
<div class="line">    else()</div>
<div class="line">        # Module is DISABLED - register an empty placeholder</div>
<div class="line">        message(STATUS &quot;{Module Name}: DISABLED - Compiling an empty placeholder&quot;)</div>
<div class="line">        </div>
<div class="line">        # Create an empty source file to prevent CMake from failing</div>
<div class="line">        set(EMPTY_SOURCE_CONTENT &quot;// {module_name} disabled by Kconfig\n&quot;)</div>
<div class="line">        file(WRITE &quot;${CMAKE_CURRENT_BINARY_DIR}/empty_{module_name}.c&quot; &quot;${EMPTY_SOURCE_CONTENT}&quot;)</div>
<div class="line">        </div>
<div class="line">        idf_component_register(</div>
<div class="line">            SRCS &quot;${CMAKE_CURRENT_BINARY_DIR}/empty_{module_name}.c&quot;</div>
<div class="line">            INCLUDE_DIRS &quot;include&quot;  # Header is still needed for the factory</div>
<div class="line">            REQUIRES synapse</div>
<div class="line">        )</div>
<div class="line">    endif()</div>
<div class="line">else()</div>
<div class="line">    # CONFIG variable does not exist yet (configure stage) - temporary registration</div>
<div class="line">    message(STATUS &quot;{Module Name}: CONFIGURE STAGE - Registering temporarily&quot;)</div>
<div class="line">    idf_component_register(</div>
<div class="line">        SRCS &quot;src/{module_name}.c&quot; # Register at least one file</div>
<div class="line">        INCLUDE_DIRS &quot;include&quot;</div>
<div class="line">        REQUIRES synapse</div>
<div class="line">    )</div>
<div class="line">endif()</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md1372"></a>
5. РЮї рЃљрЃЎрЃарЃФрЃљрЃџрЃБрЃџрЃў рЃърЃарЃљрЃЦрЃбрЃўрЃЎрЃћрЃЉрЃў</h1>
<ul>
<li><b>рЃљрЃарЃљрЃАрЃЊрЃарЃЮрЃА:</b><ul>
<li>рЃАрЃ«рЃЋрЃљ рЃЏрЃЮрЃЊрЃБрЃџрЃўрЃА <code>.h</code> рЃљрЃю <code>_internal.h</code> рЃцрЃљрЃўрЃџрЃўрЃА рЃърЃўрЃарЃЊрЃљрЃърЃўрЃарЃў <code>#include</code>.</li>
<li><code>src</code> рЃЊрЃўрЃарЃћрЃЦрЃбрЃЮрЃарЃўрЃљрЃерЃў рЃЦрЃЋрЃћрЃЊрЃўрЃарЃћрЃЦрЃбрЃЮрЃарЃўрЃћрЃЉрЃўрЃА рЃерЃћрЃЦрЃЏрЃюрЃљ.</li>
<li><code>_create</code> рЃцрЃБрЃюрЃЦрЃфрЃўрЃљрЃерЃў рЃњрЃљрЃЊрЃљрЃфрЃћрЃЏрЃБрЃџрЃў <code>config</code> рЃЮрЃЉрЃўрЃћрЃЦрЃбрЃўрЃА рЃЊрЃБрЃЉрЃџрЃўрЃарЃћрЃЉрЃљ (<code>cJSON_Duplicate</code>).</li>
<li><code>synapse_service_get()</code>-рЃўрЃА рЃњрЃљрЃЏрЃЮрЃФрЃљрЃ«рЃћрЃЉрЃљ <code>_init</code> рЃцрЃБрЃюрЃЦрЃфрЃўрЃљрЃерЃў рЃўрЃЏ рЃЊрЃљрЃЏрЃЮрЃЎрЃўрЃЊрЃћрЃЉрЃБрЃџрЃћрЃЉрЃћрЃЉрЃўрЃАрЃЌрЃЋрЃўрЃА, рЃарЃЮрЃЏрЃћрЃџрЃЌрЃљ рЃўрЃюрЃћрЃЦрЃфрЃўрЃљрЃф рЃерЃћрЃАрЃљрЃФрЃџрЃћрЃЉрЃћрЃџрЃўрЃљ <code>dependency_map</code>-рЃўрЃЌ.</li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md1373"></a>
6. РюЁ рЃАрЃљрЃБрЃЎрЃћрЃЌрЃћрЃАрЃЮ рЃърЃарЃљрЃЦрЃбрЃўрЃЎрЃћрЃЉрЃў</h1>
<ul>
<li><b>рЃДрЃЮрЃЋрЃћрЃџрЃЌрЃЋрЃўрЃА:</b><ul>
<li>рЃњрЃљрЃЏрЃЮрЃўрЃДрЃћрЃюрЃћрЃЌ <code>create_module.py</code> рЃАрЃЎрЃарЃўрЃърЃбрЃў рЃљрЃ«рЃљрЃџрЃў рЃЏрЃЮрЃЊрЃБрЃџрЃўрЃА рЃЕрЃЮрЃюрЃЕрЃ«рЃўрЃА рЃерЃћрЃАрЃљрЃЦрЃЏрЃюрЃћрЃџрЃљрЃЊ.</li>
<li>рЃљрЃдрЃгрЃћрЃарЃћрЃЌ рЃАрЃћрЃарЃЋрЃўрЃАрЃћрЃЉрЃќрЃћ рЃЊрЃљрЃЏрЃЮрЃЎрЃўрЃЊрЃћрЃЉрЃБрЃџрЃћрЃЉрЃћрЃЉрЃў <code>dependency_map</code>-рЃўрЃА рЃАрЃљрЃерЃБрЃљрЃџрЃћрЃЉрЃўрЃЌ.</li>
<li><code>_deinit</code> рЃцрЃБрЃюрЃЦрЃфрЃўрЃљрЃЏ рЃБрЃюрЃЊрЃљ рЃњрЃљрЃљрЃЌрЃљрЃЋрЃўрЃАрЃБрЃцрЃџрЃЮрЃА <code>module-&gt;current_config</code> рЃЊрЃљ <code>private_data</code>.</li>
<li>рЃЊрЃљрЃўрЃфрЃљрЃЋрЃўрЃЌ Doxygen-рЃўрЃА рЃАрЃбрЃљрЃюрЃЊрЃљрЃарЃбрЃў рЃДрЃЋрЃћрЃџрЃљ рЃ░рЃћрЃЊрЃћрЃа рЃцрЃљрЃўрЃџрЃАрЃљ рЃЊрЃљ рЃАрЃљрЃ»рЃљрЃарЃЮ рЃцрЃБрЃюрЃЦрЃфрЃўрЃљрЃерЃў.</li>
<li>(рЃљрЃарЃљрЃАрЃљрЃЋрЃљрЃџрЃЊрЃћрЃЉрЃБрЃџрЃЮ) рЃЊрЃљрЃљрЃўрЃЏрЃърЃџрЃћрЃЏрЃћрЃюрЃбрЃћрЃЌ <code>debug_print</code> рЃцрЃБрЃюрЃЦрЃфрЃўрЃљ, рЃарЃљрЃЌрЃљ рЃњрЃљрЃљрЃЏрЃљрЃарЃбрЃўрЃЋрЃЮрЃЌ рЃЏрЃЮрЃЊрЃБрЃџрЃўрЃА рЃЊрЃўрЃљрЃњрЃюрЃЮрЃАрЃбрЃўрЃЎрЃљ CLI-рЃЊрЃљрЃю. </li>
</ul>
</li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
