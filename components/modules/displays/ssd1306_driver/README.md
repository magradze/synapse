# ðŸ“º áƒ›áƒáƒ“áƒ£áƒšáƒ˜: `ssd1306_driver`

**ðŸ—‚ï¸ áƒ™áƒáƒ¢áƒ”áƒ’áƒáƒ áƒ˜áƒ:** `displays`
**âœ’ï¸ áƒáƒ•áƒ¢áƒáƒ áƒ˜:** Synapse Framework Team
**ðŸ”– áƒ•áƒ”áƒ áƒ¡áƒ˜áƒ:** 1.2.0

## 1. ðŸ“œ áƒ›áƒ˜áƒ›áƒáƒ®áƒ˜áƒšáƒ•áƒ

`ssd1306_driver` áƒáƒ áƒ˜áƒ¡ Synapse Framework-áƒ˜áƒ¡ áƒ“áƒáƒ‘áƒáƒšáƒ˜ áƒ“áƒáƒœáƒ˜áƒ¡ áƒ“áƒ áƒáƒ˜áƒ•áƒ”áƒ áƒ˜áƒ¡ áƒ›áƒáƒ“áƒ£áƒšáƒ˜, áƒ áƒáƒ›áƒ”áƒšáƒ˜áƒª áƒ£áƒ–áƒ áƒ£áƒœáƒ•áƒ”áƒšáƒ§áƒáƒ¤áƒ¡ SSD1306-áƒ–áƒ” áƒ“áƒáƒ¤áƒ£áƒ«áƒœáƒ”áƒ‘áƒ£áƒšáƒ˜ áƒ›áƒáƒœáƒáƒ¥áƒ áƒáƒ›áƒ£áƒšáƒ˜ OLED áƒ”áƒ™áƒ áƒáƒœáƒ”áƒ‘áƒ˜áƒ¡ áƒ›áƒáƒ áƒ—áƒ•áƒáƒ¡ I2C áƒ˜áƒœáƒ¢áƒ”áƒ áƒ¤áƒ”áƒ˜áƒ¡áƒ˜áƒ—.

áƒ›áƒ˜áƒ¡áƒ˜ áƒ›áƒ—áƒáƒ•áƒáƒ áƒ˜ áƒáƒ›áƒáƒªáƒáƒœáƒáƒ, áƒ›áƒáƒáƒ®áƒ“áƒ˜áƒœáƒáƒ¡ áƒáƒžáƒáƒ áƒáƒ¢áƒ£áƒ áƒáƒ¡áƒ—áƒáƒœ áƒžáƒ˜áƒ áƒ“áƒáƒžáƒ˜áƒ áƒ˜ áƒ™áƒáƒ›áƒ£áƒœáƒ˜áƒ™áƒáƒªáƒ˜áƒ˜áƒ¡ áƒáƒ‘áƒ¡áƒ¢áƒ áƒáƒ’áƒ˜áƒ áƒ”áƒ‘áƒ áƒ“áƒ áƒ›áƒ˜áƒáƒ¬áƒáƒ“áƒáƒ¡ áƒ£áƒœáƒ˜áƒ•áƒ”áƒ áƒ¡áƒáƒšáƒ£áƒ áƒ˜, `display_driver_api_t` áƒ˜áƒœáƒ¢áƒ”áƒ áƒ¤áƒ”áƒ˜áƒ¡áƒ˜ áƒ›áƒáƒ¦áƒáƒšáƒ˜ áƒ“áƒáƒœáƒ˜áƒ¡ áƒ›áƒáƒ“áƒ£áƒšáƒ”áƒ‘áƒ¡ (áƒ áƒáƒ’áƒáƒ áƒ˜áƒªáƒáƒ `ui_manager`). áƒáƒ› áƒ›áƒáƒ“áƒ£áƒšáƒ›áƒ áƒáƒ áƒáƒ¤áƒ”áƒ áƒ˜ "áƒ˜áƒªáƒ˜áƒ¡" áƒ›áƒ”áƒœáƒ˜áƒ£áƒ”áƒ‘áƒ˜áƒ¡, áƒ¡áƒ¢áƒáƒ¢áƒ£áƒ¡ áƒ‘áƒáƒ áƒ”áƒ‘áƒ˜áƒ¡ áƒáƒœ áƒ¡áƒ®áƒ•áƒ UI áƒ”áƒšáƒ”áƒ›áƒ”áƒœáƒ¢áƒ”áƒ‘áƒ˜áƒ¡ áƒ¨áƒ”áƒ¡áƒáƒ®áƒ”áƒ‘; áƒ˜áƒ¡ áƒ›áƒ®áƒáƒšáƒáƒ“ áƒáƒ¡áƒ áƒ£áƒšáƒ”áƒ‘áƒ¡ áƒ’áƒ áƒáƒ¤áƒ˜áƒ™áƒ£áƒš áƒžáƒ áƒ˜áƒ›áƒ˜áƒ¢áƒ˜áƒ•áƒ”áƒ‘áƒ—áƒáƒœ áƒ“áƒáƒ™áƒáƒ•áƒ¨áƒ˜áƒ áƒ”áƒ‘áƒ£áƒš áƒ‘áƒ áƒ«áƒáƒœáƒ”áƒ‘áƒ”áƒ‘áƒ¡.

## 2. ðŸ›ï¸ áƒáƒ áƒ¥áƒ˜áƒ¢áƒ”áƒ¥áƒ¢áƒ£áƒ áƒ£áƒšáƒ˜ áƒžáƒ áƒ˜áƒœáƒªáƒ˜áƒžáƒ”áƒ‘áƒ˜

- **Service Provider:** áƒ›áƒáƒ“áƒ£áƒšáƒ˜ áƒáƒ áƒ˜áƒ¡ áƒ¡áƒ£áƒ¤áƒ—áƒ "áƒ¡áƒ”áƒ áƒ•áƒ˜áƒ¡áƒ˜áƒ¡ áƒ›áƒáƒ›áƒ¬áƒáƒ“áƒ”áƒ‘áƒ”áƒšáƒ˜". áƒ˜áƒ¡ áƒáƒ áƒ”áƒ’áƒ˜áƒ¡áƒ¢áƒ áƒ˜áƒ áƒ”áƒ‘áƒ¡ `display_driver_api_t` áƒ¡áƒ”áƒ áƒ•áƒ˜áƒ¡áƒ¡ `Service Locator`-áƒ¨áƒ˜, `FMW_SERVICE_TYPE_DISPLAY_API` áƒ¢áƒ˜áƒžáƒ˜áƒ—.
- **áƒ‘áƒ£áƒ¤áƒ”áƒ áƒ–áƒ” áƒ“áƒáƒ¤áƒ£áƒ«áƒœáƒ”áƒ‘áƒ£áƒšáƒ˜ áƒ áƒ”áƒœáƒ“áƒ”áƒ áƒ˜áƒœáƒ’áƒ˜:** áƒ§áƒ•áƒ”áƒšáƒ áƒ®áƒáƒ¢áƒ•áƒ˜áƒ¡ áƒáƒžáƒ”áƒ áƒáƒªáƒ˜áƒ áƒ¡áƒ áƒ£áƒšáƒ“áƒ”áƒ‘áƒ áƒ¨áƒ˜áƒ“áƒ áƒ›áƒ”áƒ®áƒ¡áƒ˜áƒ”áƒ áƒ”áƒ‘áƒ˜áƒ¡ áƒ‘áƒ£áƒ¤áƒ”áƒ áƒ¨áƒ˜. áƒªáƒ•áƒšáƒ˜áƒšáƒ”áƒ‘áƒ”áƒ‘áƒ˜ áƒ¤áƒ˜áƒ–áƒ˜áƒ™áƒ£áƒ  áƒ”áƒ™áƒ áƒáƒœáƒ–áƒ” áƒ’áƒáƒ“áƒáƒ“áƒ˜áƒ¡ áƒ›áƒ®áƒáƒšáƒáƒ“ `update_screen()` áƒ¤áƒ£áƒœáƒ¥áƒªáƒ˜áƒ˜áƒ¡ áƒ’áƒáƒ›áƒáƒ«áƒáƒ®áƒ”áƒ‘áƒ˜áƒ¡ áƒ¨áƒ”áƒ›áƒ“áƒ”áƒ’, áƒ áƒáƒª áƒ£áƒ–áƒ áƒ£áƒœáƒ•áƒ”áƒšáƒ§áƒáƒ¤áƒ¡ áƒ”áƒ™áƒ áƒáƒœáƒ˜áƒ¡ áƒ’áƒšáƒ£áƒ•, "áƒáƒªáƒ˜áƒ›áƒªáƒ˜áƒ›áƒ”áƒ‘áƒ˜áƒ¡" áƒ’áƒáƒ áƒ”áƒ¨áƒ” áƒ’áƒáƒœáƒáƒ®áƒšáƒ”áƒ‘áƒáƒ¡.
- **áƒ“áƒáƒ›áƒáƒ™áƒ˜áƒ“áƒ”áƒ‘áƒ£áƒšáƒ”áƒ‘áƒ I2C áƒ¡áƒ”áƒ áƒ•áƒ˜áƒ¡áƒ–áƒ”:** áƒ›áƒáƒ“áƒ£áƒšáƒ˜ áƒ¡áƒ áƒ£áƒšáƒáƒ“ áƒ”áƒ§áƒ áƒ“áƒœáƒáƒ‘áƒ `i2c_bus` áƒ¡áƒ”áƒ áƒ•áƒ˜áƒ¡áƒ¡ I2C áƒ™áƒáƒ›áƒ£áƒœáƒ˜áƒ™áƒáƒªáƒ˜áƒ˜áƒ¡áƒ—áƒ•áƒ˜áƒ¡, áƒ áƒáƒª áƒ£áƒ–áƒ áƒ£áƒœáƒ•áƒ”áƒšáƒ§áƒáƒ¤áƒ¡ áƒ áƒ”áƒ¡áƒ£áƒ áƒ¡áƒ”áƒ‘áƒ˜áƒ¡ áƒ£áƒ¡áƒáƒ¤áƒ áƒ—áƒ®áƒ áƒ“áƒ áƒ™áƒáƒœáƒ¢áƒ áƒáƒšáƒ˜áƒ áƒ”áƒ‘áƒáƒ“ áƒ’áƒáƒ›áƒáƒ§áƒ”áƒœáƒ”áƒ‘áƒáƒ¡.
- **áƒáƒ“áƒ áƒ”áƒ£áƒšáƒ˜ áƒ˜áƒœáƒ˜áƒªáƒ˜áƒáƒšáƒ˜áƒ–áƒáƒªáƒ˜áƒ (`init_level: 15`):** áƒ áƒáƒ’áƒáƒ áƒª áƒ¤áƒ£áƒœáƒ“áƒáƒ›áƒ”áƒœáƒ¢áƒ£áƒ áƒ˜ áƒ“áƒ áƒáƒ˜áƒ•áƒ”áƒ áƒ˜, áƒ˜áƒ¡ áƒ˜áƒœáƒ˜áƒªáƒ˜áƒáƒšáƒ˜áƒ–áƒ“áƒ”áƒ‘áƒ áƒ¡áƒ˜áƒ¡áƒ¢áƒ”áƒ›áƒ˜áƒ¡ áƒ’áƒáƒ¨áƒ•áƒ”áƒ‘áƒ˜áƒ¡ áƒáƒ“áƒ áƒ”áƒ£áƒš áƒ”áƒ¢áƒáƒžáƒ–áƒ”, `i2c_bus` áƒ›áƒáƒ“áƒ£áƒšáƒ˜áƒ¡ (`init_level: 10`) áƒ¨áƒ”áƒ›áƒ“áƒ”áƒ’, áƒ áƒáƒ—áƒ áƒ›áƒ–áƒáƒ“ áƒ˜áƒ§áƒáƒ¡ áƒ›áƒáƒ¦áƒáƒšáƒ˜ áƒ“áƒáƒœáƒ˜áƒ¡ UI áƒ›áƒáƒ“áƒ£áƒšáƒ”áƒ‘áƒ˜áƒ¡ áƒ›áƒáƒ›áƒ¡áƒáƒ®áƒ£áƒ áƒ”áƒ‘áƒ˜áƒ¡áƒ—áƒ•áƒ˜áƒ¡.

## 3. âš™ï¸ áƒ™áƒáƒœáƒ¤áƒ˜áƒ’áƒ£áƒ áƒáƒªáƒ˜áƒ

áƒ›áƒáƒ“áƒ£áƒšáƒ˜ áƒ™áƒáƒœáƒ¤áƒ˜áƒ’áƒ£áƒ áƒ˜áƒ áƒ“áƒ”áƒ‘áƒ áƒ›áƒ˜áƒ¡áƒ˜ `config.json` áƒ¤áƒáƒ˜áƒšáƒ˜áƒ¡ áƒ¡áƒáƒ¨áƒ£áƒáƒšáƒ”áƒ‘áƒ˜áƒ—.

| áƒžáƒáƒ áƒáƒ›áƒ”áƒ¢áƒ áƒ˜ | áƒ¢áƒ˜áƒžáƒ˜ | áƒáƒ¦áƒ¬áƒ”áƒ áƒ | áƒ¡áƒáƒ•áƒáƒšáƒ“áƒ”áƒ‘áƒ£áƒšáƒ |
| :--- | :--- | :--- | :---: |
| `instance_name` | áƒ¡áƒ¢áƒ áƒ˜áƒ¥áƒáƒœáƒ˜ | áƒ“áƒ áƒáƒ˜áƒ•áƒ”áƒ áƒ˜áƒ¡ áƒáƒ› áƒ˜áƒœáƒ¡áƒ¢áƒáƒœáƒªáƒ˜áƒ˜áƒ¡ áƒ£áƒœáƒ˜áƒ™áƒáƒšáƒ£áƒ áƒ˜ áƒ¡áƒáƒ®áƒ”áƒšáƒ˜. | âœ… |
| `i2c_bus_service` | áƒ¡áƒ¢áƒ áƒ˜áƒ¥áƒáƒœáƒ˜ | áƒ˜áƒ› `i2c_bus` áƒ¡áƒ”áƒ áƒ•áƒ˜áƒ¡áƒ˜áƒ¡ `instance_name`, áƒ áƒáƒ›áƒ”áƒšáƒ–áƒ”áƒª áƒ”áƒ™áƒ áƒáƒœáƒ˜áƒ áƒ›áƒ˜áƒ”áƒ áƒ—áƒ”áƒ‘áƒ£áƒšáƒ˜. | âœ… |
| `i2c_addr` | áƒ¡áƒ¢áƒ áƒ˜áƒ¥áƒáƒœáƒ˜ | áƒ”áƒ™áƒ áƒáƒœáƒ˜áƒ¡ 7-áƒ‘áƒ˜áƒ¢áƒ˜áƒáƒœáƒ˜ I2C áƒ›áƒ˜áƒ¡áƒáƒ›áƒáƒ áƒ—áƒ˜ (áƒ°áƒ”áƒ¥áƒ¡áƒáƒ“áƒ”áƒªáƒ˜áƒ›áƒáƒšáƒ£áƒ áƒ˜ áƒ¤áƒáƒ áƒ›áƒáƒ¢áƒ˜áƒ—). | âœ… |
| `width` | áƒ áƒ˜áƒªáƒ®áƒ•áƒ˜ | áƒ”áƒ™áƒ áƒáƒœáƒ˜áƒ¡ áƒ¡áƒ˜áƒ’áƒáƒœáƒ” áƒžáƒ˜áƒ¥áƒ¡áƒ”áƒšáƒ”áƒ‘áƒ¨áƒ˜. | âŒ (Default: 128) |
| `height` | áƒ áƒ˜áƒªáƒ®áƒ•áƒ˜ | áƒ”áƒ™áƒ áƒáƒœáƒ˜áƒ¡ áƒ¡áƒ˜áƒ›áƒáƒ¦áƒšáƒ” áƒžáƒ˜áƒ¥áƒ¡áƒ”áƒšáƒ”áƒ‘áƒ¨áƒ˜. | âŒ (Default: 64) |
| `reset_pin` | áƒ áƒ˜áƒªáƒ®áƒ•áƒ˜ | RESET áƒžáƒ˜áƒœáƒ˜áƒ¡ GPIO áƒœáƒáƒ›áƒ”áƒ áƒ˜. áƒ—áƒ£ áƒáƒ  áƒ’áƒáƒ›áƒáƒ˜áƒ§áƒ”áƒœáƒ”áƒ‘áƒ, áƒ›áƒ˜áƒ£áƒ—áƒ˜áƒ—áƒ”áƒ— `-1`. | âŒ (Default: -1) |

## 4. ðŸ”Œ Service API

áƒ›áƒáƒ“áƒ£áƒšáƒ˜ áƒáƒ®áƒ“áƒ”áƒœáƒ¡ `display_driver_api_t` áƒ˜áƒœáƒ¢áƒ”áƒ áƒ¤áƒ”áƒ˜áƒ¡áƒ˜áƒ¡ áƒ˜áƒ›áƒžáƒšáƒ”áƒ›áƒ”áƒœáƒ¢áƒáƒªáƒ˜áƒáƒ¡. áƒ“áƒ”áƒ¢áƒáƒšáƒ£áƒ áƒ˜ áƒáƒ¦áƒ¬áƒ”áƒ áƒ˜áƒ¡áƒ—áƒ•áƒ˜áƒ¡ áƒ˜áƒ®áƒ˜áƒšáƒ”áƒ— `components/interfaces/include/display_driver_interface.h`.

**áƒ›áƒ®áƒáƒ áƒ“áƒáƒ­áƒ”áƒ áƒ˜áƒšáƒ˜ áƒ¤áƒ£áƒœáƒ¥áƒªáƒ˜áƒ”áƒ‘áƒ˜:**

- `get_info`
- `get_small_font_metrics`
- `draw_pixel`
- `fill_rect`
- `draw_formatted_text` (áƒ˜áƒ§áƒ”áƒœáƒ”áƒ‘áƒ¡ áƒ©áƒáƒ¨áƒ”áƒœáƒ”áƒ‘áƒ£áƒš, **6x8 áƒžáƒ˜áƒ¥áƒ¡áƒ”áƒšáƒ˜áƒ¡** áƒ–áƒáƒ›áƒ˜áƒ¡ áƒ¤áƒ˜áƒ¥áƒ¡áƒ˜áƒ áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒ¡áƒ˜áƒ’áƒáƒœáƒ˜áƒ¡ áƒ¤áƒáƒœáƒ¢áƒ¡)
- `update_screen`
- `clear`
- `set_power`
- `set_contrast`

**áƒáƒ áƒáƒ›áƒ®áƒáƒ áƒ“áƒáƒ­áƒ”áƒ áƒ˜áƒšáƒ˜ áƒ¤áƒ£áƒœáƒ¥áƒªáƒ˜áƒ”áƒ‘áƒ˜:**

- `set_rotation` (áƒáƒ‘áƒ áƒ£áƒœáƒ”áƒ‘áƒ¡ `ESP_ERR_NOT_SUPPORTED`)

## 5. ðŸ’¡ áƒ’áƒáƒ›áƒáƒ§áƒ”áƒœáƒ”áƒ‘áƒ˜áƒ¡ áƒ›áƒáƒ’áƒáƒšáƒ˜áƒ—áƒ˜

`ui_manager` áƒ›áƒáƒ“áƒ£áƒšáƒ˜ áƒ˜áƒ¦áƒ”áƒ‘áƒ¡ áƒáƒ› áƒ“áƒ áƒáƒ˜áƒ•áƒ”áƒ áƒ˜áƒ¡ áƒ¡áƒ”áƒ áƒ•áƒ˜áƒ¡áƒ¡ áƒ“áƒ áƒ˜áƒ§áƒ”áƒœáƒ”áƒ‘áƒ¡ áƒ›áƒáƒ¡ UI-áƒ¡ áƒ“áƒáƒ¡áƒáƒ®áƒáƒ¢áƒáƒ“.

```c
// In ui_manager.c

// 1. Get the service handle
display_driver_handle_t *display_handle = fmw_service_get("main_ssd1306_driver");
if (!display_handle) {
    ESP_LOGE(TAG, "Display driver not found!");
    return;
}

// 2. Use the API
const display_driver_api_t *display_api = display_handle->api;
void *context = display_handle->context;

display_api->clear(context);
display_api->draw_formatted_text(context, 10, 10, 1, "Hello, Synapse!");
display_api->fill_rect(context, 10, 20, 50, 10, 1);
display_api->update_screen(context);
```
