# ­Ъџђ `create_module.py`: Synapse рЃЏрЃЮрЃЊрЃБрЃџрЃўрЃА рЃњрЃћрЃюрЃћрЃарЃљрЃбрЃЮрЃарЃў (v3.1)

## 1. ­ЪЊІ рЃарЃљ рЃљрЃарЃўрЃА `create_module.py`?

`create_module.py` рЃљрЃарЃўрЃА **рЃЏрЃФрЃџрЃљрЃЋрЃарЃў, рЃўрЃюрЃбрЃћрЃарЃљрЃЦрЃбрЃўрЃБрЃџрЃў рЃАрЃЎрЃарЃўрЃърЃбрЃў**, рЃарЃЮрЃЏрЃћрЃџрЃўрЃф **рЃАрЃарЃБрЃџрЃљрЃЊ рЃљрЃЋрЃбрЃЮрЃЏрЃљрЃбрЃўрЃќрЃћрЃЉрЃБрЃџрЃљрЃЊ** рЃЦрЃЏрЃюрЃўрЃА рЃЏрЃЮрЃЊрЃБрЃџрЃўрЃА рЃЕрЃЮрЃюрЃЕрЃ«рЃА Synapse Framework-рЃўрЃАрЃЌрЃЋрЃўрЃА. рЃўрЃА рЃўрЃДрЃћрЃюрЃћрЃЉрЃА **рЃљрЃарЃЦрЃћрЃбрЃўрЃърЃћрЃЉрЃќрЃћ рЃЊрЃљрЃцрЃБрЃФрЃюрЃћрЃЉрЃБрЃџ рЃЏрЃўрЃЊрЃњрЃЮрЃЏрЃљрЃА**, рЃарЃљрЃЌрЃљ рЃЊрЃљрЃљрЃњрЃћрЃюрЃћрЃарЃўрЃарЃЮрЃА рЃљрЃарЃљ рЃБрЃЉрЃарЃљрЃџрЃЮрЃЊ рЃфрЃљрЃарЃўрЃћрЃџрЃў рЃцрЃљрЃўрЃџрЃћрЃЉрЃў, рЃљрЃарЃљрЃЏрЃћрЃЊ рЃЎрЃЮрЃюрЃЎрЃарЃћрЃбрЃБрЃџрЃў рЃљрЃЏрЃЮрЃфрЃљрЃюрЃўрЃАрЃЌрЃЋрЃўрЃА рЃњрЃљрЃЏрЃќрЃљрЃЊрЃћрЃЉрЃБрЃџрЃў, рЃАрЃљрЃБрЃЎрЃћрЃЌрЃћрЃАрЃЮ рЃърЃарЃљрЃЦрЃбрЃўрЃЎрЃћрЃЉрЃќрЃћ рЃЊрЃљрЃцрЃБрЃФрЃюрЃћрЃЉрЃБрЃџрЃў рЃЎрЃЮрЃЊрЃўрЃА рЃерЃљрЃЉрЃџрЃЮрЃюрЃћрЃЉрЃў, рЃарЃЮрЃЏрЃџрЃћрЃЉрЃўрЃф рЃБрЃЎрЃЋрЃћ рЃЊрЃљрЃюрЃљрЃгрЃћрЃЋрЃарЃћрЃЉрЃБрЃџрЃўрЃљ рЃџрЃЮрЃњрЃўрЃЎрЃБрЃа рЃцрЃљрЃўрЃџрЃћрЃЉрЃљрЃЊ.

рЃћрЃА рЃўрЃюрЃАрЃбрЃарЃБрЃЏрЃћрЃюрЃбрЃў рЃЊрЃћрЃЋрЃћрЃџрЃЮрЃърЃЏрЃћрЃюрЃбрЃўрЃА рЃърЃарЃЮрЃфрЃћрЃАрЃА **рЃљрЃЕрЃЦрЃљрЃарЃћрЃЉрЃА**, **рЃљрЃЏрЃфрЃўрЃарЃћрЃЉрЃА рЃерЃћрЃфрЃЊрЃЮрЃЏрЃћрЃЉрЃўрЃА рЃарЃўрЃАрЃЎрЃА** рЃЊрЃљ рЃБрЃќрЃарЃБрЃюрЃЋрЃћрЃџрЃДрЃЮрЃцрЃА, рЃарЃЮрЃЏ рЃДрЃЋрЃћрЃџрЃљ рЃљрЃ«рЃљрЃџрЃў рЃЏрЃЮрЃЊрЃБрЃџрЃў рЃЌрЃљрЃЋрЃўрЃЊрЃљрЃюрЃЋрЃћ рЃАрЃарЃБрЃџрЃљрЃЊ рЃерЃћрЃћрЃАрЃљрЃЉрЃљрЃЏрЃћрЃЉрЃљ рЃцрЃарЃћрЃўрЃЏрЃЋрЃЮрЃарЃЦрЃўрЃА рЃљрЃарЃЦрЃўрЃбрЃћрЃЦрЃбрЃБрЃарЃљрЃАрЃљ рЃЊрЃљ рЃБрЃљрЃ«рЃџрЃћрЃА рЃЎрЃЮрЃюрЃЋрЃћрЃюрЃфрЃўрЃћрЃЉрЃА.

## 2. ­Ъј» рЃарЃљрЃА рЃљрЃЎрЃћрЃЌрЃћрЃЉрЃА?

### РюЁ рЃњрЃћрЃюрЃћрЃарЃўрЃарЃћрЃЉрЃБрЃџрЃў рЃцрЃљрЃўрЃџрЃћрЃЉрЃў (10+ рЃцрЃљрЃўрЃџрЃў)

рЃАрЃЎрЃарЃўрЃърЃбрЃў рЃљрЃњрЃћрЃюрЃћрЃарЃўрЃарЃћрЃЉрЃА рЃЏрЃЮрЃЊрЃБрЃџрЃўрЃА рЃАрЃарЃБрЃџ рЃцрЃљрЃўрЃџрЃБрЃа рЃАрЃбрЃарЃБрЃЦрЃбрЃБрЃарЃљрЃА, рЃљрЃарЃЦрЃћрЃбрЃўрЃърЃўрЃА рЃЏрЃўрЃ«рЃћрЃЊрЃЋрЃўрЃЌ:

1. **`module.json`**: рЃЏрЃЮрЃЊрЃБрЃџрЃўрЃА рЃЏрЃћрЃбрЃљрЃЏрЃЮрЃюрЃљрЃфрЃћрЃЏрЃћрЃЉрЃў (`name`, `init_function`, `init_level` рЃЊрЃљ рЃљ.рЃе.).
2. **`config.json`**: рЃЏрЃЮрЃЊрЃБрЃџрЃўрЃА default runtime рЃЎрЃЮрЃюрЃцрЃўрЃњрЃБрЃарЃљрЃфрЃўрЃўрЃА рЃерЃљрЃЉрЃџрЃЮрЃюрЃў.
3. **`CMakeLists.txt`**: "рЃГрЃЎрЃЋрЃўрЃљрЃюрЃў", рЃърЃўрЃарЃЮрЃЉрЃўрЃЌрЃў рЃЎрЃЮрЃЏрЃърЃўрЃџрЃљрЃфрЃўрЃўрЃА рЃЏрЃЦрЃЮрЃюрЃћ build-рЃАрЃЎрЃарЃўрЃърЃбрЃў.
4. **`Kconfig`**: рЃЏрЃЮрЃЊрЃБрЃџрЃўрЃА рЃЕрЃљрЃарЃЌрЃЋрЃљ/рЃњрЃљрЃЏрЃЮрЃарЃЌрЃЋрЃўрЃА рЃЊрЃљ build-рЃЊрЃарЃЮрЃўрЃА рЃърЃљрЃарЃљрЃЏрЃћрЃбрЃарЃћрЃЉрЃў `menuconfig`-рЃўрЃАрЃЌрЃЋрЃўрЃА.
5. **`README.md`**: рЃЊрЃЮрЃЎрЃБрЃЏрЃћрЃюрЃбрЃљрЃфрЃўрЃўрЃА рЃерЃљрЃЉрЃџрЃЮрЃюрЃў, рЃарЃЮрЃЏрЃћрЃџрЃўрЃф рЃЏрЃЮрЃарЃњрЃћрЃЉрЃБрЃџрЃўрЃљ рЃљрЃарЃЕрЃћрЃБрЃџ рЃљрЃарЃЦрЃћрЃбрЃўрЃърЃќрЃћ.
6. **`include/{module_name}.h`**: рЃАрЃљрЃ»рЃљрЃарЃЮ рЃ░рЃћрЃЊрЃћрЃарЃў, рЃарЃЮрЃЏрЃћрЃџрЃўрЃф рЃерЃћрЃўрЃфрЃљрЃЋрЃА рЃЏрЃ«рЃЮрЃџрЃЮрЃЊ `_create` factory рЃцрЃБрЃюрЃЦрЃфрЃўрЃљрЃА.
7. **`src/{module_name}_internal.h`**: **(рЃљрЃ«рЃљрЃџрЃў!)** рЃЏрЃЮрЃЊрЃБрЃџрЃўрЃА рЃърЃарЃўрЃЋрЃљрЃбрЃБрЃџрЃў рЃ░рЃћрЃЊрЃћрЃарЃў, рЃарЃЮрЃЏрЃћрЃџрЃўрЃф рЃљрЃќрЃўрЃљрЃарЃћрЃЉрЃА рЃбрЃўрЃърЃћрЃЉрЃАрЃљ рЃЊрЃљ рЃцрЃБрЃюрЃЦрЃфрЃўрЃћрЃЉрЃА рЃЏрЃЮрЃЊрЃБрЃџрЃўрЃА рЃерЃўрЃЊрЃљ `.c` рЃцрЃљрЃўрЃџрЃћрЃЉрЃА рЃерЃЮрЃарЃўрЃА.
8. **`src/{module_name}.c`**: рЃЏрЃЌрЃљрЃЋрЃљрЃарЃў "рЃЊрЃўрЃарЃўрЃЪрЃЮрЃарЃў" рЃцрЃљрЃўрЃџрЃў, рЃарЃЮрЃЏрЃћрЃџрЃўрЃф рЃърЃљрЃАрЃБрЃ«рЃўрЃАрЃЏрЃњрЃћрЃЉрЃћрЃџрЃўрЃљ рЃЏрЃЮрЃЊрЃБрЃџрЃўрЃА рЃАрЃўрЃфрЃЮрЃфрЃ«рЃџрЃўрЃА рЃфрЃўрЃЎрЃџрЃќрЃћ.
9. **`src/{module_name}_api.c`**: (рЃљрЃарЃљрЃАрЃљрЃЋрЃљрЃџрЃЊрЃћрЃЉрЃБрЃџрЃЮ) рЃњрЃћрЃюрЃћрЃарЃўрЃарЃЊрЃћрЃЉрЃљ `Service Provider` рЃљрЃарЃЦрЃћрЃбрЃўрЃърЃћрЃЉрЃўрЃАрЃЌрЃЋрЃўрЃА.
10. **`src/{module_name}_cmd.c`**: (рЃљрЃарЃљрЃАрЃљрЃЋрЃљрЃџрЃЊрЃћрЃЉрЃБрЃџрЃЮ) рЃњрЃћрЃюрЃћрЃарЃўрЃарЃЊрЃћрЃЉрЃљ `Command Handler` рЃљрЃарЃЦрЃћрЃбрЃўрЃърЃћрЃЉрЃўрЃАрЃЌрЃЋрЃўрЃА.
11. **`src/{module_name}_events.c`**: (рЃљрЃарЃљрЃАрЃљрЃЋрЃљрЃџрЃЊрЃћрЃЉрЃБрЃџрЃЮ) рЃњрЃћрЃюрЃћрЃарЃўрЃарЃЊрЃћрЃЉрЃљ рЃўрЃЋрЃћрЃюрЃЌрЃћрЃЉрЃўрЃА рЃЊрЃљрЃЏрЃБрЃерЃљрЃЋрЃћрЃЉрЃўрЃА рЃџрЃЮрЃњрЃўрЃЎрЃўрЃАрЃЌрЃЋрЃўрЃА.

### РюЁ рЃљрЃЋрЃбрЃЮрЃЏрЃљрЃбрЃБрЃарЃў рЃўрЃюрЃбрЃћрЃњрЃарЃљрЃфрЃўрЃљ

- ­ЪћД **Build рЃАрЃўрЃАрЃбрЃћрЃЏрЃўрЃА рЃЏрЃўрЃћрЃа рЃљрЃдрЃЏрЃЮрЃЕрЃћрЃюрЃљ**: `idf.py menuconfig`-рЃўрЃА рЃњрЃљрЃерЃЋрЃћрЃЉрЃўрЃАрЃљрЃА, build-рЃАрЃўрЃАрЃбрЃћрЃЏрЃљ рЃљрЃЋрЃбрЃЮрЃЏрЃљрЃбрЃБрЃарЃљрЃЊ рЃърЃЮрЃБрЃџрЃЮрЃЉрЃА рЃљрЃ«рЃљрЃџ рЃЏрЃЮрЃЊрЃБрЃџрЃА рЃЊрЃљ рЃљрЃЏрЃљрЃбрЃћрЃЉрЃА рЃЏрЃўрЃА `Kconfig` рЃцрЃљрЃўрЃџрЃА рЃЎрЃЮрЃюрЃцрЃўрЃњрЃБрЃарЃљрЃфрЃўрЃўрЃА рЃЏрЃћрЃюрЃўрЃБрЃерЃў.
- ­ЪћД **рЃърЃўрЃарЃЮрЃЉрЃўрЃЌрЃў рЃЎрЃЮрЃЏрЃърЃўрЃџрЃљрЃфрЃўрЃљ**: рЃЎрЃЮрЃЊрЃў рЃЎрЃЮрЃЏрЃърЃўрЃџрЃўрЃарЃЊрЃћрЃЉрЃљ рЃЏрЃ«рЃЮрЃџрЃЮрЃЊ рЃўрЃЏ рЃерЃћрЃЏрЃЌрЃ«рЃЋрЃћрЃЋрЃљрЃерЃў, рЃЌрЃБ рЃЏрЃЮрЃЊрЃБрЃџрЃў рЃЕрЃљрЃарЃЌрЃБрЃџрЃўрЃљ `menuconfig`-рЃерЃў, рЃарЃљрЃф рЃБрЃќрЃарЃБрЃюрЃЋрЃћрЃџрЃДрЃЮрЃцрЃА firmware-рЃўрЃА рЃЏрЃўрЃюрЃўрЃЏрЃљрЃџрЃБрЃа рЃќрЃЮрЃЏрЃљрЃА.

## 3. ­ЪЏа№ИЈ рЃњрЃљрЃЏрЃЮрЃДрЃћрЃюрЃћрЃЉрЃўрЃА рЃарЃћрЃЪрЃўрЃЏрЃћрЃЉрЃў

рЃАрЃЎрЃарЃўрЃърЃбрЃА рЃљрЃЦрЃЋрЃА рЃЮрЃарЃў рЃФрЃўрЃарЃўрЃЌрЃљрЃЊрЃў рЃњрЃљрЃЏрЃЮрЃДрЃћрЃюрЃћрЃЉрЃўрЃА рЃарЃћрЃЪрЃўрЃЏрЃў: **рЃўрЃюрЃбрЃћрЃарЃљрЃЦрЃбрЃўрЃБрЃџрЃў** рЃЊрЃљ **рЃЉрЃарЃФрЃљрЃюрЃћрЃЉрЃўрЃА рЃ«рЃљрЃќрЃўрЃА**.

### 3.1. рЃўрЃюрЃбрЃћрЃарЃљрЃЦрЃбрЃўрЃБрЃџрЃў рЃарЃћрЃЪрЃўрЃЏрЃў (рЃарЃћрЃЎрЃЮрЃЏрЃћрЃюрЃЊрЃћрЃЉрЃБрЃџрЃў)

рЃћрЃА рЃљрЃарЃўрЃА рЃДрЃЋрЃћрЃџрЃљрЃќрЃћ рЃЏрЃљрЃарЃбрЃўрЃЋрЃў рЃЊрЃљ рЃБрЃАрЃљрЃцрЃарЃЌрЃ«рЃЮ рЃњрЃќрЃљ. рЃњрЃљрЃБрЃерЃЋрЃўрЃЌ рЃАрЃЎрЃарЃўрЃърЃбрЃў рЃљрЃарЃњрЃБрЃЏрЃћрЃюрЃбрЃћрЃЉрЃўрЃА рЃњрЃљрЃарЃћрЃерЃћ рЃЊрЃљ рЃЏрЃўрЃ░рЃДрЃћрЃЋрЃўрЃЌ рЃўрЃюрЃАрЃбрЃарЃБрЃЦрЃфрЃўрЃћрЃЉрЃА.

```bash
python3 scripts/create_module.py
```

### 3.2. рЃЉрЃарЃФрЃљрЃюрЃћрЃЉрЃўрЃА рЃ«рЃљрЃќрЃўрЃА рЃарЃћрЃЪрЃўрЃЏрЃў (рЃљрЃЋрЃбрЃЮрЃЏрЃљрЃбрЃўрЃќрЃљрЃфрЃўрЃўрЃАрЃЌрЃЋрЃўрЃА)

рЃћрЃА рЃарЃћрЃЪрЃўрЃЏрЃў рЃАрЃљрЃАрЃљрЃарЃњрЃћрЃЉрЃџрЃЮрЃљ рЃАрЃЎрЃарЃўрЃърЃбрЃћрЃЉрЃўрЃА рЃгрЃћрЃарЃўрЃАрЃљрЃА рЃљрЃю рЃАрЃгрЃарЃљрЃцрЃў рЃњрЃћрЃюрЃћрЃарЃљрЃфрЃўрЃўрЃАрЃЌрЃЋрЃўрЃА.

```bash
python3 scripts/create_module.py "OTA Updater" -c system -a service_provider -d "Handles Over-the-Air updates" --init_level 50 --deps "esp_http_client,esp_https_ota"
```

## 4. ­ЪЈЏ№ИЈ рЃљрЃарЃЦрЃћрЃбрЃўрЃърЃћрЃЉрЃў (Archetypes)

рЃљрЃарЃЦрЃћрЃбрЃўрЃърЃў рЃњрЃљрЃюрЃАрЃљрЃќрЃдрЃЋрЃарЃљрЃЋрЃА, рЃЌрЃБ рЃарЃљ рЃбрЃўрЃърЃўрЃА рЃЎрЃЮрЃЊрЃўрЃА рЃерЃљрЃЉрЃџрЃЮрЃюрЃў рЃЊрЃљ рЃарЃЮрЃЏрЃћрЃџрЃў `.c` рЃцрЃљрЃўрЃџрЃћрЃЉрЃў рЃЊрЃљрЃњрЃћрЃюрЃћрЃарЃўрЃарЃЊрЃћрЃЉрЃљ.

| рЃљрЃарЃЕрЃћрЃЋрЃљрЃюрЃў | рЃљрЃарЃЦрЃћрЃбрЃўрЃърЃў | рЃљрЃдрЃгрЃћрЃарЃљ | рЃњрЃћрЃюрЃћрЃарЃўрЃарЃћрЃЉрЃБрЃџрЃў `.c` рЃцрЃљрЃўрЃџрЃћрЃЉрЃў |
| :--- | :--- | :--- | :--- |
| `[0]` | **Basic** | рЃЏрЃўрЃюрЃўрЃЏрЃљрЃџрЃБрЃарЃў рЃерЃљрЃЉрЃџрЃЮрЃюрЃў | `_internal.h`, `.c` |
| `[1]` | **Event Producer** | рЃљрЃњрЃќрЃљрЃЋрЃюрЃўрЃА рЃўрЃЋрЃћрЃюрЃЌрЃћрЃЉрЃА (рЃЏрЃљрЃњ., рЃАрЃћрЃюрЃАрЃЮрЃарЃў) | `_internal.h`, `.c`, `_events.c` |
| `[2]` | **Service Provider** | рЃљрЃгрЃЋрЃЊрЃўрЃА API-рЃА (рЃЏрЃљрЃњ., рЃЊрЃарЃљрЃўрЃЋрЃћрЃарЃў) | `_internal.h`, `.c`, `_api.c` |
| `[3]` | **Command Handler** | рЃљрЃЏрЃБрЃерЃљрЃЋрЃћрЃЉрЃА CLI рЃЉрЃарЃФрЃљрЃюрЃћрЃЉрЃћрЃЉрЃА | `_internal.h`, `.c`, `_cmd.c`, `_events.c` |
| `[4]` | **Event & Service** | рЃ░рЃўрЃЉрЃарЃўрЃЊрЃБрЃџрЃў | `_internal.h`, `.c`, `_api.c`, `_events.c` |
| `[5]` | **Event & Command** | рЃ░рЃўрЃЉрЃарЃўрЃЊрЃБрЃџрЃў | `_internal.h`, `.c`, `_cmd.c`, `_events.c` |
| `[6]` | **Service & Command** | рЃ░рЃўрЃЉрЃарЃўрЃЊрЃБрЃџрЃў | `_internal.h`, `.c`, `_api.c`, `_cmd.c`, `_events.c` |

## 5. ­Ъћё рЃАрЃарЃБрЃџрЃў рЃАрЃљрЃЏрЃБрЃерЃљрЃЮ рЃърЃарЃЮрЃфрЃћрЃАрЃў (Workflow)

1. **рЃЏрЃЮрЃЊрЃБрЃџрЃўрЃА рЃњрЃћрЃюрЃћрЃарЃљрЃфрЃўрЃљ:**

    ```bash
    python3 scripts/create_module.py
    ```

    *рЃЏрЃўрЃ░рЃДрЃћрЃЋрЃўрЃЌ рЃўрЃюрЃбрЃћрЃарЃљрЃЦрЃбрЃўрЃБрЃџ рЃЏрЃћрЃюрЃўрЃБрЃА рЃЊрЃљ рЃљрЃўрЃарЃЕрЃўрЃћрЃЌ рЃЌрЃЦрЃЋрЃћрЃюрЃў рЃЏрЃЮрЃЊрЃБрЃџрЃўрЃАрЃЌрЃЋрЃўрЃА рЃерЃћрЃАрЃљрЃЉрЃљрЃЏрЃўрЃАрЃў рЃърЃљрЃарЃљрЃЏрЃћрЃбрЃарЃћрЃЉрЃў.*

2. **рЃЎрЃЮрЃюрЃцрЃўрЃњрЃБрЃарЃљрЃфрЃўрЃљ (`menuconfig`):**

    ```bash
    idf.py menuconfig
    ```

    *рЃњрЃљрЃЊрЃљрЃЊрЃўрЃЌ `Component config` -> `Synapse Framework` -> `Modules` рЃЊрЃљ рЃЊрЃљрЃарЃгрЃЏрЃБрЃюрЃЊрЃўрЃЌ, рЃарЃЮрЃЏ рЃЌрЃЦрЃЋрЃћрЃюрЃў рЃљрЃ«рЃљрЃџрЃў рЃЏрЃЮрЃЊрЃБрЃџрЃў рЃЕрЃљрЃарЃЌрЃБрЃџрЃўрЃљ (`[*]`).*

3. **Runtime рЃЎрЃЮрЃюрЃцрЃўрЃњрЃБрЃарЃљрЃфрЃўрЃљ:**
    - рЃњрЃљрЃ«рЃАрЃћрЃюрЃўрЃЌ рЃљрЃ«рЃџрЃљрЃЊ рЃЊрЃљрЃњрЃћрЃюрЃћрЃарЃўрЃарЃћрЃЉрЃБрЃџрЃў `config.json` рЃцрЃљрЃўрЃџрЃў.
    - рЃерЃћрЃљрЃЋрЃАрЃћрЃЌ рЃўрЃА рЃЌрЃЦрЃЋрЃћрЃюрЃў рЃљрЃърЃџрЃўрЃЎрЃљрЃфрЃўрЃўрЃАрЃЌрЃЋрЃўрЃА рЃАрЃљрЃГрЃўрЃарЃЮ рЃърЃљрЃарЃљрЃЏрЃћрЃбрЃарЃћрЃЉрЃўрЃЌ (рЃЏрЃљрЃњ., `instance_name`, `pin` рЃЊрЃљ рЃљ.рЃе.).

4. **(рЃЏрЃ«рЃЮрЃџрЃЮрЃЊ Service Provider-рЃўрЃАрЃЌрЃЋрЃўрЃА) рЃўрЃюрЃбрЃћрЃарЃцрЃћрЃўрЃАрЃўрЃА рЃерЃћрЃЦрЃЏрЃюрЃљ:**
    - рЃЌрЃБ рЃљрЃўрЃарЃЕрЃўрЃћрЃЌ рЃљрЃарЃЦрЃћрЃбрЃўрЃърЃў, рЃарЃЮрЃЏрЃћрЃџрЃўрЃф API-рЃА рЃљрЃгрЃЋрЃЊрЃўрЃА, рЃерЃћрЃЦрЃЏрЃћрЃюрЃўрЃЌ рЃерЃћрЃАрЃљрЃЉрЃљрЃЏрЃўрЃАрЃў `_interface.h` рЃцрЃљрЃўрЃџрЃў `components/interfaces/include/` рЃЊрЃўрЃарЃћрЃЦрЃбрЃЮрЃарЃўрЃљрЃерЃў.

5. **рЃърЃарЃЮрЃћрЃЦрЃбрЃўрЃА рЃљрЃњрЃћрЃЉрЃљ:**

    ```bash
    idf.py build
    ```

    *рЃЊрЃљрЃарЃгрЃЏрЃБрЃюрЃЊрЃўрЃЌ, рЃарЃЮрЃЏ рЃърЃарЃЮрЃћрЃЦрЃбрЃў рЃБрЃерЃћрЃфрЃЊрЃЮрЃЏрЃЮрЃЊ рЃўрЃгрЃДрЃЮрЃЉрЃљ.*

6. **рЃЎрЃЮрЃЊрЃўрЃА рЃерЃћрЃЋрЃАрЃћрЃЉрЃљ:**
    - рЃњрЃљрЃ«рЃАрЃћрЃюрЃўрЃЌ рЃњрЃћрЃюрЃћрЃарЃўрЃарЃћрЃЉрЃБрЃџрЃў `.c` рЃЊрЃљ `.h` рЃцрЃљрЃўрЃџрЃћрЃЉрЃў.
    - рЃерЃћрЃљрЃЋрЃАрЃћрЃЌ `TODO` рЃЎрЃЮрЃЏрЃћрЃюрЃбрЃљрЃарЃћрЃЉрЃўрЃЌ рЃЏрЃЮрЃюрЃўрЃерЃюрЃБрЃџрЃў рЃљрЃЊрЃњрЃўрЃџрЃћрЃЉрЃў рЃЌрЃЦрЃЋрЃћрЃюрЃў рЃЎрЃЮрЃюрЃЎрЃарЃћрЃбрЃБрЃџрЃў рЃџрЃЮрЃњрЃўрЃЎрЃўрЃЌ.

## 6. ­Ъџе рЃЏрЃюрЃўрЃерЃЋрЃюрЃћрЃџрЃЮрЃЋрЃљрЃюрЃў рЃерЃћрЃюрЃўрЃерЃЋрЃюрЃћрЃЉрЃў

- **рЃЎрЃЮрЃюрЃЋрЃћрЃюрЃфрЃўрЃћрЃЉрЃў:** рЃњрЃћрЃюрЃћрЃарЃўрЃарЃћрЃЉрЃБрЃџрЃў рЃЎрЃЮрЃЊрЃў рЃАрЃарЃБрЃџрЃљрЃЊ рЃўрЃфрЃљрЃЋрЃА рЃцрЃарЃћрЃўрЃЏрЃЋрЃЮрЃарЃЦрЃўрЃА рЃЊрЃљрЃАрЃљрЃ«рЃћрЃџрЃћрЃЉрЃўрЃА, рЃАрЃбрЃарЃБрЃЦрЃбрЃБрЃарЃўрЃА рЃЊрЃљ рЃЊрЃЮрЃЎрЃБрЃЏрЃћрЃюрЃбрЃўрЃарЃћрЃЉрЃўрЃА рЃЎрЃЮрЃюрЃЋрЃћрЃюрЃфрЃўрЃћрЃЉрЃА.
- **рЃЏрЃћрЃ«рЃАрЃўрЃћрЃарЃћрЃЉрЃўрЃА рЃЏрЃљрЃарЃЌрЃЋрЃљ:** рЃњрЃћрЃюрЃћрЃарЃўрЃарЃћрЃЉрЃБрЃџрЃў `_create` рЃЊрЃљ `_deinit` рЃцрЃБрЃюрЃЦрЃфрЃўрЃћрЃЉрЃў рЃБрЃЎрЃЋрЃћ рЃерЃћрЃўрЃфрЃљрЃЋрЃА рЃЎрЃЮрЃюрЃцрЃўрЃњрЃБрЃарЃљрЃфрЃўрЃўрЃА рЃЮрЃЉрЃўрЃћрЃЦрЃбрЃўрЃА (`module->current_config`) рЃЏрЃцрЃџрЃЮрЃЉрЃћрЃџрЃЮрЃЉрЃўрЃА рЃљрЃдрЃћрЃЉрЃўрЃА рЃЊрЃљ рЃњрЃљрЃЌрЃљрЃЋрЃўрЃАрЃБрЃцрЃџрЃћрЃЉрЃўрЃА рЃАрЃгрЃЮрЃа рЃџрЃЮрЃњрЃўрЃЎрЃљрЃА.
- **`Hardcode`-рЃўрЃА рЃљрЃарЃўрЃЊрЃћрЃЉрЃљ:** `Command Handler` рЃљрЃарЃЦрЃћрЃбрЃўрЃърЃў рЃљрЃЋрЃбрЃЮрЃЏрЃљрЃбрЃБрЃарЃљрЃЊ рЃўрЃДрЃћрЃюрЃћрЃЉрЃА `synapse_service_lookup_by_type`-рЃА, рЃарЃљрЃЌрЃљ рЃЌрЃљрЃЋрЃўрЃЊрЃљрЃю рЃљрЃўрЃфрЃўрЃџрЃЮрЃА `hardcoded` рЃЊрЃљрЃЏрЃЮрЃЎрЃўрЃЊрЃћрЃЉрЃБрЃџрЃћрЃЉрЃљ `command_router`-рЃўрЃА рЃАрЃљрЃ«рЃћрЃџрЃќрЃћ.

---

## ­Ъј» рЃерЃћрЃ»рЃљрЃЏрЃћрЃЉрЃљ

**`create_module.py`** рЃљрЃарЃўрЃА **рЃАрЃгрЃарЃљрЃцрЃў, рЃБрЃАрЃљрЃцрЃарЃЌрЃ«рЃЮ рЃЊрЃљ "рЃГрЃЎрЃЋрЃўрЃљрЃюрЃў"** рЃњрЃќрЃљ Synapse Framework-рЃўрЃА рЃЏрЃЮрЃЊрЃБрЃџрЃћрЃЉрЃўрЃА рЃерЃћрЃАрЃљрЃЦрЃЏрЃюрЃћрЃџрЃљрЃЊ. рЃўрЃА:

РюЁ **рЃљрЃЕрЃЦрЃљрЃарЃћрЃЉрЃА рЃЊрЃћрЃЋрЃћрЃџрЃЮрЃърЃЏрЃћрЃюрЃбрЃА** рЃарЃљрЃЊрЃўрЃЎрЃљрЃџрЃБрЃарЃљрЃЊ.
РюЁ **рЃњрЃљрЃЏрЃЮрЃарЃўрЃфрЃ«рЃљрЃЋрЃА рЃерЃћрЃфрЃЊрЃЮрЃЏрЃћрЃЉрЃА**, рЃарЃЮрЃЏрЃџрЃћрЃЉрЃўрЃф рЃњрЃљрЃЏрЃЮрЃгрЃЋрЃћрЃБрЃџрЃўрЃљ рЃљрЃарЃЦрЃўрЃбрЃћрЃЦрЃбрЃБрЃарЃўрЃА рЃљрЃарЃфрЃЮрЃЊрЃюрЃўрЃЌ.
РюЁ **рЃБрЃќрЃарЃБрЃюрЃЋрЃћрЃџрЃДрЃЮрЃцрЃА рЃЎрЃЮрЃюрЃАрЃўрЃАрЃбрЃћрЃюрЃбрЃБрЃарЃЮрЃЉрЃљрЃА** рЃДрЃЋрЃћрЃџрЃљ рЃЏрЃЮрЃЊрЃБрЃџрЃА рЃерЃЮрЃарЃўрЃА.

**рЃњрЃљрЃЏрЃЮрЃўрЃДрЃћрЃюрЃћрЃЌ рЃўрЃА рЃДрЃЮрЃЋрЃћрЃџрЃЌрЃЋрЃўрЃА**, рЃарЃЮрЃЊрЃћрЃАрЃљрЃф рЃўрЃгрЃДрЃћрЃЉрЃЌ рЃљрЃ«рЃљрЃџ рЃЏрЃЮрЃЊрЃБрЃџрЃќрЃћ рЃЏрЃБрЃерЃљрЃЮрЃЉрЃљрЃА! ­Ъџђ
