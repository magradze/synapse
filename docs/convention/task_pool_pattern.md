# рЃарЃћрЃАрЃБрЃарЃАрЃћрЃЉрЃўрЃА рЃЮрЃърЃбрЃўрЃЏрЃўрЃќрЃљрЃфрЃўрЃўрЃА рЃърЃљрЃбрЃћрЃарЃюрЃў (Shared Task Pool)

**рЃАрЃбрЃљрЃбрЃБрЃАрЃў:** рЃАрЃљрЃБрЃЎрЃћрЃЌрЃћрЃАрЃЮ рЃърЃарЃљрЃЦрЃбрЃўрЃЎрЃљ (Best Practice)
**рЃљрЃЋрЃбрЃЮрЃарЃў:** Synapse Framework Team

## 1. ­Ъј» рЃЏрЃўрЃќрЃљрЃюрЃў

рЃћрЃА рЃЊрЃЮрЃЎрЃБрЃЏрЃћрЃюрЃбрЃў рЃљрЃдрЃгрЃћрЃарЃА Synapse Framework-рЃерЃў **рЃарЃћрЃАрЃБрЃарЃАрЃћрЃЉрЃўрЃА рЃЮрЃърЃбрЃўрЃЏрЃўрЃќрЃљрЃфрЃўрЃўрЃА** рЃАрЃбрЃљрЃюрЃЊрЃљрЃарЃбрЃБрЃџ рЃърЃљрЃбрЃћрЃарЃюрЃА, рЃарЃЮрЃЏрЃћрЃџрЃўрЃф рЃЊрЃљрЃцрЃБрЃФрЃюрЃћрЃЉрЃБрЃџрЃўрЃљ **`Task Pool Manager`** (рЃњрЃљрЃќрЃўрЃљрЃарЃћрЃЉрЃБрЃџрЃў рЃбрЃљрЃАрЃЎрЃћрЃЉрЃўрЃА рЃЏрЃћрЃюрЃћрЃ»рЃћрЃарЃў) рЃАрЃћрЃарЃЋрЃўрЃАрЃўрЃА рЃњрЃљрЃЏрЃЮрЃДрЃћрЃюрЃћрЃЉрЃљрЃќрЃћ. рЃљрЃЏ рЃърЃљрЃбрЃћрЃарЃюрЃўрЃА рЃЏрЃўрЃќрЃљрЃюрЃўрЃљ, рЃарЃљрЃЊрЃўрЃЎрЃљрЃџрЃБрЃарЃљрЃЊ рЃерЃћрЃљрЃЏрЃфрЃўрЃарЃЮрЃА рЃАрЃўрЃАрЃбрЃћрЃЏрЃўрЃА рЃЏрЃўрЃћрЃа рЃЏрЃЮрЃ«рЃЏрЃљрЃарЃћрЃЉрЃБрЃџрЃў рЃЮрЃърЃћрЃарЃљрЃбрЃўрЃБрЃџрЃў рЃЏрЃћрЃ«рЃАрЃўрЃћрЃарЃћрЃЉрЃљ (RAM) рЃЊрЃљ рЃњрЃљрЃљрЃБрЃЏрЃ»рЃЮрЃЉрЃћрЃАрЃЮрЃА рЃАрЃљрЃћрЃарЃЌрЃЮ рЃгрЃљрЃарЃЏрЃљрЃЊрЃЮрЃЉрЃљ.

рЃћрЃА рЃЎрЃЮрЃюрЃЋрЃћрЃюрЃфрЃўрЃљ рЃњрЃљрЃюрЃАрЃљрЃЎрЃБрЃЌрЃарЃћрЃЉрЃўрЃЌ рЃЏрЃюрЃўрЃерЃЋрЃюрЃћрЃџрЃЮрЃЋрЃљрЃюрЃўрЃљ рЃўрЃЏ рЃЏрЃЮрЃЊрЃБрЃџрЃћрЃЉрЃўрЃАрЃЌрЃЋрЃўрЃА, рЃарЃЮрЃЏрЃџрЃћрЃЉрЃўрЃф рЃљрЃАрЃарЃБрЃџрЃћрЃЉрЃћрЃю **рЃЏрЃфрЃўрЃарЃћ, рЃърЃћрЃарЃўрЃЮрЃЊрЃБрЃџ, рЃљрЃарЃљрЃЉрЃџрЃЮрЃЎрЃўрЃарЃћрЃЉрЃљрЃЊ** рЃАрЃљрЃЏрЃБрЃерЃљрЃЮрЃА.

## 2. ­Ъцћ рЃърЃарЃЮрЃЉрЃџрЃћрЃЏрЃљ: "рЃћрЃарЃЌрЃў рЃЏрЃЮрЃЊрЃБрЃџрЃў = рЃћрЃарЃЌрЃў рЃбрЃљрЃАрЃЎрЃў" рЃљрЃюрЃбрЃў-рЃърЃљрЃбрЃћрЃарЃюрЃў

рЃЕрЃљрЃерЃћрЃюрЃћрЃЉрЃБрЃџ рЃАрЃўрЃАрЃбрЃћрЃЏрЃћрЃЉрЃерЃў, рЃњрЃљрЃюрЃАрЃљрЃЎрЃБрЃЌрЃарЃћрЃЉрЃўрЃЌ ESP32-рЃќрЃћ, рЃЏрЃћрЃ«рЃАрЃўрЃћрЃарЃћрЃЉрЃљ рЃерЃћрЃќрЃдрЃБрЃЊрЃБрЃџрЃў рЃарЃћрЃАрЃБрЃарЃАрЃўрЃљ. рЃњрЃљрЃЋрЃарЃфрЃћрЃџрЃћрЃЉрЃБрЃџрЃў, рЃЏрЃљрЃњрЃарЃљрЃЏ рЃљрЃарЃљрЃћрЃцрЃћрЃЦрЃбрЃБрЃарЃў рЃЏрЃўрЃЊрЃњрЃЮрЃЏрЃљрЃљ, рЃарЃЮрЃЊрЃћрЃАрЃљрЃф рЃЌрЃўрЃЌрЃЮрЃћрЃБрЃџрЃў рЃЏрЃЮрЃЊрЃБрЃџрЃў, рЃарЃЮрЃЏрЃћрЃџрЃАрЃљрЃф рЃцрЃЮрЃюрЃБрЃарЃў рЃАрЃљрЃЏрЃБрЃерЃљрЃЮ рЃАрЃГрЃўрЃарЃЊрЃћрЃЉрЃљ, рЃЦрЃЏрЃюрЃўрЃА рЃАрЃљрЃЎрЃБрЃЌрЃљрЃа FreeRTOS рЃбрЃљрЃАрЃЎрЃА.

**рЃърЃарЃЮрЃЉрЃџрЃћрЃЏрЃўрЃА рЃљрЃарЃАрЃў:**

- **рЃЏрЃћрЃ«рЃАрЃўрЃћрЃарЃћрЃЉрЃўрЃА рЃЊрЃўрЃЊрЃў рЃЊрЃљрЃюрЃљрЃ«рЃљрЃарЃ»рЃў:** рЃЌрЃўрЃЌрЃЮрЃћрЃБрЃџрЃў `xTaskCreate` рЃњрЃљрЃЏрЃЮрЃФрЃљрЃ«рЃћрЃЉрЃљ рЃарЃћрЃќрЃћрЃарЃЋрЃА рЃБрЃЎрЃћрЃЌрЃћрЃЉрЃА рЃАрЃбрЃћрЃЎрЃўрЃА рЃЏрЃћрЃ«рЃАрЃўрЃћрЃарЃћрЃЉрЃљрЃА (рЃарЃЮрЃњрЃЮрЃарЃф рЃгрЃћрЃАрЃў, 2-4 KB). 10 рЃАрЃћрЃюрЃАрЃЮрЃарЃўрЃА рЃЏрЃЮрЃЊрЃБрЃџрЃў, рЃарЃЮрЃЏрЃћрЃџрЃЌрЃљрЃњрЃљрЃю рЃЌрЃўрЃЌрЃЮрЃћрЃБрЃџрЃА рЃЌрЃљрЃЋрЃўрЃАрЃў рЃбрЃљрЃАрЃЎрЃў рЃљрЃЦрЃЋрЃА, рЃЏрЃљрЃарЃбрЃўрЃЋрЃљрЃЊ рЃЏрЃЮрЃўрЃ«рЃЏрЃљрЃарЃА **20-40 KB** RAM-рЃА рЃЏрЃ«рЃЮрЃџрЃЮрЃЊ рЃАрЃбрЃћрЃЎрЃћрЃЉрЃўрЃАрЃЌрЃЋрЃўрЃА.
- **рЃгрЃљрЃарЃЏрЃљрЃЊрЃЮрЃЉрЃўрЃА рЃерЃћрЃЏрЃфрЃўрЃарЃћрЃЉрЃљ:** рЃарЃљрЃф рЃЏрЃћрЃбрЃўрЃљ рЃбрЃљрЃАрЃЎрЃў, рЃЏрЃўрЃЌ рЃЏрЃћрЃб рЃЊрЃарЃЮрЃА рЃ«рЃљрЃарЃ»рЃљрЃЋрЃА FreeRTOS-рЃўрЃА `scheduler`-рЃў рЃЏрЃљрЃЌ рЃерЃЮрЃарЃўрЃА рЃњрЃљрЃЊрЃљрЃарЃЌрЃЋрЃљрЃќрЃћ (Context Switching), рЃарЃљрЃф рЃљрЃЏрЃфрЃўрЃарЃћрЃЉрЃА рЃАрЃљрЃАрЃљрЃарЃњрЃћрЃЉрЃџрЃЮ рЃАрЃљрЃЏрЃБрЃерЃљрЃЮрЃА рЃерЃћрЃАрЃарЃБрЃџрЃћрЃЉрЃўрЃА рЃЊрЃарЃЮрЃА.
- **рЃљрЃарЃљрЃћрЃцрЃћрЃЦрЃбрЃБрЃарЃЮрЃЉрЃљ:** рЃљрЃЏ рЃбрЃљрЃАрЃЎрЃћрЃЉрЃўрЃА рЃБрЃЏрЃћрЃбрЃћрЃАрЃЮрЃЉрЃљ 99% рЃЊрЃарЃЮрЃўрЃА рЃњрЃљрЃюрЃЏрЃљрЃЋрЃџрЃЮрЃЉрЃљрЃерЃў "рЃўрЃФрЃўрЃюрЃћрЃЉрЃА" (`vTaskDelay`) рЃЊрЃљ рЃБрЃЉрЃарЃљрЃџрЃЮрЃЊ рЃљрЃЊрЃњрЃўрЃџрЃА рЃўрЃЎрЃљрЃЋрЃћрЃЉрЃА рЃЏрЃћрЃ«рЃАрЃўрЃћрЃарЃћрЃЉрЃљрЃерЃў.

## 3. ­ЪњА рЃњрЃљрЃЊрЃљрЃгрЃДрЃЋрЃћрЃбрЃљ: `Task Pool Manager`

Synapse Framework-рЃў рЃљрЃЏ рЃърЃарЃЮрЃЉрЃџрЃћрЃЏрЃљрЃА рЃГрЃарЃўрЃА `Task Pool Manager` `core` рЃАрЃћрЃарЃЋрЃўрЃАрЃўрЃА рЃЏрЃћрЃерЃЋрЃћрЃЮрЃЉрЃўрЃЌ. рЃћрЃА рЃљрЃарЃўрЃА "рЃЏрЃБрЃерЃљ рЃбрЃљрЃАрЃЎрЃћрЃЉрЃўрЃА" (Worker Tasks) рЃћрЃарЃЌрЃЮрЃЉрЃџрЃўрЃЮрЃЉрЃљ, рЃарЃЮрЃЏрЃћрЃџрЃўрЃф рЃЏрЃќрЃљрЃЊ рЃљрЃарЃўрЃА, рЃерЃћрЃљрЃАрЃарЃБрЃџрЃЮрЃА рЃюрЃћрЃЉрЃўрЃАрЃЏрЃўрЃћрЃарЃў "рЃЊрЃљрЃЋрЃљрЃџрЃћрЃЉрЃљ" (`Job`), рЃарЃЮрЃЏрЃћрЃџрЃАрЃљрЃф рЃЏрЃљрЃА рЃЏрЃЮрЃЊрЃБрЃџрЃћрЃЉрЃў рЃЏрЃўрЃљрЃгрЃЋрЃЊрЃўрЃљрЃю.

**рЃърЃљрЃбрЃћрЃарЃюрЃўрЃА рЃџрЃЮрЃњрЃўрЃЎрЃљ:**

1. рЃЏрЃЮрЃЊрЃБрЃџрЃў, рЃарЃЮрЃЏрЃћрЃџрЃАрЃљрЃф рЃАрЃГрЃўрЃарЃЊрЃћрЃЉрЃљ рЃърЃћрЃарЃўрЃЮрЃЊрЃБрЃџрЃў рЃАрЃљрЃЏрЃБрЃерЃљрЃЮрЃА рЃерЃћрЃАрЃарЃБрЃџрЃћрЃЉрЃљ, **рЃљрЃа рЃЦрЃЏрЃюрЃўрЃА рЃАрЃљрЃЎрЃБрЃЌрЃљрЃа рЃбрЃљрЃАрЃЎрЃА**.
2. `_start` рЃцрЃБрЃюрЃЦрЃфрЃўрЃљрЃерЃў, рЃўрЃА рЃўрЃФрЃљрЃ«рЃћрЃЉрЃА `synapse_task_pool_schedule_job()`-рЃА.
3. рЃљрЃЏ рЃњрЃљрЃЏрЃЮрЃФрЃљрЃ«рЃћрЃЉрЃўрЃАрЃљрЃА, рЃўрЃА рЃњрЃљрЃЊрЃљрЃАрЃфрЃћрЃЏрЃА:
    - **`job_function`:** рЃцрЃБрЃюрЃЦрЃфрЃўрЃўрЃА рЃЏрЃљрЃЕрЃЋрЃћрЃюрЃћрЃЉрЃћрЃџрЃА, рЃарЃЮрЃЏрЃћрЃџрЃЏрЃљрЃф рЃБрЃюрЃЊрЃљ рЃерЃћрЃљрЃАрЃарЃБрЃџрЃЮрЃА рЃАрЃљрЃЏрЃБрЃерЃљрЃЮ (рЃЏрЃљрЃњ., рЃАрЃћрЃюрЃАрЃЮрЃарЃўрЃА рЃгрЃљрЃЎрЃўрЃЌрЃ«рЃЋрЃљ). **рЃЏрЃюрЃўрЃерЃЋрЃюрЃћрЃџрЃЮрЃЋрЃљрЃюрЃўрЃљ:** рЃћрЃА рЃцрЃБрЃюрЃЦрЃфрЃўрЃљ рЃљрЃа рЃБрЃюрЃЊрЃљ рЃерЃћрЃўрЃфрЃљрЃЋрЃЊрЃћрЃА `while(1)` рЃфрЃўрЃЎрЃџрЃА рЃљрЃю `vTaskDelay`-рЃА.
    - **`context`:** рЃЏрЃљрЃЕрЃЋрЃћрЃюрЃћрЃЉрЃћрЃџрЃА рЃЌрЃљрЃЋрЃўрЃА `private_data`-рЃќрЃћ.
    - **`interval_ms`:** рЃњрЃљрЃЏрЃЮрЃФрЃљрЃ«рЃћрЃЉрЃўрЃА рЃърЃћрЃарЃўрЃЮрЃЊрЃА рЃЏрЃўрЃџрЃўрЃгрЃљрЃЏрЃћрЃЉрЃерЃў.
    - **`is_periodic`:** `true`.
4. `Task Pool Manager`-рЃў рЃЌрЃљрЃЋрЃљрЃЊ рЃќрЃарЃБрЃюрЃљрЃЋрЃА рЃљрЃЏ рЃцрЃБрЃюрЃЦрЃфрЃўрЃўрЃА рЃърЃћрЃарЃўрЃЮрЃЊрЃБрЃџрЃљрЃЊ, рЃЏрЃўрЃЌрЃўрЃЌрЃћрЃЉрЃБрЃџрЃў рЃўрЃюрЃбрЃћрЃарЃЋрЃљрЃџрЃўрЃЌ рЃњрЃљрЃЏрЃЮрЃФрЃљрЃ«рЃћрЃЉрЃљрЃќрЃћ рЃЌрЃљрЃЋрЃўрЃАрЃў рЃћрЃарЃЌ-рЃћрЃарЃЌрЃў "рЃЏрЃБрЃерЃљ" рЃбрЃљрЃАрЃЎрЃўрЃА рЃЎрЃЮрЃюрЃбрЃћрЃЦрЃАрЃбрЃўрЃЊрЃљрЃю.
5. `_deinit` рЃцрЃБрЃюрЃЦрЃфрЃўрЃљрЃерЃў, рЃЏрЃЮрЃЊрЃБрЃџрЃў рЃўрЃФрЃљрЃ«рЃћрЃЉрЃА `synapse_task_pool_cancel_job()`-рЃА, рЃарЃљрЃЌрЃљ рЃњрЃљрЃљрЃБрЃЦрЃЏрЃЮрЃА рЃЊрЃљрЃњрЃћрЃњрЃЏрЃўрЃџрЃў рЃАрЃљрЃЏрЃБрЃерЃљрЃЮ.

## 4. ­ЪЊЮ рЃњрЃљрЃЏрЃЮрЃДрЃћрЃюрЃћрЃЉрЃўрЃА рЃърЃљрЃбрЃћрЃарЃюрЃў

### 4.1. рЃЏрЃЮрЃЊрЃБрЃџрЃўрЃА `private_data` рЃАрЃбрЃарЃБрЃЦрЃбрЃБрЃарЃљ

```c
// my_sensor.c
typedef struct {
    // ... рЃАрЃ«рЃЋрЃљ рЃЋрЃћрЃџрЃћрЃЉрЃў ...
    synapse_job_handle_t job_handle; // рЃЋрЃўрЃюрЃљрЃ«рЃљрЃЋрЃЌ handle-рЃА рЃАрЃљрЃЏрЃБрЃерЃљрЃЮрЃА рЃњрЃљрЃАрЃљрЃБрЃЦрЃЏрЃћрЃЉрЃџрЃљрЃЊ
} my_sensor_private_data_t;
```

### 4.2. рЃАрЃљрЃЏрЃБрЃерЃљрЃЮ рЃцрЃБрЃюрЃЦрЃфрЃўрЃўрЃА (`Job`) рЃўрЃЏрЃърЃџрЃћрЃЏрЃћрЃюрЃбрЃљрЃфрЃўрЃљ

рЃћрЃА рЃцрЃБрЃюрЃЦрЃфрЃўрЃљ рЃљрЃа рЃерЃћрЃўрЃфрЃљрЃЋрЃА `while` рЃфрЃўрЃЎрЃџрЃА.

```c
// my_sensor.c
static void my_sensor_poll_job(void *user_context)
{
    module_t *self = (module_t *)user_context;
    my_sensor_private_data_t *private_data = (my_sensor_private_data_t *)self->private_data;

    // 1. рЃЋрЃЎрЃўрЃЌрЃ«рЃБрЃџрЃЮрЃЉрЃЌ рЃАрЃћрЃюрЃАрЃЮрЃарЃА
    float temperature = read_temperature_from_hardware();

    // 2. рЃЋрЃљрЃЦрЃЋрЃћрЃДрЃюрЃћрЃЉрЃЌ рЃўрЃЋрЃћрЃюрЃЌрЃА
    // ... (synapse_event_bus_post logic) ...

    ESP_LOGD(TAG, "Sensor poll job completed for '%s'.", self->name);
}
```

### 4.3. `_start` рЃЊрЃљ `_deinit` рЃцрЃБрЃюрЃЦрЃфрЃўрЃћрЃЉрЃў

```c
// my_sensor.c
static esp_err_t my_sensor_start(module_t *self)
{
    my_sensor_private_data_t *private_data = (my_sensor_private_data_t *)self->private_data;
    ESP_LOGI(TAG, "Scheduling sensor poll job.");

    private_data->job_handle = synapse_task_pool_schedule_job(
        my_sensor_poll_job, // рЃерЃћрЃАрЃљрЃАрЃарЃБрЃџрЃћрЃЉрЃћрЃџрЃў рЃцрЃБрЃюрЃЦрЃфрЃўрЃљ
        self,               // рЃЎрЃЮрЃюрЃбрЃћрЃЦрЃАрЃбрЃў (рЃЏрЃЮрЃЊрЃБрЃџрЃўрЃА handle)
        30000,              // рЃўрЃюрЃбрЃћрЃарЃЋрЃљрЃџрЃў (30 рЃгрЃљрЃЏрЃў)
        true                // рЃърЃћрЃарЃўрЃЮрЃЊрЃБрЃџрЃў
    );

    if (private_data->job_handle == NULL) {
        ESP_LOGE(TAG, "Failed to schedule sensor poll job.");
        return ESP_FAIL;
    }

    self->status = MODULE_STATUS_RUNNING;
    return ESP_OK;
}

static void my_sensor_deinit(module_t *self)
{
    // ...
    my_sensor_private_data_t *private_data = (my_sensor_private_data_t *)self->private_data;
    if (private_data && private_data->job_handle) {
        synapse_task_pool_cancel_job(private_data->job_handle);
    }
    // ...
}
```

## 5. РюЁ рЃарЃЮрЃЊрЃўрЃА рЃњрЃљрЃЏрЃЮрЃЋрЃўрЃДрЃћрЃюрЃЮрЃЌ `Task Pool` рЃЊрЃљ рЃарЃЮрЃЊрЃўрЃА рЃАрЃљрЃЎрЃБрЃЌрЃљрЃарЃў рЃбрЃљрЃАрЃЎрЃў?

| рЃАрЃфрЃћрЃюрЃљрЃарЃў | рЃарЃћрЃЎрЃЮрЃЏрЃћрЃюрЃЊрЃћрЃЉрЃБрЃџрЃў рЃЏрЃўрЃЊрЃњрЃЮрЃЏрЃљ | рЃарЃљрЃбрЃЮрЃЏ? |
| :--- | :--- | :--- |
| рЃЏрЃЮрЃЊрЃБрЃџрЃў рЃљрЃАрЃарЃБрЃџрЃћрЃЉрЃА рЃЏрЃЮрЃЎрЃџрЃћ, рЃърЃћрЃарЃўрЃЮрЃЊрЃБрЃџ, **рЃљрЃарЃљрЃЉрЃџрЃЮрЃЎрЃўрЃарЃћрЃЉрЃљрЃЊ** рЃАрЃљрЃЏрЃБрЃерЃљрЃЮрЃА (рЃЏрЃљрЃњ., рЃАрЃћрЃюрЃАрЃЮрЃарЃўрЃА рЃгрЃљрЃЎрЃўрЃЌрЃ«рЃЋрЃљ, GPIO-рЃА рЃерЃћрЃЏрЃЮрЃгрЃЏрЃћрЃЉрЃљ). | **Task Pool** | рЃарЃћрЃАрЃБрЃарЃАрЃћрЃЉрЃўрЃА рЃЏрЃљрЃЦрЃАрЃўрЃЏрЃљрЃџрЃБрЃарЃў рЃЮрЃърЃбрЃўрЃЏрЃўрЃќрЃљрЃфрЃўрЃљ. |
| рЃЏрЃЮрЃЊрЃБрЃџрЃў рЃљрЃАрЃарЃБрЃџрЃћрЃЉрЃА рЃ«рЃљрЃюрЃњрЃарЃФрЃџрЃўрЃЋ, **рЃЉрЃџрЃЮрЃЎрЃўрЃарЃћрЃЉрЃљрЃЊ** рЃЮрЃърЃћрЃарЃљрЃфрЃўрЃћрЃЉрЃА (рЃЏрЃљрЃњ., рЃЦрЃАрЃћрЃџрЃБрЃарЃў рЃЏрЃЮрЃЌрЃ«рЃЮрЃЋрЃюрЃљ, рЃцрЃљрЃўрЃџрЃБрЃарЃў рЃЮрЃърЃћрЃарЃљрЃфрЃўрЃљ). | **рЃАрЃљрЃЎрЃБрЃЌрЃљрЃарЃў рЃбрЃљрЃАрЃЎрЃў** | `Task Pool`-рЃўрЃА "рЃЏрЃБрЃерЃљ" рЃбрЃљрЃАрЃЎрЃўрЃА рЃЊрЃўрЃЊрЃў рЃ«рЃюрЃўрЃЌ рЃЊрЃљрЃЎрЃљрЃЋрЃћрЃЉрЃљ рЃЊрЃљрЃљрЃЉрЃџрЃЮрЃЎрЃљрЃЋрЃЊрЃљ рЃАрЃ«рЃЋрЃљ рЃЏрЃЮрЃЊрЃБрЃџрЃћрЃЉрЃўрЃА рЃАрЃљрЃЏрЃБрЃерЃљрЃЮрЃћрЃЉрЃА. |
| рЃЏрЃЮрЃЊрЃБрЃџрЃА рЃАрЃГрЃўрЃарЃЊрЃћрЃЉрЃљ рЃАрЃљрЃЎрЃБрЃЌрЃљрЃарЃў, рЃЎрЃЮрЃЏрЃърЃџрЃћрЃЦрЃАрЃБрЃарЃў `while` рЃфрЃўрЃЎрЃџрЃў рЃЊрЃљ рЃЏрЃЊрЃњрЃЮрЃЏрЃљрЃарЃћрЃЮрЃЉрЃўрЃА рЃЏрЃљрЃарЃЌрЃЋрЃљ (рЃЏрЃљрЃњ., `ui_manager`, `command_router`). | **рЃАрЃљрЃЎрЃБрЃЌрЃљрЃарЃў рЃбрЃљрЃАрЃЎрЃў** | `Task Pool`-рЃў рЃњрЃљрЃюрЃЎрЃБрЃЌрЃЋрЃюрЃўрЃџрЃўрЃљ "рЃБрЃАрЃљрЃ«рЃЮ" (stateless) рЃАрЃљрЃЏрЃБрЃерЃљрЃЮрЃћрЃЉрЃўрЃАрЃЌрЃЋрЃўрЃА. |
| рЃЏрЃЮрЃЊрЃБрЃџрЃА рЃАрЃГрЃўрЃарЃЊрЃћрЃЉрЃљ рЃњрЃљрЃарЃљрЃюрЃбрЃўрЃарЃћрЃЉрЃБрЃџрЃў, рЃЏрЃљрЃдрЃљрЃџрЃў рЃърЃарЃўрЃЮрЃарЃўрЃбрЃћрЃбрЃўрЃА рЃерЃћрЃАрЃарЃБрЃџрЃћрЃЉрЃљ. | **рЃАрЃљрЃЎрЃБрЃЌрЃљрЃарЃў рЃбрЃљрЃАрЃЎрЃў** | `Task Pool`-рЃўрЃА рЃбрЃљрЃАрЃЎрЃћрЃЉрЃА рЃљрЃЦрЃЋрЃЌ рЃАрЃљрЃерЃБрЃљрЃџрЃЮ, рЃќрЃЮрЃњрЃљрЃЊрЃў рЃърЃарЃўрЃЮрЃарЃўрЃбрЃћрЃбрЃў. |
