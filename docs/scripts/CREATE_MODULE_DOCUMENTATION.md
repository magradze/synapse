# ­Ъџђ `create_module.py`: Synapse рЃЏрЃЮрЃЊрЃБрЃџрЃўрЃА рЃњрЃћрЃюрЃћрЃарЃљрЃбрЃЮрЃарЃў (v2.1)

## 1. ­ЪЊІ рЃарЃљ рЃљрЃарЃўрЃА `create_module.py`?

`create_module.py` рЃљрЃарЃўрЃА **рЃЏрЃФрЃџрЃљрЃЋрЃарЃў, рЃўрЃюрЃбрЃћрЃарЃљрЃЦрЃбрЃўрЃБрЃџрЃў рЃАрЃЎрЃарЃўрЃърЃбрЃў**, рЃарЃЮрЃЏрЃћрЃџрЃўрЃф **рЃАрЃарЃБрЃџрЃљрЃЊ рЃљрЃЋрЃбрЃЮрЃЏрЃљрЃбрЃўрЃќрЃћрЃЉрЃБрЃџрЃљрЃЊ** рЃЦрЃЏрЃюрЃўрЃА рЃЏрЃЮрЃЊрЃБрЃџрЃўрЃА рЃЕрЃЮрЃюрЃЕрЃ«рЃА Synapse Framework-рЃўрЃАрЃЌрЃЋрЃўрЃА. рЃўрЃА рЃўрЃДрЃћрЃюрЃћрЃЉрЃА **рЃљрЃарЃЦрЃћрЃбрЃўрЃърЃћрЃЉрЃќрЃћ рЃЊрЃљрЃцрЃБрЃФрЃюрЃћрЃЉрЃБрЃџ рЃЏрЃўрЃЊрЃњрЃЮрЃЏрЃљрЃА**, рЃарЃљрЃЌрЃљ рЃЊрЃљрЃљрЃњрЃћрЃюрЃћрЃарЃўрЃарЃЮрЃА рЃљрЃарЃљ рЃБрЃЉрЃарЃљрЃџрЃЮрЃЊ рЃфрЃљрЃарЃўрЃћрЃџрЃў рЃцрЃљрЃўрЃџрЃћрЃЉрЃў, рЃљрЃарЃљрЃЏрЃћрЃЊ рЃЎрЃЮрЃюрЃЎрЃарЃћрЃбрЃБрЃџрЃў рЃљрЃЏрЃЮрЃфрЃљрЃюрЃўрЃАрЃЌрЃЋрЃўрЃА рЃњрЃљрЃЏрЃќрЃљрЃЊрЃћрЃЉрЃБрЃџрЃў, рЃАрЃљрЃБрЃЎрЃћрЃЌрЃћрЃАрЃЮ рЃърЃарЃљрЃЦрЃбрЃўрЃЎрЃћрЃЉрЃќрЃћ рЃЊрЃљрЃцрЃБрЃФрЃюрЃћрЃЉрЃБрЃџрЃў рЃЎрЃЮрЃЊрЃўрЃА рЃерЃљрЃЉрЃџрЃЮрЃюрЃћрЃЉрЃў.

рЃћрЃА рЃўрЃюрЃАрЃбрЃарЃБрЃЏрЃћрЃюрЃбрЃў рЃЊрЃћрЃЋрЃћрЃџрЃЮрЃърЃЏрЃћрЃюрЃбрЃўрЃА рЃърЃарЃЮрЃфрЃћрЃАрЃА **рЃљрЃЕрЃЦрЃљрЃарЃћрЃЉрЃА**, **рЃљрЃЏрЃфрЃўрЃарЃћрЃЉрЃА рЃерЃћрЃфрЃЊрЃЮрЃЏрЃћрЃЉрЃўрЃА рЃарЃўрЃАрЃЎрЃА** рЃЊрЃљ рЃБрЃќрЃарЃБрЃюрЃЋрЃћрЃџрЃДрЃЮрЃцрЃА, рЃарЃЮрЃЏ рЃДрЃЋрЃћрЃџрЃљ рЃљрЃ«рЃљрЃџрЃў рЃЏрЃЮрЃЊрЃБрЃџрЃў рЃЌрЃљрЃЋрЃўрЃЊрЃљрЃюрЃЋрЃћ рЃАрЃарЃБрЃџрЃљрЃЊ рЃерЃћрЃћрЃАрЃљрЃЉрЃљрЃЏрЃћрЃЉрЃљ рЃцрЃарЃћрЃўрЃЏрЃЋрЃЮрЃарЃЦрЃўрЃА рЃљрЃарЃЦрЃўрЃбрЃћрЃЦрЃбрЃБрЃарЃљрЃАрЃљ рЃЊрЃљ рЃЎрЃЮрЃюрЃЋрЃћрЃюрЃфрЃўрЃћрЃЉрЃА.

## 2. ­Ъј» рЃарЃљрЃА рЃљрЃЎрЃћрЃЌрЃћрЃЉрЃА?

### РюЁ рЃњрЃћрЃюрЃћрЃарЃўрЃарЃћрЃЉрЃБрЃџрЃў рЃцрЃљрЃўрЃџрЃћрЃЉрЃў (6 рЃцрЃљрЃўрЃџрЃў)

1. **`module.json`**: рЃЏрЃЮрЃЊрЃБрЃџрЃўрЃА рЃЏрЃћрЃбрЃљрЃЏрЃЮрЃюрЃљрЃфрЃћрЃЏрЃћрЃЉрЃў (`init_function`, `init_level`, `mqtt_interface` рЃЊрЃљ рЃљ.рЃе.).
2. **`CMakeLists.txt`**: рЃАрЃбрЃљрЃЉрЃўрЃџрЃБрЃарЃў, рЃАрЃљрЃЏ-рЃћрЃбрЃљрЃърЃўрЃљрЃюрЃў рЃърЃўрЃарЃЮрЃЉрЃўрЃЌрЃў рЃЎрЃЮрЃЏрЃърЃўрЃџрЃљрЃфрЃўрЃўрЃА рЃџрЃЮрЃњрЃўрЃЎрЃљ.
3. **`Kconfig`**: рЃЏрЃЮрЃЊрЃБрЃџрЃўрЃА рЃЕрЃљрЃарЃЌрЃЋрЃљ/рЃњрЃљрЃЏрЃЮрЃарЃЌрЃЋрЃўрЃА рЃЊрЃљ рЃЎрЃЮрЃюрЃцрЃўрЃњрЃБрЃарЃљрЃфрЃўрЃўрЃА рЃърЃљрЃарЃљрЃЏрЃћрЃбрЃарЃћрЃЉрЃў `menuconfig`-рЃўрЃАрЃЌрЃЋрЃўрЃА.
4. **`README.md`**: рЃЊрЃЮрЃЎрЃБрЃЏрЃћрЃюрЃбрЃљрЃфрЃўрЃўрЃА рЃерЃљрЃЉрЃџрЃЮрЃюрЃў, рЃарЃЮрЃЏрЃћрЃџрЃўрЃф рЃЏрЃЮрЃарЃњрЃћрЃЉрЃБрЃџрЃўрЃљ рЃљрЃарЃЕрЃћрЃБрЃџ рЃљрЃарЃЦрЃћрЃбрЃўрЃърЃќрЃћ.
5. **`include/{module_name}.h`**: Public API-рЃА рЃ░рЃћрЃЊрЃћрЃарЃў, рЃљрЃарЃЦрЃћрЃбрЃўрЃърЃўрЃА рЃерЃћрЃАрЃљрЃЉрЃљрЃЏрЃўрЃАрЃў рЃерЃўрЃњрЃЌрЃљрЃЋрЃАрЃўрЃЌ.
6. **`src/{module_name}.c`**: рЃўрЃЏрЃърЃџрЃћрЃЏрЃћрЃюрЃбрЃљрЃфрЃўрЃўрЃА рЃцрЃљрЃўрЃџрЃў, рЃарЃЮрЃЏрЃћрЃџрЃўрЃф рЃерЃћрЃўрЃфрЃљрЃЋрЃА рЃЏрЃќрЃљ рЃЎрЃЮрЃЊрЃА рЃљрЃарЃЕрЃћрЃБрЃџрЃў рЃљрЃарЃЦрЃћрЃбрЃўрЃърЃўрЃАрЃЌрЃЋрЃўрЃА (рЃЏрЃљрЃњ., Service API-рЃА рЃарЃћрЃњрЃўрЃАрЃбрЃарЃљрЃфрЃўрЃљ, рЃбрЃљрЃАрЃЎрЃўрЃА рЃерЃћрЃЦрЃЏрЃюрЃљ, CLI рЃЉрЃарЃФрЃљрЃюрЃћрЃЉрЃўрЃА рЃЊрЃљрЃЏрЃБрЃерЃљрЃЋрЃћрЃЉрЃљ).

### РюЁ рЃљрЃЋрЃбрЃЮрЃЏрЃљрЃбрЃБрЃарЃў рЃўрЃюрЃбрЃћрЃњрЃарЃљрЃфрЃўрЃљ

- ­ЪћД **Build рЃАрЃўрЃАрЃбрЃћрЃЏрЃўрЃА рЃЏрЃўрЃћрЃа рЃљрЃдрЃЏрЃЮрЃЕрЃћрЃюрЃљ**: `idf.py menuconfig`-рЃўрЃА рЃњрЃљрЃерЃЋрЃћрЃЉрЃўрЃАрЃљрЃА, build-рЃАрЃўрЃАрЃбрЃћрЃЏрЃљ рЃљрЃЋрЃбрЃЮрЃЏрЃљрЃбрЃБрЃарЃљрЃЊ рЃърЃЮрЃБрЃџрЃЮрЃЉрЃА рЃљрЃ«рЃљрЃџ рЃЏрЃЮрЃЊрЃБрЃџрЃА рЃЊрЃљ рЃљрЃЏрЃљрЃбрЃћрЃЉрЃА рЃЏрЃўрЃА `Kconfig` рЃцрЃљрЃўрЃџрЃА рЃЎрЃЮрЃюрЃцрЃўрЃњрЃБрЃарЃљрЃфрЃўрЃўрЃА рЃЏрЃћрЃюрЃўрЃБрЃерЃў.
- ­ЪћД **рЃърЃўрЃарЃЮрЃЉрЃўрЃЌрЃў рЃЎрЃЮрЃЏрЃърЃўрЃџрЃљрЃфрЃўрЃљ**: рЃЎрЃЮрЃЊрЃў рЃЎрЃЮрЃЏрЃърЃўрЃџрЃўрЃарЃЊрЃћрЃЉрЃљ рЃЏрЃ«рЃЮрЃџрЃЮрЃЊ рЃўрЃЏ рЃерЃћрЃЏрЃЌрЃ«рЃЋрЃћрЃЋрЃљрЃерЃў, рЃЌрЃБ рЃЏрЃЮрЃЊрЃБрЃџрЃў рЃЕрЃљрЃарЃЌрЃБрЃџрЃўрЃљ `menuconfig`-рЃерЃў, рЃарЃљрЃф рЃБрЃќрЃарЃБрЃюрЃЋрЃћрЃџрЃДрЃЮрЃцрЃА firmware-рЃўрЃА рЃЏрЃўрЃюрЃўрЃЏрЃљрЃџрЃБрЃа рЃќрЃЮрЃЏрЃљрЃА.

## 3. ­ЪЏа№ИЈ рЃњрЃљрЃЏрЃЮрЃДрЃћрЃюрЃћрЃЉрЃўрЃА рЃарЃћрЃЪрЃўрЃЏрЃћрЃЉрЃў

рЃАрЃЎрЃарЃўрЃърЃбрЃА рЃљрЃЦрЃЋрЃА рЃЮрЃарЃў рЃФрЃўрЃарЃўрЃЌрЃљрЃЊрЃў рЃњрЃљрЃЏрЃЮрЃДрЃћрЃюрЃћрЃЉрЃўрЃА рЃарЃћрЃЪрЃўрЃЏрЃў: **рЃўрЃюрЃбрЃћрЃарЃљрЃЦрЃбрЃўрЃБрЃџрЃў** (рЃарЃћрЃЎрЃЮрЃЏрЃћрЃюрЃЊрЃћрЃЉрЃБрЃџрЃўрЃљ рЃџрЃЮрЃЎрЃљрЃџрЃБрЃарЃў рЃЊрЃћрЃЋрЃћрЃџрЃЮрЃърЃЏрЃћрЃюрЃбрЃўрЃАрЃЌрЃЋрЃўрЃА) рЃЊрЃљ **рЃЉрЃарЃФрЃљрЃюрЃћрЃЉрЃўрЃА рЃ«рЃљрЃќрЃўрЃА** (рЃўрЃЊрЃћрЃљрЃџрЃБрЃарЃўрЃљ рЃљрЃЋрЃбрЃЮрЃЏрЃљрЃбрЃўрЃќрЃљрЃфрЃўрЃўрЃАрЃЌрЃЋрЃўрЃА).

### 3.1. рЃўрЃюрЃбрЃћрЃарЃљрЃЦрЃбрЃўрЃБрЃџрЃў рЃарЃћрЃЪрЃўрЃЏрЃў (рЃарЃћрЃЎрЃЮрЃЏрЃћрЃюрЃЊрЃћрЃЉрЃБрЃџрЃў)

рЃњрЃљрЃБрЃерЃЋрЃўрЃЌ рЃАрЃЎрЃарЃўрЃърЃбрЃў рЃљрЃарЃњрЃБрЃЏрЃћрЃюрЃбрЃћрЃЉрЃўрЃА рЃњрЃљрЃарЃћрЃерЃћ. рЃўрЃА рЃЊрЃљрЃњрЃўрЃАрЃЋрЃљрЃЏрЃЌ рЃЎрЃўрЃЌрЃ«рЃЋрЃћрЃЉрЃА рЃЊрЃљ рЃерЃћрЃЏрЃЮрЃњрЃЌрЃљрЃЋрЃљрЃќрЃћрЃЉрЃЌ рЃЏрЃќрЃљ рЃЋрЃљрЃарЃўрЃљрЃюрЃбрЃћрЃЉрЃА.

```bash
python3 scripts/create_module.py
```

**рЃърЃарЃЮрЃфрЃћрЃАрЃўрЃА рЃЏрЃљрЃњрЃљрЃџрЃўрЃЌрЃў:**

```bash
--- Synapse Module Generator (рЃўрЃюрЃбрЃћрЃарЃљрЃЦрЃбрЃўрЃБрЃџрЃў рЃарЃћрЃЪрЃўрЃЏрЃў) ---
? рЃерЃћрЃўрЃДрЃЋрЃљрЃюрЃћрЃЌ рЃЏрЃЮрЃЊрЃБрЃџрЃўрЃА рЃАрЃарЃБрЃџрЃў рЃАрЃљрЃ«рЃћрЃџрЃў (рЃЏрЃљрЃњ: 'OLED Display'): My Awesome Sensor
? рЃљрЃўрЃарЃЕрЃўрЃћрЃЌ рЃЎрЃљрЃбрЃћрЃњрЃЮрЃарЃўрЃљ:
  [0] actuators
  [1] sensors
  ...
> 1
? рЃљрЃўрЃарЃЕрЃўрЃћрЃЌ рЃЏрЃЮрЃЊрЃБрЃџрЃўрЃА рЃљрЃарЃЦрЃћрЃбрЃўрЃърЃў (рЃерЃљрЃЉрЃџрЃЮрЃюрЃўрЃА рЃбрЃўрЃърЃў):
  [0] Basic (рЃЏрЃўрЃюрЃўрЃЏрЃљрЃџрЃБрЃарЃў рЃерЃљрЃЉрЃџрЃЮрЃюрЃў)
  [1] Event Producer (рЃљрЃњрЃќрЃљрЃЋрЃюрЃўрЃА рЃўрЃЋрЃћрЃюрЃЌрЃћрЃЉрЃА, рЃЏрЃљрЃњ. рЃАрЃћрЃюрЃАрЃЮрЃарЃў)
  ...
> 1
? рЃерЃћрЃўрЃДрЃЋрЃљрЃюрЃћрЃЌ рЃЏрЃЮрЃЎрЃџрЃћ рЃљрЃдрЃгрЃћрЃарЃљ (default: A module for My Awesome Sensor): Measures cosmic radiation levels
? рЃерЃћрЃўрЃДрЃЋрЃљрЃюрЃћрЃЌ рЃљрЃЋрЃбрЃЮрЃарЃў (default: Giorgi Magradze):
? рЃерЃћрЃўрЃДрЃЋрЃљрЃюрЃћрЃЌ рЃАрЃљрЃгрЃДрЃўрЃАрЃў init_level (default: 60):
? рЃерЃћрЃўрЃДрЃЋрЃљрЃюрЃћрЃЌ ESP-IDF рЃЊрЃљрЃЏрЃЮрЃЎрЃўрЃЊрЃћрЃЉрЃБрЃџрЃћрЃЉрЃћрЃЉрЃў (рЃЏрЃФрЃўрЃЏрЃўрЃЌ рЃњрЃљрЃЏрЃЮрЃДрЃЮрЃцрЃўрЃџрЃў, рЃЏрЃљрЃњ: esp_http_client):
```

### 3.2. рЃЉрЃарЃФрЃљрЃюрЃћрЃЉрЃўрЃА рЃ«рЃљрЃќрЃўрЃА рЃарЃћрЃЪрЃўрЃЏрЃў (рЃљрЃЋрЃбрЃЮрЃЏрЃљрЃбрЃўрЃќрЃљрЃфрЃўрЃўрЃАрЃЌрЃЋрЃўрЃА)

рЃЏрЃўрЃљрЃгрЃЮрЃЊрЃћрЃЌ рЃДрЃЋрЃћрЃџрЃљ рЃАрЃљрЃГрЃўрЃарЃЮ рЃърЃљрЃарЃљрЃЏрЃћрЃбрЃарЃў рЃърЃўрЃарЃЊрЃљрЃърЃўрЃа рЃЉрЃарЃФрЃљрЃюрЃћрЃЉрЃўрЃА рЃ«рЃљрЃќрЃўрЃЊрЃљрЃю.

**рЃАрЃўрЃюрЃбрЃљрЃЦрЃАрЃў:**

```bash
python3 scripts/create_module.py "рЃЏрЃЮрЃЊрЃБрЃџрЃўрЃА рЃАрЃљрЃ«рЃћрЃџрЃў" -c <рЃЎрЃљрЃбрЃћрЃњрЃЮрЃарЃўрЃљ> -a <рЃљрЃарЃЦрЃћрЃбрЃўрЃърЃў> -d "рЃљрЃдрЃгрЃћрЃарЃљ" [рЃАрЃ«рЃЋрЃљ рЃърЃљрЃарЃљрЃЏрЃћрЃбрЃарЃћрЃЉрЃў]
```

**рЃЏрЃљрЃњрЃљрЃџрЃўрЃЌрЃў:**

```bash
python3 scripts/create_module.py "OTA Updater" -c system -a service_provider -d "Handles Over-the-Air updates" --init_level 50 --deps "esp_http_client,esp_https_ota"
```

### 3.3. рЃърЃљрЃарЃљрЃЏрЃћрЃбрЃарЃћрЃЉрЃўрЃА рЃАрЃарЃБрЃџрЃў рЃАрЃўрЃљ

| рЃърЃљрЃарЃљрЃЏрЃћрЃбрЃарЃў | рЃљрЃарЃњрЃБрЃЏрЃћрЃюрЃбрЃў | рЃљрЃдрЃгрЃћрЃарЃљ | рЃАрЃљрЃЋрЃљрЃџрЃЊрЃћрЃЉрЃБрЃџрЃЮ (CLI) |
| :--- | :--- | :--- | :---: |
| `module_title` | `"My Module"` | рЃЏрЃЮрЃЊрЃБрЃџрЃўрЃА рЃАрЃарЃБрЃџрЃў, рЃљрЃЊрЃљрЃЏрЃўрЃљрЃюрЃўрЃАрЃЌрЃЋрЃўрЃА рЃњрЃљрЃАрЃљрЃњрЃћрЃЉрЃў рЃАрЃљрЃ«рЃћрЃџрЃў. | РюЁ |
| `-c`, `--category` | `sensors` | рЃЏрЃЮрЃЊрЃБрЃџрЃўрЃА рЃЎрЃљрЃбрЃћрЃњрЃЮрЃарЃўрЃљ. | РюЁ |
| `-a`, `--archetype` | `event_producer` | рЃЏрЃЮрЃЊрЃБрЃџрЃўрЃА рЃљрЃарЃЦрЃћрЃбрЃўрЃърЃў (рЃерЃљрЃЉрЃџрЃЮрЃюрЃўрЃА рЃбрЃўрЃърЃў). | РюЁ |
| `-d`, `--description` | `"My description"` | рЃЏрЃЮрЃЊрЃБрЃџрЃўрЃА рЃЏрЃЮрЃЎрЃџрЃћ рЃљрЃдрЃгрЃћрЃарЃљ. | РюЁ |
| `--author` | `"John Doe"` | рЃЏрЃЮрЃЊрЃБрЃџрЃўрЃА рЃљрЃЋрЃбрЃЮрЃарЃў. (Default: Git-рЃўрЃА рЃАрЃљрЃ«рЃћрЃџрЃў) | РЮї |
| `--init_level` | `60` | рЃАрЃљрЃгрЃДрЃўрЃАрЃў `init_level`. (Default: 60) | РЮї |
| `--deps` | `"dep1,dep2"` | ESP-IDF рЃЎрЃЮрЃЏрЃърЃЮрЃюрЃћрЃюрЃбрЃћрЃЉрЃќрЃћ рЃЊрЃљрЃЏрЃЮрЃЎрЃўрЃЊрЃћрЃЉрЃБрЃџрЃћрЃЉрЃћрЃЉрЃў. | РЮї |

## 4. ­ЪЈЏ№ИЈ рЃљрЃарЃЦрЃћрЃбрЃўрЃърЃћрЃЉрЃў (Archetypes)

рЃљрЃарЃЦрЃћрЃбрЃўрЃърЃў рЃњрЃљрЃюрЃАрЃљрЃќрЃдрЃЋрЃарЃљрЃЋрЃА, рЃЌрЃБ рЃарЃљ рЃбрЃўрЃърЃўрЃА рЃЎрЃЮрЃЊрЃўрЃА рЃерЃљрЃЉрЃџрЃЮрЃюрЃў рЃЊрЃљрЃњрЃћрЃюрЃћрЃарЃўрЃарЃЊрЃћрЃЉрЃљ.

| рЃљрЃарЃЕрЃћрЃЋрЃљрЃюрЃў | рЃљрЃарЃЦрЃћрЃбрЃўрЃърЃў | рЃљрЃдрЃгрЃћрЃарЃљ | рЃњрЃћрЃюрЃћрЃарЃўрЃарЃћрЃЉрЃБрЃџрЃў рЃЎрЃЮрЃЊрЃў |
| :--- | :--- | :--- | :--- |
| `[0]` | **Basic** | рЃЏрЃўрЃюрЃўрЃЏрЃљрЃџрЃБрЃарЃў рЃерЃљрЃЉрЃџрЃЮрЃюрЃў | `base_module` рЃўрЃюрЃбрЃћрЃарЃцрЃћрЃўрЃАрЃўрЃА рЃАрЃљрЃЉрЃљрЃќрЃўрЃАрЃЮ рЃўрЃЏрЃърЃџрЃћрЃЏрЃћрЃюрЃбрЃљрЃфрЃўрЃљ. |
| `[1]` | **Event Producer** | рЃљрЃњрЃќрЃљрЃЋрЃюрЃўрЃА рЃўрЃЋрЃћрЃюрЃЌрЃћрЃЉрЃА | `_task` рЃцрЃБрЃюрЃЦрЃфрЃўрЃљ, `xTaskCreate` рЃЊрЃљ `fmw_event_bus_post` рЃЏрЃљрЃњрЃљрЃџрЃўрЃЌрЃў. |
| `[2]` | **Service Provider** | рЃљрЃгрЃЋрЃЊрЃўрЃА API-рЃА | `_api_t` рЃАрЃбрЃарЃБрЃЦрЃбрЃБрЃарЃљ, `global_instance` рЃЊрЃљ `fmw_service_register` рЃњрЃљрЃЏрЃЮрЃФрЃљрЃ«рЃћрЃЉрЃљ. |
| `[3]` | **Command Handler** | рЃљрЃЏрЃБрЃерЃљрЃЋрЃћрЃЉрЃА CLI рЃЉрЃарЃФрЃљрЃюрЃћрЃЉрЃћрЃЉрЃА | `cmd_t` рЃАрЃбрЃарЃБрЃЦрЃбрЃБрЃарЃљ, `_cmd_handler` рЃЊрЃљ рЃЉрЃарЃФрЃљрЃюрЃћрЃЉрЃўрЃА рЃарЃћрЃњрЃўрЃАрЃбрЃарЃљрЃфрЃўрЃўрЃА рЃџрЃЮрЃњрЃўрЃЎрЃљ. |
| `[4]` | **Event & Service** | рЃ░рЃўрЃЉрЃарЃўрЃЊрЃБрЃџрЃў | `[1]` рЃЊрЃљ `[2]` рЃљрЃарЃЦрЃћрЃбрЃўрЃърЃћрЃЉрЃўрЃА рЃЎрЃЮрЃЊрЃўрЃА рЃЎрЃЮрЃЏрЃЉрЃўрЃюрЃљрЃфрЃўрЃљ. |
| `[5]` | **Event & Command** | рЃ░рЃўрЃЉрЃарЃўрЃЊрЃБрЃџрЃў | `[1]` рЃЊрЃљ `[3]` рЃљрЃарЃЦрЃћрЃбрЃўрЃърЃћрЃЉрЃўрЃА рЃЎрЃЮрЃЊрЃўрЃА рЃЎрЃЮрЃЏрЃЉрЃўрЃюрЃљрЃфрЃўрЃљ. |
| `[6]` | **Service & Command** | рЃ░рЃўрЃЉрЃарЃўрЃЊрЃБрЃџрЃў | `[2]` рЃЊрЃљ `[3]` рЃљрЃарЃЦрЃћрЃбрЃўрЃърЃћрЃЉрЃўрЃА рЃЎрЃЮрЃЊрЃўрЃА рЃЎрЃЮрЃЏрЃЉрЃўрЃюрЃљрЃфрЃўрЃљ. |

## 5. ­Ъћё рЃАрЃарЃБрЃџрЃў рЃАрЃљрЃЏрЃБрЃерЃљрЃЮ рЃърЃарЃЮрЃфрЃћрЃАрЃў (Workflow)

1. **рЃЏрЃЮрЃЊрЃБрЃџрЃўрЃА рЃњрЃћрЃюрЃћрЃарЃљрЃфрЃўрЃљ:**

    ```bash
    python3 scripts/create_module.py
    # (рЃЏрЃўрЃ░рЃДрЃћрЃЋрЃўрЃЌ рЃўрЃюрЃбрЃћрЃарЃљрЃЦрЃбрЃўрЃБрЃџ рЃўрЃюрЃАрЃбрЃарЃБрЃЦрЃфрЃўрЃћрЃЉрЃА)
    ```

2. **рЃЎрЃЮрЃюрЃцрЃўрЃњрЃБрЃарЃљрЃфрЃўрЃљ:**

    ```bash
    idf.py menuconfig
    ```

    рЃњрЃљрЃЊрЃљрЃЊрЃўрЃЌ `Component config` -> `Synapse Framework` -> `Modules` рЃЊрЃљ рЃЊрЃљрЃарЃгрЃЏрЃБрЃюрЃЊрЃўрЃЌ, рЃарЃЮрЃЏ рЃЌрЃЦрЃЋрЃћрЃюрЃў рЃљрЃ«рЃљрЃџрЃў рЃЏрЃЮрЃЊрЃБрЃџрЃў рЃЕрЃљрЃарЃЌрЃБрЃџрЃўрЃљ.

3. **рЃърЃарЃЮрЃћрЃЦрЃбрЃўрЃА рЃљрЃњрЃћрЃЉрЃљ:**

    ```bash
    idf.py build
    ```

4. **рЃЎрЃЮрЃЊрЃўрЃА рЃерЃћрЃЋрЃАрЃћрЃЉрЃљ:**
    - рЃњрЃљрЃ«рЃАрЃћрЃюрЃўрЃЌ рЃњрЃћрЃюрЃћрЃарЃўрЃарЃћрЃЉрЃБрЃџрЃў `.c` рЃЊрЃљ `.h` рЃцрЃљрЃўрЃџрЃћрЃЉрЃў.
    - рЃерЃћрЃљрЃЋрЃАрЃћрЃЌ `TODO` рЃЎрЃЮрЃЏрЃћрЃюрЃбрЃљрЃарЃћрЃЉрЃўрЃЌ рЃЏрЃЮрЃюрЃўрЃерЃюрЃБрЃџрЃў рЃљрЃЊрЃњрЃўрЃџрЃћрЃЉрЃў рЃЌрЃЦрЃЋрЃћрЃюрЃў рЃЎрЃЮрЃюрЃЎрЃарЃћрЃбрЃБрЃџрЃў рЃџрЃЮрЃњрЃўрЃЎрЃўрЃЌ.

## 6. ­Ъџе рЃЏрЃюрЃўрЃерЃЋрЃюрЃћрЃџрЃЮрЃЋрЃљрЃюрЃў рЃерЃћрЃюрЃўрЃерЃЋрЃюрЃћрЃЉрЃў

- **`menuconfig` vs `reconfigure`:** `idf.py reconfigure` рЃљрЃдрЃљрЃа рЃљрЃарЃўрЃА рЃљрЃБрЃфрЃўрЃџрЃћрЃЉрЃћрЃџрЃў. `idf.py menuconfig`-рЃўрЃА рЃњрЃљрЃерЃЋрЃћрЃЉрЃљ рЃАрЃљрЃЎрЃЏрЃљрЃарЃўрЃАрЃўрЃљ, рЃарЃљрЃЌрЃљ build-рЃАрЃўрЃАрЃбрЃћрЃЏрЃљрЃЏ рЃљрЃдрЃЏрЃЮрЃљрЃЕрЃўрЃюрЃЮрЃА рЃљрЃ«рЃљрЃџрЃў рЃЏрЃЮрЃЊрЃБрЃџрЃў.
- **рЃЎрЃЮрЃюрЃЋрЃћрЃюрЃфрЃўрЃћрЃЉрЃў:** рЃњрЃћрЃюрЃћрЃарЃўрЃарЃћрЃЉрЃБрЃџрЃў рЃЎрЃЮрЃЊрЃў рЃАрЃарЃБрЃџрЃљрЃЊ рЃўрЃфрЃљрЃЋрЃА рЃцрЃарЃћрЃўрЃЏрЃЋрЃЮрЃарЃЦрЃўрЃА рЃЊрЃљрЃАрЃљрЃ«рЃћрЃџрЃћрЃЉрЃўрЃА, рЃАрЃбрЃарЃБрЃЦрЃбрЃБрЃарЃўрЃА рЃЊрЃљ рЃЊрЃЮрЃЎрЃБрЃЏрЃћрЃюрЃбрЃўрЃарЃћрЃЉрЃўрЃА рЃЎрЃЮрЃюрЃЋрЃћрЃюрЃфрЃўрЃћрЃЉрЃА.
- **рЃарЃћрЃАрЃБрЃарЃАрЃћрЃЉрЃўрЃА рЃЏрЃљрЃарЃЌрЃЋрЃљ:** рЃњрЃћрЃюрЃћрЃарЃўрЃарЃћрЃЉрЃБрЃџрЃў `deinit` рЃцрЃБрЃюрЃЦрЃфрЃўрЃљ рЃБрЃЎрЃЋрЃћ рЃерЃћрЃўрЃфрЃљрЃЋрЃА рЃарЃћрЃАрЃБрЃарЃАрЃћрЃЉрЃўрЃА (рЃбрЃљрЃАрЃЎрЃў, рЃАрЃћрЃарЃЋрЃўрЃАрЃў, рЃўрЃЋрЃћрЃюрЃЌрЃўрЃА рЃњрЃљрЃЏрЃЮрЃгрЃћрЃарЃљ) рЃњрЃљрЃЌрЃљрЃЋрЃўрЃАрЃБрЃцрЃџрЃћрЃЉрЃўрЃА рЃАрЃгрЃЮрЃа рЃџрЃЮрЃњрЃўрЃЎрЃљрЃА.

---

## ­Ъј» рЃерЃћрЃ»рЃљрЃЏрЃћрЃЉрЃљ

**`create_module.py` v2.1** рЃљрЃарЃўрЃА **рЃАрЃгрЃарЃљрЃцрЃў, рЃБрЃАрЃљрЃцрЃарЃЌрЃ«рЃЮ рЃЊрЃљ "рЃГрЃЎрЃЋрЃўрЃљрЃюрЃў"** рЃњрЃќрЃљ Synapse Framework-рЃўрЃА рЃЏрЃЮрЃЊрЃБрЃџрЃћрЃЉрЃўрЃА рЃерЃћрЃАрЃљрЃЦрЃЏрЃюрЃћрЃџрЃљрЃЊ. рЃўрЃА:

РюЁ **рЃљрЃЕрЃЦрЃљрЃарЃћрЃЉрЃА рЃЊрЃћрЃЋрЃћрЃџрЃЮрЃърЃЏрЃћрЃюрЃбрЃА** рЃарЃљрЃЊрЃўрЃЎрЃљрЃџрЃБрЃарЃљрЃЊ.  
РюЁ **рЃњрЃљрЃЏрЃЮрЃарЃўрЃфрЃ«рЃљрЃЋрЃА рЃерЃћрЃфрЃЊрЃЮрЃЏрЃћрЃЉрЃА** рЃљрЃарЃЦрЃўрЃбрЃћрЃЦрЃбрЃБрЃарЃўрЃА рЃљрЃарЃфрЃЮрЃЊрЃюрЃўрЃЌ.  
РюЁ **рЃБрЃќрЃарЃБрЃюрЃЋрЃћрЃџрЃДрЃЮрЃцрЃА рЃЎрЃЮрЃюрЃАрЃўрЃАрЃбрЃћрЃюрЃбрЃБрЃарЃЮрЃЉрЃљрЃА** рЃДрЃЋрЃћрЃџрЃљ рЃЏрЃЮрЃЊрЃБрЃџрЃА рЃерЃЮрЃарЃўрЃА.

**рЃњрЃљрЃЏрЃЮрЃўрЃДрЃћрЃюрЃћрЃЌ рЃўрЃА рЃДрЃЮрЃЋрЃћрЃџрЃЌрЃЋрЃўрЃА**, рЃарЃЮрЃЊрЃћрЃАрЃљрЃф рЃўрЃгрЃДрЃћрЃЉрЃЌ рЃљрЃ«рЃљрЃџ рЃЏрЃЮрЃЊрЃБрЃџрЃќрЃћ рЃЏрЃБрЃерЃљрЃЮрЃЉрЃљрЃА! ­Ъџђ
