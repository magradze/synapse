<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Synapse ESP Framework: Logging-ის სტანდარტები</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript" src="darkmode_toggle.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Synapse ESP Framework
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('md_docs_2convention_2logging__standards.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Logging-ის სტანდარტები</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md841"></a> </p>
<h1><a class="anchor" id="autotoc_md842"></a>
Component Tag Definition</h1>
<h2><a class="anchor" id="autotoc_md843"></a>
სტანდარტული ფორმატი</h2>
<div class="fragment"><div class="line"><span class="comment">// ყოველ მოდულში</span></div>
<div class="line"><a class="code hl_define" href="logging_8h.html#a7ece332eb67f0652fb4b9af20392c0f9">DEFINE_COMPONENT_TAG</a>(<span class="stringliteral">&quot;MODULE_NAME&quot;</span>);</div>
<div class="ttc" id="alogging_8h_html_a7ece332eb67f0652fb4b9af20392c0f9"><div class="ttname"><a href="logging_8h.html#a7ece332eb67f0652fb4b9af20392c0f9">DEFINE_COMPONENT_TAG</a></div><div class="ttdeci">#define DEFINE_COMPONENT_TAG(component_name)</div><div class="ttdoc">განსაზღვრავს ლოკალურ, სტატიკურ TAG ცვლადს ლოგირებისთვის.</div><div class="ttdef"><b>Definition</b> logging.h:41</div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md844"></a>
მაგალითები</h2>
<div class="fragment"><div class="line"><span class="comment">// Display modules</span></div>
<div class="line"><a class="code hl_define" href="logging_8h.html#a7ece332eb67f0652fb4b9af20392c0f9">DEFINE_COMPONENT_TAG</a>(<span class="stringliteral">&quot;SSD1306_MODULE&quot;</span>);</div>
<div class="line"><a class="code hl_define" href="logging_8h.html#a7ece332eb67f0652fb4b9af20392c0f9">DEFINE_COMPONENT_TAG</a>(<span class="stringliteral">&quot;LCD1602_MODULE&quot;</span>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Communication modules  </span></div>
<div class="line"><a class="code hl_define" href="logging_8h.html#a7ece332eb67f0652fb4b9af20392c0f9">DEFINE_COMPONENT_TAG</a>(<span class="stringliteral">&quot;MQTT_MODULE&quot;</span>);</div>
<div class="line"><a class="code hl_define" href="logging_8h.html#a7ece332eb67f0652fb4b9af20392c0f9">DEFINE_COMPONENT_TAG</a>(<span class="stringliteral">&quot;WIFI_MODULE&quot;</span>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Sensor modules</span></div>
<div class="line"><a class="code hl_define" href="logging_8h.html#a7ece332eb67f0652fb4b9af20392c0f9">DEFINE_COMPONENT_TAG</a>(<span class="stringliteral">&quot;DHT22_MODULE&quot;</span>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Core components</span></div>
<div class="line"><a class="code hl_define" href="logging_8h.html#a7ece332eb67f0652fb4b9af20392c0f9">DEFINE_COMPONENT_TAG</a>(<span class="stringliteral">&quot;SERVICE_LOCATOR&quot;</span>);</div>
<div class="line"><a class="code hl_define" href="logging_8h.html#a7ece332eb67f0652fb4b9af20392c0f9">DEFINE_COMPONENT_TAG</a>(<span class="stringliteral">&quot;EVENT_BUS&quot;</span>);</div>
<div class="line"><a class="code hl_define" href="logging_8h.html#a7ece332eb67f0652fb4b9af20392c0f9">DEFINE_COMPONENT_TAG</a>(<span class="stringliteral">&quot;CONFIG_MANAGER&quot;</span>);</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md845"></a>
Log Levels</h1>
<h2><a class="anchor" id="autotoc_md846"></a>
1. ESP_LOGE - Error Level</h2>
<p><b>გამოიყენება:</b> კრიტიკული შეცდომებისთვის რომლებიც აფერხებენ ნორმალურ მუშაობას</p>
<div class="fragment"><div class="line">ESP_LOGE(TAG, <span class="stringliteral">&quot;Failed to initialize hardware: %s&quot;</span>, esp_err_to_name(operation_result));</div>
<div class="line">ESP_LOGE(TAG, <span class="stringliteral">&quot;Module creation failed for &#39;%s&#39;: %s&quot;</span>, module_instance_name, esp_err_to_name(operation_result));</div>
<div class="line">ESP_LOGE(TAG, <span class="stringliteral">&quot;Critical resource allocation failed: %s&quot;</span>, esp_err_to_name(operation_result));</div>
<div class="line">ESP_LOGE(TAG, <span class="stringliteral">&quot;I2C communication error - addr: 0x%02X, error: %s&quot;</span>, device_address, esp_err_to_name(operation_result));</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md847"></a>
2. ESP_LOGW - Warning Level</h2>
<p><b>გამოიყენება:</b> გაფრთხილებებისთვის, default values-ისთვის, non-critical issues-ისთვის</p>
<div class="fragment"><div class="line">ESP_LOGW(TAG, <span class="stringliteral">&quot;Configuration key &#39;%s&#39; not found, using default: %d&quot;</span>, config_key, default_value);</div>
<div class="line">ESP_LOGW(TAG, <span class="stringliteral">&quot;Service &#39;%s&#39; not available, operation skipped&quot;</span>, service_name);</div>
<div class="line">ESP_LOGW(TAG, <span class="stringliteral">&quot;Retry attempt %d/%d failed: %s&quot;</span>, attempt_number, max_attempts, esp_err_to_name(operation_result));</div>
<div class="line">ESP_LOGW(TAG, <span class="stringliteral">&quot;Display already disabled, ignoring disable command&quot;</span>);</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md848"></a>
3. ESP_LOGI - Info Level</h2>
<p><b>გამოიყენება:</b> მნიშვნელოვანი events-ისთვის, lifecycle changes-ისთვის, status updates-ისთვის</p>
<div class="fragment"><div class="line">ESP_LOGI(TAG, <span class="stringliteral">&quot;Module &#39;%s&#39; created successfully&quot;</span>, module_instance_name);</div>
<div class="line">ESP_LOGI(TAG, <span class="stringliteral">&quot;Service registered: %s (type: %s)&quot;</span>, service_name, service_type);</div>
<div class="line">ESP_LOGI(TAG, <span class="stringliteral">&quot;Display enabled - resolution: %dx%d&quot;</span>, display_width, display_height);</div>
<div class="line">ESP_LOGI(TAG, <span class="stringliteral">&quot;MQTT connected to broker: %s&quot;</span>, broker_url);</div>
<div class="line">ESP_LOGI(TAG, <span class="stringliteral">&quot;Sensor reading: temp=%.1f°C, hum=%.1f%%&quot;</span>, temperature_celsius, humidity_percent);</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md849"></a>
4. ESP_LOGD - Debug Level</h2>
<p><b>გამოიყენება:</b> debugging information-ისთვის, detailed operation tracking-ისთვის</p>
<div class="fragment"><div class="line">ESP_LOGD(TAG, <span class="stringliteral">&quot;Processing command: action=&#39;%s&#39;, target=&#39;%s&#39;&quot;</span>, command_action, command_target);</div>
<div class="line">ESP_LOGD(TAG, <span class="stringliteral">&quot;Event received: id=%ld, data_size=%d&quot;</span>, event_id, event_data_size);</div>
<div class="line">ESP_LOGD(TAG, <span class="stringliteral">&quot;Task state changed: %s -&gt; %s&quot;</span>, task_previous_state, task_current_state);</div>
<div class="line">ESP_LOGD(TAG, <span class="stringliteral">&quot;Queue status: used=%d, free=%d&quot;</span>, used_queue_slots, free_queue_slots);</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md850"></a>
5. ESP_LOGV - Verbose Level</h2>
<p><b>გამოიყენება:</b> ძალიან დეტალური debugging-ისთვის, internal state tracking-ისთვის</p>
<div class="fragment"><div class="line">ESP_LOGV(TAG, <span class="stringliteral">&quot;Internal buffer updated: size=%d, checksum=0x%08X&quot;</span>, buffer_size, buffer_checksum);</div>
<div class="line">ESP_LOGV(TAG, <span class="stringliteral">&quot;Memory allocation: ptr=%p, size=%d&quot;</span>, memory_pointer, memory_size);</div>
<div class="line">ESP_LOGV(TAG, <span class="stringliteral">&quot;Timer callback executed: interval=%lu ms&quot;</span>, timer_interval_ms);</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md851"></a>
Logging Patterns</h1>
<h2><a class="anchor" id="autotoc_md852"></a>
1. Module Lifecycle Logging</h2>
<div class="fragment"><div class="line"><a class="code hl_struct" href="structmodule__t.html">module_t</a> *ssd1306_module_create(<span class="keyword">const</span> cJSON *config) {</div>
<div class="line">    ESP_LOGI(TAG, <span class="stringliteral">&quot;Creating SSD1306 module...&quot;</span>);</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// ... module creation logic ...</span></div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">if</span> (operation_result != ESP_OK) {</div>
<div class="line">        ESP_LOGE(TAG, <span class="stringliteral">&quot;Failed to create SSD1306 module: %s&quot;</span>, esp_err_to_name(operation_result));</div>
<div class="line">        <span class="keywordflow">return</span> NULL;</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    ESP_LOGI(TAG, <span class="stringliteral">&quot;SSD1306 module &#39;%s&#39; created successfully&quot;</span>, module_instance_name);</div>
<div class="line">    <span class="keywordflow">return</span> <span class="keyword">module</span>;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> esp_err_t ssd1306_init(<a class="code hl_struct" href="structmodule__t.html">module_t</a> *module) {</div>
<div class="line">    ESP_LOGI(TAG, <span class="stringliteral">&quot;Initializing SSD1306 module...&quot;</span>);</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// ... initialization logic ...</span></div>
<div class="line">    </div>
<div class="line">    ESP_LOGI(TAG, <span class="stringliteral">&quot;SSD1306 module initialized successfully&quot;</span>);</div>
<div class="line">    <span class="keywordflow">return</span> ESP_OK;</div>
<div class="line">}</div>
<div class="ttc" id="astructmodule__t_html"><div class="ttname"><a href="structmodule__t.html">module_t</a></div><div class="ttdoc">მოდულის ძირითადი სტრუქტურა, რომელიც განსაზღვრავს ფრეიმვორქის მოდულის კონტრაქტს.</div><div class="ttdef"><b>Definition</b> base_module.h:133</div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md853"></a>
2. Service Registration Logging</h2>
<div class="fragment"><div class="line"><span class="comment">// Service registration</span></div>
<div class="line">esp_err_t operation_result = <a class="code hl_function" href="service__locator_8h.html#ac224eef59c2b5a418e8d19f89d895ba1">fmw_service_register</a>(module_instance_name, <span class="stringliteral">&quot;display_api&quot;</span>, &amp;ssd1306_service_api);</div>
<div class="line"><span class="keywordflow">if</span> (operation_result != ESP_OK) {</div>
<div class="line">    ESP_LOGE(TAG, <span class="stringliteral">&quot;Failed to register service &#39;%s&#39;: %s&quot;</span>, module_instance_name, esp_err_to_name(operation_result));</div>
<div class="line">    <span class="keywordflow">return</span> operation_result;</div>
<div class="line">}</div>
<div class="line">ESP_LOGI(TAG, <span class="stringliteral">&quot;Service registered: %s (type: display_api)&quot;</span>, module_instance_name);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Service usage</span></div>
<div class="line"><a class="code hl_typedef" href="service__locator_8h.html#a22cfccb1af1e87fc6ab4e00a5640f047">service_handle_t</a> service_handle = <a class="code hl_function" href="service__locator_8h.html#aa1b2b027ce8a0dfecde7324ecf6e63bc">fmw_service_get</a>(module_instance_name);</div>
<div class="line"><span class="keywordflow">if</span> (!service_handle) {</div>
<div class="line">    ESP_LOGW(TAG, <span class="stringliteral">&quot;Service &#39;%s&#39; not found&quot;</span>, module_instance_name);</div>
<div class="line">    <span class="keywordflow">return</span> ESP_ERR_NOT_FOUND;</div>
<div class="line">}</div>
<div class="line">ESP_LOGD(TAG, <span class="stringliteral">&quot;Using service: %s&quot;</span>, module_instance_name);</div>
<div class="ttc" id="aservice__locator_8h_html_a22cfccb1af1e87fc6ab4e00a5640f047"><div class="ttname"><a href="service__locator_8h.html#a22cfccb1af1e87fc6ab4e00a5640f047">service_handle_t</a></div><div class="ttdeci">void * service_handle_t</div><div class="ttdoc">გენერიკული ტიპი, რომელიც წარმოადგენს რეგისტრირებული სერვისის ჰენდლს</div><div class="ttdef"><b>Definition</b> service_locator.h:31</div></div>
<div class="ttc" id="aservice__locator_8h_html_aa1b2b027ce8a0dfecde7324ecf6e63bc"><div class="ttname"><a href="service__locator_8h.html#aa1b2b027ce8a0dfecde7324ecf6e63bc">fmw_service_get</a></div><div class="ttdeci">service_handle_t fmw_service_get(const char *service_name)</div><div class="ttdoc">აბრუნებს რეგისტრირებულ სერვისს სახელით</div><div class="ttdef"><b>Definition</b> service_locator.c:179</div></div>
<div class="ttc" id="aservice__locator_8h_html_ac224eef59c2b5a418e8d19f89d895ba1"><div class="ttname"><a href="service__locator_8h.html#ac224eef59c2b5a418e8d19f89d895ba1">fmw_service_register</a></div><div class="ttdeci">esp_err_t fmw_service_register(const char *service_name, fmw_service_type_t service_type, service_handle_t service_handle)</div><div class="ttdoc">ახალი სერვისის რეგისტრაცია უნიკალური სახელით და ტიპით.</div><div class="ttdef"><b>Definition</b> service_locator.c:85</div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md854"></a>
3. Configuration Parsing Logging</h2>
<div class="fragment"><div class="line"><span class="keyword">static</span> esp_err_t parse_ssd1306_config(<span class="keyword">const</span> cJSON *config, ssd1306_private_data_t *ssd1306_data) {</div>
<div class="line">    ESP_LOGD(TAG, <span class="stringliteral">&quot;Parsing SSD1306 configuration...&quot;</span>);</div>
<div class="line">    </div>
<div class="line">    cJSON *width = cJSON_GetObjectItem(config, <span class="stringliteral">&quot;width&quot;</span>);</div>
<div class="line">    <span class="keywordflow">if</span> (cJSON_IsNumber(width)) {</div>
<div class="line">        ssd1306_data-&gt;display_width = width-&gt;valueint;</div>
<div class="line">        ESP_LOGD(TAG, <span class="stringliteral">&quot;Display width: %d&quot;</span>, ssd1306_data-&gt;display_width);</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        ssd1306_data-&gt;display_width = DEFAULT_WIDTH;</div>
<div class="line">        ESP_LOGW(TAG, <span class="stringliteral">&quot;Width not specified, using default: %d&quot;</span>, DEFAULT_WIDTH);</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    ESP_LOGI(TAG, <span class="stringliteral">&quot;Configuration parsed - display: %dx%d&quot;</span>, ssd1306_data-&gt;display_width, ssd1306_data-&gt;display_height);</div>
<div class="line">    <span class="keywordflow">return</span> ESP_OK;</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md855"></a>
4. Hardware Operation Logging</h2>
<div class="fragment"><div class="line"><span class="keyword">static</span> esp_err_t ssd1306_clear_display(ssd1306_private_data_t *ssd1306_data) {</div>
<div class="line">    ESP_LOGD(TAG, <span class="stringliteral">&quot;Clearing display buffer...&quot;</span>);</div>
<div class="line">    </div>
<div class="line">    memset(ssd1306_data-&gt;display_buffer, 0, ssd1306_data-&gt;buffer_size);</div>
<div class="line">    </div>
<div class="line">    esp_err_t operation_result = write_display_buffer(ssd1306_data);</div>
<div class="line">    <span class="keywordflow">if</span> (operation_result != ESP_OK) {</div>
<div class="line">        ESP_LOGE(TAG, <span class="stringliteral">&quot;Failed to clear display: %s&quot;</span>, esp_err_to_name(operation_result));</div>
<div class="line">        <span class="keywordflow">return</span> operation_result;</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    ESP_LOGD(TAG, <span class="stringliteral">&quot;Display cleared successfully&quot;</span>);</div>
<div class="line">    <span class="keywordflow">return</span> ESP_OK;</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md856"></a>
5. Event Handling Logging</h2>
<div class="fragment"><div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> mqtt_handle_event(<a class="code hl_struct" href="structmodule__t.html">module_t</a> *module, int32_t event_id, <span class="keywordtype">void</span> *event_data) {</div>
<div class="line">    ESP_LOGD(TAG, <span class="stringliteral">&quot;Received event: id=%ld&quot;</span>, event_id);</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">switch</span> (event_id) {</div>
<div class="line">        <span class="keywordflow">case</span> TELEMETRY_EVENT_SENSOR_DATA:</div>
<div class="line">            ESP_LOGD(TAG, <span class="stringliteral">&quot;Processing sensor data event&quot;</span>);</div>
<div class="line">            handle_sensor_data(module, (telemetry_data_t *)event_data);</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">            </div>
<div class="line">        <span class="keywordflow">default</span>:</div>
<div class="line">            ESP_LOGV(TAG, <span class="stringliteral">&quot;Unhandled event: id=%ld&quot;</span>, event_id);</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md857"></a>
6. Error Context Logging</h2>
<div class="fragment"><div class="line"><span class="comment">// Hardware errors with context</span></div>
<div class="line">ESP_LOGE(TAG, <span class="stringliteral">&quot;I2C write failed - device: 0x%02X, register: 0x%02X, length: %d, error: %s&quot;</span>, </div>
<div class="line">         device_address, register_address, data_length, esp_err_to_name(operation_result));</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Configuration errors with context</span></div>
<div class="line">ESP_LOGE(TAG, <span class="stringliteral">&quot;Invalid configuration value - key: &#39;%s&#39;, value: %d, valid_range: %d-%d&quot;</span>, </div>
<div class="line">         config_key, invalid_value, min_value, max_value);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Service errors with context</span></div>
<div class="line">ESP_LOGE(TAG, <span class="stringliteral">&quot;Service operation failed - service: &#39;%s&#39;, operation: &#39;%s&#39;, error: %s&quot;</span>, </div>
<div class="line">         service_name, operation_name, esp_err_to_name(operation_result));</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md858"></a>
Runtime State Logging</h1>
<h2><a class="anchor" id="autotoc_md859"></a>
1. Module Enable/Disable</h2>
<div class="fragment"><div class="line"><span class="keyword">static</span> esp_err_t ssd1306_enable(<a class="code hl_struct" href="structmodule__t.html">module_t</a> *module) {</div>
<div class="line">    ssd1306_private_data_t *ssd1306_data = (ssd1306_private_data_t *)module-&gt;<a class="code hl_variable" href="structmodule__t.html#a2e4e556e94d9d5402250b0524a7c0196">private_data</a>;</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">if</span> (!ssd1306_data-&gt;task_suspended) {</div>
<div class="line">        ESP_LOGW(TAG, <span class="stringliteral">&quot;Module &#39;%s&#39; already enabled&quot;</span>, ssd1306_data-&gt;module_instance_name);</div>
<div class="line">        <span class="keywordflow">return</span> ESP_OK;</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    ESP_LOGI(TAG, <span class="stringliteral">&quot;Enabling module &#39;%s&#39;...&quot;</span>, ssd1306_data-&gt;module_instance_name);</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// ... enable logic ...</span></div>
<div class="line">    </div>
<div class="line">    ESP_LOGI(TAG, <span class="stringliteral">&quot;Module &#39;%s&#39; enabled successfully&quot;</span>, ssd1306_data-&gt;module_instance_name);</div>
<div class="line">    <span class="keywordflow">return</span> ESP_OK;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> esp_err_t ssd1306_disable(<a class="code hl_struct" href="structmodule__t.html">module_t</a> *module) {</div>
<div class="line">    ssd1306_private_data_t *ssd1306_data = (ssd1306_private_data_t *)module-&gt;<a class="code hl_variable" href="structmodule__t.html#a2e4e556e94d9d5402250b0524a7c0196">private_data</a>;</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">if</span> (ssd1306_data-&gt;task_suspended) {</div>
<div class="line">        ESP_LOGW(TAG, <span class="stringliteral">&quot;Module &#39;%s&#39; already disabled&quot;</span>, ssd1306_data-&gt;module_instance_name);</div>
<div class="line">        <span class="keywordflow">return</span> ESP_OK;</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    ESP_LOGI(TAG, <span class="stringliteral">&quot;Disabling module &#39;%s&#39;...&quot;</span>, ssd1306_data-&gt;module_instance_name);</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// ... disable logic ...</span></div>
<div class="line">    </div>
<div class="line">    ESP_LOGI(TAG, <span class="stringliteral">&quot;Module &#39;%s&#39; disabled successfully&quot;</span>, ssd1306_data-&gt;module_instance_name);</div>
<div class="line">    <span class="keywordflow">return</span> ESP_OK;</div>
<div class="line">}</div>
<div class="ttc" id="astructmodule__t_html_a2e4e556e94d9d5402250b0524a7c0196"><div class="ttname"><a href="structmodule__t.html#a2e4e556e94d9d5402250b0524a7c0196">module_t::private_data</a></div><div class="ttdeci">void * private_data</div><div class="ttdoc">მაჩვენებელი მოდულის შიდა მონაცემებზე.</div><div class="ttdef"><b>Definition</b> base_module.h:157</div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md860"></a>
2. Task State Changes</h2>
<div class="fragment"><div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> ssd1306_task(<span class="keywordtype">void</span> *pvParameters) {</div>
<div class="line">    ssd1306_private_data_t *ssd1306_data = (ssd1306_private_data_t *)pvParameters;</div>
<div class="line">    ESP_LOGI(TAG, <span class="stringliteral">&quot;Display task started for &#39;%s&#39;&quot;</span>, ssd1306_data-&gt;module_instance_name);</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">while</span> (1) {</div>
<div class="line">        <span class="keywordflow">if</span> (ssd1306_data-&gt;task_suspended) {</div>
<div class="line">            ESP_LOGD(TAG, <span class="stringliteral">&quot;Task suspended, waiting for resume...&quot;</span>);</div>
<div class="line">            vTaskSuspend(NULL);</div>
<div class="line">            ESP_LOGD(TAG, <span class="stringliteral">&quot;Task resumed&quot;</span>);</div>
<div class="line">        }</div>
<div class="line">        </div>
<div class="line">        <span class="comment">// ... task logic ...</span></div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md861"></a>
Performance Logging</h1>
<h2><a class="anchor" id="autotoc_md862"></a>
1. Operation Timing</h2>
<div class="fragment"><div class="line"><span class="keyword">static</span> esp_err_t perform_heavy_operation(<span class="keywordtype">void</span>) {</div>
<div class="line">    int64_t operation_start_time_us = esp_timer_get_time();</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// ... heavy operation ...</span></div>
<div class="line">    </div>
<div class="line">    int64_t operation_end_time_us = esp_timer_get_time();</div>
<div class="line">    int64_t operation_duration_us = operation_end_time_us - operation_start_time_us;</div>
<div class="line">    </div>
<div class="line">    ESP_LOGD(TAG, <span class="stringliteral">&quot;Heavy operation completed in %lld μs&quot;</span>, operation_duration_us);</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">if</span> (operation_duration_us &gt; PERFORMANCE_WARNING_THRESHOLD_US) {</div>
<div class="line">        ESP_LOGW(TAG, <span class="stringliteral">&quot;Operation took longer than expected: %lld μs (threshold: %d μs)&quot;</span>, </div>
<div class="line">                 operation_duration_us, PERFORMANCE_WARNING_THRESHOLD_US);</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span> ESP_OK;</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md863"></a>
2. Memory Usage</h2>
<div class="fragment"><div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> log_memory_usage(<span class="keyword">const</span> <span class="keywordtype">char</span> *operation_name) {</div>
<div class="line">    <span class="keywordtype">size_t</span> free_heap_bytes = esp_get_free_heap_size();</div>
<div class="line">    <span class="keywordtype">size_t</span> min_free_heap_bytes = esp_get_minimum_free_heap_size();</div>
<div class="line">    </div>
<div class="line">    ESP_LOGD(TAG, <span class="stringliteral">&quot;Memory after %s - free: %d bytes, min_free: %d bytes&quot;</span>, </div>
<div class="line">             operation_name, free_heap_bytes, min_free_heap_bytes);</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">if</span> (free_heap_bytes &lt; MEMORY_WARNING_THRESHOLD) {</div>
<div class="line">        ESP_LOGW(TAG, <span class="stringliteral">&quot;Low memory warning - free: %d bytes (threshold: %d bytes)&quot;</span>, </div>
<div class="line">                 free_heap_bytes, MEMORY_WARNING_THRESHOLD);</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md864"></a>
Log Message Format Standards</h1>
<h2><a class="anchor" id="autotoc_md865"></a>
1. Consistent Formatting</h2>
<div class="fragment"><div class="line">ESP_LOGI(TAG, <span class="stringliteral">&quot;Module created: name=&#39;%s&#39;, type=&#39;%s&#39;&quot;</span>, module_instance_name, module_type);</div>
<div class="line">ESP_LOGE(TAG, <span class="stringliteral">&quot;Operation failed: %s (code: 0x%X)&quot;</span>, esp_err_to_name(operation_result), operation_result);</div>
<div class="line">ESP_LOGD(TAG, <span class="stringliteral">&quot;Processing data: size=%d, checksum=0x%08X&quot;</span>, data_size, data_checksum);</div>
<div class="line">ESP_LOGW(TAG, <span class="stringliteral">&quot;Configuration missing: key=&#39;%s&#39;, using_default=%d&quot;</span>, config_key, using_default_value);</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md866"></a>
2. Parameter Naming</h2>
<div class="fragment"><div class="line">ESP_LOGI(TAG, <span class="stringliteral">&quot;Display initialized: width=%d, height=%d, address=0x%02X&quot;</span>, display_width, display_height, device_address);</div>
<div class="line">ESP_LOGE(TAG, <span class="stringliteral">&quot;Sensor read failed: pin=%d, attempts=%d, last_error=%s&quot;</span>, sensor_pin, read_attempts, last_error_message);</div>
<div class="line">ESP_LOGD(TAG, <span class="stringliteral">&quot;Queue operation: action=&#39;%s&#39;, items_count=%d, max_size=%d&quot;</span>, queue_action, queue_items_count, queue_max_size);</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md867"></a>
აკრძალული პრაქტიკები</h1>
<p>❌ <b>არ გავაკეთოთ:</b></p>
<div class="fragment"><div class="line"><span class="comment">// Don&#39;t use static const char *TAG</span></div>
<div class="line"><span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *TAG = <span class="stringliteral">&quot;SSD1306&quot;</span>;  <span class="comment">// Use DEFINE_COMPONENT_TAG instead</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Don&#39;t use cryptic messages</span></div>
<div class="line">ESP_LOGI(TAG, <span class="stringliteral">&quot;OK&quot;</span>);  <span class="comment">// Not descriptive</span></div>
<div class="line">ESP_LOGE(TAG, <span class="stringliteral">&quot;Error: %d&quot;</span>, operation_result);  <span class="comment">// Use esp_err_to_name()</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Don&#39;t log without context</span></div>
<div class="line">ESP_LOGE(TAG, <span class="stringliteral">&quot;Failed&quot;</span>);  <span class="comment">// What failed?</span></div>
<div class="line">ESP_LOGW(TAG, <span class="stringliteral">&quot;Using default&quot;</span>);  <span class="comment">// Default for what?</span></div>
</div><!-- fragment --><p>✅ <b>ყოველთვის გავაკეთოთ:</b></p>
<div class="fragment"><div class="line"><span class="comment">// Use DEFINE_COMPONENT_TAG</span></div>
<div class="line"><a class="code hl_define" href="logging_8h.html#a7ece332eb67f0652fb4b9af20392c0f9">DEFINE_COMPONENT_TAG</a>(<span class="stringliteral">&quot;SSD1306_MODULE&quot;</span>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Use descriptive messages with context</span></div>
<div class="line">ESP_LOGI(TAG, <span class="stringliteral">&quot;Display initialization completed successfully&quot;</span>);</div>
<div class="line">ESP_LOGE(TAG, <span class="stringliteral">&quot;Hardware initialization failed: %s&quot;</span>, esp_err_to_name(operation_result));</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Provide relevant context</span></div>
<div class="line">ESP_LOGE(TAG, <span class="stringliteral">&quot;I2C write failed for display at address 0x%02X: %s&quot;</span>, device_address, esp_err_to_name(operation_result));</div>
<div class="line">ESP_LOGW(TAG, <span class="stringliteral">&quot;Display width not configured, using default: %d pixels&quot;</span>, DEFAULT_WIDTH);</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md868"></a>
შეჯამება</h1>
<ol type="1">
<li><b>ყოველთვის</b> გამოვიყენოთ <code>DEFINE_COMPONENT_TAG("MODULE_NAME")</code></li>
<li><b>სწორი log level</b> შესაბამისი შინაარსისთვის</li>
<li><b>კონტექსტი</b> ყველა log message-ში</li>
<li><b>esp_err_to_name()</b> error codes-ისთვის</li>
<li><b>Consistent formatting</b> ყველა log message-ში</li>
<li><b>Performance</b> და <b>memory</b> logging critical operations-ისთვის </li>
</ol>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
