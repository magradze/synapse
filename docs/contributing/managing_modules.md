# рЃЏрЃЮрЃЊрЃБрЃџрЃћрЃЉрЃўрЃА рЃЏрЃљрЃарЃЌрЃЋрЃљ Git Submodule-рЃўрЃА рЃАрЃљрЃерЃБрЃљрЃџрЃћрЃЉрЃўрЃЌ

## 1. ­ЪЈЏ№ИЈ рЃљрЃарЃЦрЃўрЃбрЃћрЃЦрЃбрЃБрЃарЃБрЃџрЃў рЃърЃарЃўрЃюрЃфрЃўрЃърЃў

Synapse Framework-рЃўрЃА рЃљрЃарЃЦрЃўрЃбрЃћрЃЦрЃбрЃБрЃарЃљ рЃћрЃцрЃБрЃФрЃюрЃћрЃЉрЃљ **рЃЏрЃЮрЃЊрЃБрЃџрЃћрЃЉрЃўрЃА рЃАрЃарЃБрЃџ рЃЊрЃљрЃЏрЃЮрЃБрЃЎрЃўрЃЊрЃћрЃЉрЃџрЃЮрЃЉрЃљрЃА**. рЃљрЃЏрЃўрЃА рЃЏрЃўрЃАрЃљрЃдрЃгрЃћрЃЋрЃљрЃЊ, рЃЌрЃўрЃЌрЃЮрЃћрЃБрЃџрЃў рЃЏрЃЮрЃЊрЃБрЃџрЃў рЃўрЃюрЃљрЃ«рЃћрЃЉрЃљ рЃАрЃљрЃЎрЃБрЃЌрЃљрЃа, рЃфрЃљрЃџрЃЎрЃћ Git рЃарЃћрЃърЃЮрЃќрЃўрЃбрЃЮрЃарЃўрЃљрЃерЃў рЃЊрЃљ рЃЏрЃЌрЃљрЃЋрЃљрЃа рЃърЃарЃЮрЃћрЃЦрЃбрЃА (`synapse-esp`) рЃћрЃЏрЃљрЃбрЃћрЃЉрЃљ **Git Submodule**-рЃўрЃА рЃЏрЃћрЃЦрЃљрЃюрЃўрЃќрЃЏрЃўрЃЌ.

рЃћрЃА рЃЏрЃўрЃЊрЃњрЃЮрЃЏрЃљ рЃњрЃЋрЃљрЃФрЃџрЃћрЃЋрЃА рЃарЃљрЃЏрЃЊрЃћрЃюрЃўрЃЏрЃћ рЃБрЃЏрЃюрЃўрЃерЃЋрЃюрЃћрЃџрЃЮрЃЋрЃљрЃюрЃћрЃА рЃБрЃърЃўрЃарЃљрЃбрЃћрЃАрЃЮрЃЉрЃљрЃА:

- **рЃЊрЃљрЃЏрЃЮрЃБрЃЎрЃўрЃЊрЃћрЃЉрЃћрЃџрЃў рЃЋрЃћрЃарЃАрЃўрЃЮрЃюрЃўрЃарЃћрЃЉрЃљ:** рЃЌрЃўрЃЌрЃЮрЃћрЃБрЃџ рЃЏрЃЮрЃЊрЃБрЃџрЃА рЃљрЃЦрЃЋрЃА рЃАрЃљрЃЎрЃБрЃЌрЃљрЃарЃў рЃЋрЃћрЃарЃАрЃўрЃћрЃЉрЃўрЃА рЃўрЃАрЃбрЃЮрЃарЃўрЃљ.
- **рЃЎрЃЮрЃЊрЃўрЃА рЃњрЃљрЃЊрЃљрЃДрЃћрЃюрЃћрЃЉрЃљрЃЊрЃЮрЃЉрЃљ:** рЃћрЃарЃЌрЃў рЃЊрЃљ рЃўрЃњрЃўрЃЋрЃћ рЃЏрЃЮрЃЊрЃБрЃџрЃў рЃерЃћрЃўрЃФрЃџрЃћрЃЉрЃљ, рЃњрЃљрЃЏрЃЮрЃДрЃћрЃюрЃћрЃЉрЃБрЃџ рЃўрЃЦрЃюрЃљрЃА рЃЏрЃарЃљрЃЋрЃљрЃџ рЃАрЃ«рЃЋрЃљрЃЊрЃљрЃАрЃ«рЃЋрЃљ рЃърЃарЃЮрЃћрЃЦрЃбрЃерЃў.
- **рЃгрЃЋрЃЊрЃЮрЃЏрЃўрЃА рЃЎрЃЮрЃюрЃбрЃарЃЮрЃџрЃў:** рЃерЃћрЃАрЃљрЃФрЃџрЃћрЃЉрЃћрЃџрЃўрЃљ, рЃќрЃЮрЃњрЃўрЃћрЃарЃЌрЃў рЃЏрЃЮрЃЊрЃБрЃџрЃў рЃўрЃДрЃЮрЃА рЃърЃарЃўрЃЋрЃљрЃбрЃБрЃџрЃў, рЃќрЃЮрЃњрЃў рЃЎрЃў Рђћ рЃАрЃљрЃ»рЃљрЃарЃЮ.
- **рЃАрЃБрЃцрЃЌрЃљ рЃўрЃАрЃбрЃЮрЃарЃўрЃљ:** рЃЏрЃЌрЃљрЃЋрЃљрЃарЃў рЃърЃарЃЮрЃћрЃЦрЃбрЃўрЃА `git log` рЃљрЃа рЃўрЃбрЃЋрЃўрЃарЃЌрЃћрЃЉрЃљ рЃЏрЃЮрЃЊрЃБрЃџрЃћрЃЉрЃўрЃА рЃерЃўрЃЊрЃљ рЃфрЃЋрЃџрЃўрЃџрЃћрЃЉрЃћрЃЉрЃўрЃЌ.

## 2. ­Ъџђ рЃљрЃ«рЃљрЃџрЃў рЃЏрЃЮрЃЊрЃБрЃџрЃўрЃА рЃЊрЃљрЃЏрЃљрЃбрЃћрЃЉрЃљ

рЃърЃарЃЮрЃфрЃћрЃАрЃў рЃерЃћрЃЊрЃњрЃћрЃЉрЃљ рЃЮрЃарЃў рЃФрЃўрЃарЃўрЃЌрЃљрЃЊрЃў рЃћрЃбрЃљрЃърЃўрЃАрЃњрЃљрЃю:

### рЃћрЃбрЃљрЃърЃў 1: рЃЏрЃЮрЃЊрЃБрЃџрЃўрЃА рЃарЃћрЃърЃЮрЃќрЃўрЃбрЃЮрЃарЃўрЃўрЃА рЃЏрЃЮрЃЏрЃќрЃљрЃЊрЃћрЃЉрЃљ

рЃАрЃљрЃюрЃљрЃЏ рЃЏрЃЮрЃЊрЃБрЃџрЃА рЃЊрЃљрЃљрЃЏрЃљрЃбрЃћрЃЉрЃЌ, рЃЊрЃљрЃарЃгрЃЏрЃБрЃюрЃЊрЃўрЃЌ, рЃарЃЮрЃЏ рЃўрЃА рЃљрЃарЃАрЃћрЃЉрЃЮрЃЉрЃА рЃарЃЮрЃњрЃЮрЃарЃф рЃЊрЃљрЃЏрЃЮрЃБрЃЎрЃўрЃЊрЃћрЃЉрЃћрЃџрЃў Git рЃарЃћрЃърЃЮрЃќрЃўрЃбрЃЮрЃарЃўрЃљ (рЃЏрЃљрЃњ., GitHub-рЃќрЃћ) рЃЊрЃљ рЃЏрЃўрЃ░рЃДрЃЋрЃћрЃЉрЃљ Synapse-рЃўрЃА [рЃЏрЃЮрЃЊрЃБрЃџрЃўрЃА рЃАрЃбрЃарЃБрЃЦрЃбрЃБрЃарЃўрЃА рЃЎрЃЮрЃюрЃЋрЃћрЃюрЃфрЃўрЃљрЃА](../convention/module_structure.md).

### рЃћрЃбрЃљрЃърЃў 2: Submodule-рЃўрЃА рЃЊрЃљрЃЏрЃљрЃбрЃћрЃЉрЃљ рЃЏрЃЌрЃљрЃЋрЃљрЃа рЃърЃарЃЮрЃћрЃЦрЃбрЃерЃў

1. **рЃњрЃљрЃЊрЃљрЃЊрЃўрЃЌ рЃърЃарЃЮрЃћрЃЦрЃбрЃўрЃА root рЃЊрЃўрЃарЃћрЃЦрЃбрЃЮрЃарЃўрЃљрЃерЃў.**

2. **(рЃЌрЃБ рЃАрЃљрЃГрЃўрЃарЃЮрЃљ) рЃгрЃљрЃерЃљрЃџрЃћрЃЌ рЃљрЃарЃАрЃћрЃЉрЃБрЃџрЃў рЃџрЃЮрЃЎрЃљрЃџрЃБрЃарЃў рЃЋрЃћрЃарЃАрЃўрЃљ:**
    рЃЌрЃБ рЃЏрЃЮрЃЊрЃБрЃџрЃў рЃБрЃЎрЃЋрЃћ рЃљрЃарЃАрЃћрЃЉрЃЮрЃЉрЃА `components/modules/` рЃЊрЃўрЃарЃћрЃЦрЃбрЃЮрЃарЃўрЃљрЃерЃў, рЃарЃЮрЃњрЃЮрЃарЃф рЃЕрЃЋрЃћрЃБрЃџрЃћрЃЉрЃарЃўрЃЋрЃў рЃАрЃљрЃЦрЃљрЃдрЃљрЃџрЃЊрЃћ, рЃгрЃљрЃерЃљрЃџрЃћрЃЌ рЃўрЃА:

    ```bash
    rm -rf components/modules/{category}/{module_name}
    ```

3. **рЃЊрЃљрЃљрЃЏрЃљрЃбрЃћрЃЌ Submodule:**
    рЃњрЃљрЃЏрЃЮрЃўрЃДрЃћрЃюрЃћрЃЌ `git submodule add` рЃЉрЃарЃФрЃљрЃюрЃћрЃЉрЃљ. рЃЏрЃўрЃБрЃЌрЃўрЃЌрЃћрЃЌ рЃарЃћрЃърЃЮрЃќрЃўрЃбрЃЮрЃарЃўрЃўрЃА URL рЃЊрЃљ рЃџрЃЮрЃЎрЃљрЃџрЃБрЃарЃў рЃњрЃќрЃљ.

    ```bash
    git submodule add <repository_url> components/modules/{category}/{module_name}
    ```

    **рЃЏрЃљрЃњрЃљрЃџрЃўрЃЌрЃў:**

    ```bash
    git submodule add git@github.com:YourUsername/synapse_module_relay.git components/modules/actuators/relay_actuator
    ```

4. **рЃфрЃЋрЃџрЃўрЃџрЃћрЃЉрЃћрЃЉрЃўрЃА рЃЊрЃљрЃЎрЃЮрЃЏрЃўрЃбрЃћрЃЉрЃљ:**
    рЃћрЃА рЃЉрЃарЃФрЃљрЃюрЃћрЃЉрЃљ рЃЦрЃЏрЃюрЃўрЃА рЃЮрЃа рЃцрЃљрЃўрЃџрЃА: `.gitmodules` рЃЊрЃљ рЃљрЃ«рЃљрЃџ рЃЕрЃљрЃюрЃљрЃгрЃћрЃарЃА Git-рЃўрЃА рЃўрЃюрЃЊрЃћрЃЦрЃАрЃерЃў. рЃЊрЃљрЃљрЃЎрЃЮрЃЏрЃўрЃбрЃћрЃЌ рЃћрЃА рЃфрЃЋрЃџрЃўрЃџрЃћрЃЉрЃљ:

    ```bash
    git add .gitmodules components/modules/{category}/{module_name}
    git commit -m "feat(modules): Add {{module_name}} as a submodule"
    git push
    ```

### РџЎ№ИЈ Build рЃАрЃўрЃАрЃбрЃћрЃЏрЃљрЃАрЃЌрЃљрЃю рЃўрЃюрЃбрЃћрЃњрЃарЃљрЃфрЃўрЃљ

Synapse Framework-рЃўрЃА `CMake` build рЃАрЃўрЃАрЃбрЃћрЃЏрЃљ **рЃљрЃЋрЃбрЃЮрЃЏрЃљрЃбрЃБрЃарЃљрЃЊ** рЃљрЃдрЃЏрЃЮрЃљрЃЕрЃћрЃюрЃА `components/modules/` рЃЊрЃўрЃарЃћрЃЦрЃбрЃЮрЃарЃўрЃљрЃерЃў рЃљрЃарЃАрЃћрЃЉрЃБрЃџ рЃДрЃЋрЃћрЃџрЃљ рЃЏрЃЮрЃЊрЃБрЃџрЃА. рЃерЃћрЃАрЃљрЃЉрЃљрЃЏрЃўрЃАрЃљрЃЊ, `submodule`-рЃўрЃА рЃЊрЃљрЃЏрЃљрЃбрЃћрЃЉрЃўрЃА рЃерЃћрЃЏрЃЊрЃћрЃњ, **рЃљрЃарЃљрЃюрЃљрЃўрЃарЃў рЃЊрЃљрЃЏрЃљрЃбрЃћрЃЉрЃўрЃЌрЃў рЃЎрЃЮрЃюрЃцрЃўрЃњрЃБрЃарЃљрЃфрЃўрЃљ рЃАрЃљрЃГрЃўрЃарЃЮ рЃљрЃа рЃљрЃарЃўрЃА**. `idf.py menuconfig` рЃЊрЃљ `idf.py build` рЃЉрЃарЃФрЃљрЃюрЃћрЃЉрЃћрЃЉрЃў рЃЕрЃЋрЃћрЃБрЃџрЃћрЃЉрЃарЃўрЃЋрЃљрЃЊ рЃўрЃЏрЃБрЃерЃљрЃЋрЃћрЃЉрЃА.

## 3. ­Ъћё рЃърЃарЃЮрЃћрЃЦрЃбрЃўрЃА рЃЎрЃџрЃЮрЃюрЃўрЃарЃћрЃЉрЃљ Submodule-рЃћрЃЉрЃЌрЃљрЃю рЃћрЃарЃЌрЃљрЃЊ

рЃарЃЮрЃЊрЃћрЃАрЃљрЃф рЃърЃарЃЮрЃћрЃЦрЃбрЃА, рЃарЃЮрЃЏрЃћрЃџрЃўрЃф `submodule`-рЃћрЃЉрЃА рЃерЃћрЃўрЃфрЃљрЃЋрЃА, рЃљрЃ«рЃљрЃџ рЃЎрЃЮрЃЏрЃърЃўрЃБрЃбрЃћрЃарЃќрЃћ рЃЎрЃџрЃЮрЃюрЃљрЃЋрЃЌ, рЃњрЃљрЃЏрЃЮрЃўрЃДрЃћрЃюрЃћрЃЌ `--recurse-submodules` рЃцрЃџрЃљрЃњрЃў:

```bash
git clone --recurse-submodules <synapse_project_url>
```

рЃЌрЃБ рЃърЃарЃЮрЃћрЃЦрЃбрЃў рЃБрЃЎрЃЋрЃћ рЃЊрЃљрЃЎрЃџрЃЮрЃюрЃўрЃџрЃўрЃљ, рЃњрЃљрЃБрЃерЃЋрЃўрЃЌ:

```bash
git submodule update --init --recursive
```

## 4. ­ЪЊѕ Submodule-рЃўрЃА рЃњрЃљрЃюрЃљрЃ«рЃџрЃћрЃЉрЃљ

рЃарЃЮрЃЊрЃћрЃАрЃљрЃф рЃЏрЃЮрЃЊрЃБрЃџрЃўрЃА рЃАрЃљрЃЎрЃБрЃЌрЃљрЃа рЃарЃћрЃърЃЮрЃќрЃўрЃбрЃЮрЃарЃўрЃљрЃерЃў рЃфрЃЋрЃџрЃўрЃџрЃћрЃЉрЃљрЃА рЃерЃћрЃўрЃбрЃљрЃюрЃЌ рЃЊрЃљ рЃњрЃАрЃБрЃарЃЌ, рЃарЃЮрЃЏ рЃЏрЃЌрЃљрЃЋрЃљрЃарЃЏрЃљ рЃърЃарЃЮрЃћрЃЦрЃбрЃЏрЃљ рЃћрЃА рЃфрЃЋрЃџрЃўрЃџрЃћрЃЉрЃљ "рЃЊрЃљрЃўрЃюрЃљрЃ«рЃЮрЃА":

1. **рЃњрЃљрЃЊрЃљрЃЊрЃўрЃЌ submodule-рЃўрЃА рЃЊрЃўрЃарЃћрЃЦрЃбрЃЮрЃарЃўрЃљрЃерЃў:**

    ```bash
    cd components/modules/{category}/{module_name}
    ```

2. **рЃњрЃљрЃюрЃљрЃљрЃ«рЃџрЃћрЃЌ рЃЎрЃЮрЃЊрЃў (рЃЏрЃљрЃњ., `main` branch-рЃўрЃЊрЃљрЃю):**

    ```bash
    git pull origin main
    ```

3. **рЃЊрЃљрЃЉрЃарЃБрЃюрЃЊрЃўрЃЌ рЃЏрЃЌрЃљрЃЋрЃљрЃа рЃърЃарЃЮрЃћрЃЦрЃбрЃерЃў:**

    ```bash
    cd ../../../..
    ```

4. **рЃЊрЃљрЃљрЃЎрЃЮрЃЏрЃўрЃбрЃћрЃЌ submodule-рЃўрЃА рЃњрЃљрЃюрЃљрЃ«рЃџрЃћрЃЉрЃБрЃџрЃў рЃЋрЃћрЃарЃАрЃўрЃљ:**
    рЃЏрЃЌрЃљрЃЋрЃљрЃарЃў рЃарЃћрЃърЃЮрЃќрЃўрЃбрЃЮрЃарЃўрЃљ рЃљрЃ«рЃџрЃљ рЃ«рЃћрЃЊрЃљрЃЋрЃА, рЃарЃЮрЃЏ `submodule` рЃЏрЃўрЃБрЃЌрЃўрЃЌрЃћрЃЉрЃА рЃљрЃ«рЃљрЃџ `commit`-рЃќрЃћ.

    ```bash
    git add components/modules/{category}/{module_name}
    git commit -m "chore(modules): Update {{module_name}} to latest version"
    git push
    ```

## 5. ­ЪњА рЃЊрЃљрЃЏрЃљрЃбрЃћрЃЉрЃўрЃЌрЃў рЃарЃЕрЃћрЃЋрЃћрЃЉрЃў

- **VSCode:** рЃЌрЃБ рЃўрЃДрЃћрЃюрЃћрЃЉрЃЌ VSCode-рЃА, `Git` рЃњрЃљрЃцрЃљрЃарЃЌрЃЮрЃћрЃЉрЃљ, рЃарЃЮрЃњрЃЮрЃарЃф рЃгрЃћрЃАрЃў, рЃЎрЃљрЃарЃњрЃљрЃЊ рЃЏрЃБрЃерЃљрЃЮрЃЉрЃА `submodule`-рЃћрЃЉрЃЌрЃљрЃю рЃЊрЃљ рЃЋрЃўрЃќрЃБрЃљрЃџрЃБрЃарЃљрЃЊ рЃњрЃљрЃЕрЃЋрЃћрЃюрЃћрЃЉрЃЌ рЃфрЃЋрЃџрЃўрЃџрЃћрЃЉрЃћрЃЉрЃА.
- **CI/CD:** рЃЌрЃЦрЃЋрЃћрЃюрЃА CI/CD рЃАрЃЎрЃарЃўрЃърЃбрЃћрЃЉрЃерЃў (рЃЏрЃљрЃњ., GitHub Actions), рЃЊрЃљрЃарЃгрЃЏрЃБрЃюрЃЊрЃўрЃЌ, рЃарЃЮрЃЏ `checkout` рЃћрЃбрЃљрЃърЃќрЃћ рЃўрЃДрЃћрЃюрЃћрЃЉрЃЌ `--recurse-submodules` рЃцрЃџрЃљрЃњрЃА, рЃарЃљрЃЌрЃљ рЃДрЃЋрЃћрЃџрЃљ рЃЏрЃЮрЃЊрЃБрЃџрЃў рЃ«рЃћрЃџрЃЏрЃўрЃАрЃљрЃгрЃЋрЃЊрЃЮрЃЏрЃў рЃўрЃДрЃЮрЃА `build`-рЃўрЃАрЃЌрЃЋрЃўрЃА.
